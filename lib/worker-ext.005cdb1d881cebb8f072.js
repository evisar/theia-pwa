!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=53)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32);t.emptyPlugin={lifecycle:{startMethod:"empty",stopMethod:"empty"},model:{id:"emptyPlugin",name:"emptyPlugin",publisher:"Theia",version:"empty",displayName:"empty",description:"empty",engine:{type:"empty",version:"empty"},entryPoint:{}},pluginPath:"empty",pluginFolder:"empty",rawModel:{name:"emptyPlugin",publisher:"Theia",version:"empty",displayName:"empty",description:"empty",engines:{type:"empty",version:"empty"},packagePath:"empty"}};var i=function(){return function(){}}();t.TreeViewItem=i,function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(t.TreeViewItemCollapsibleState||(t.TreeViewItemCollapsibleState={})),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE"}(t.EditorPosition||(t.EditorPosition={})),function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={})),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={})),t.PLUGIN_RPC_CONTEXT={COMMAND_REGISTRY_MAIN:r.createProxyIdentifier("CommandRegistryMain"),QUICK_OPEN_MAIN:r.createProxyIdentifier("QuickOpenMain"),DIALOGS_MAIN:r.createProxyIdentifier("DialogsMain"),WORKSPACE_MAIN:r.createProxyIdentifier("WorkspaceMain"),MESSAGE_REGISTRY_MAIN:r.createProxyIdentifier("MessageRegistryMain"),TEXT_EDITORS_MAIN:r.createProxyIdentifier("TextEditorsMain"),DOCUMENTS_MAIN:r.createProxyIdentifier("DocumentsMain"),STATUS_BAR_MESSAGE_REGISTRY_MAIN:r.createProxyIdentifier("StatusBarMessageRegistryMain"),ENV_MAIN:r.createProxyIdentifier("EnvMain"),NOTIFICATION_MAIN:r.createProxyIdentifier("NotificationMain"),TERMINAL_MAIN:r.createProxyIdentifier("TerminalServiceMain"),TREE_VIEWS_MAIN:r.createProxyIdentifier("TreeViewsMain"),PREFERENCE_REGISTRY_MAIN:r.createProxyIdentifier("PreferenceRegistryMain"),OUTPUT_CHANNEL_REGISTRY_MAIN:r.createProxyIdentifier("OutputChannelRegistryMain"),LANGUAGES_MAIN:r.createProxyIdentifier("LanguagesMain"),CONNECTION_MAIN:r.createProxyIdentifier("ConnectionMain"),WEBVIEWS_MAIN:r.createProxyIdentifier("WebviewsMain"),STORAGE_MAIN:r.createProxyIdentifier("StorageMain"),TASKS_MAIN:r.createProxyIdentifier("TasksMain"),LANGUAGES_CONTRIBUTION_MAIN:r.createProxyIdentifier("LanguagesContributionMain"),DEBUG_MAIN:r.createProxyIdentifier("DebugMain")},t.MAIN_RPC_CONTEXT={HOSTED_PLUGIN_MANAGER_EXT:r.createProxyIdentifier("PluginManagerExt"),COMMAND_REGISTRY_EXT:r.createProxyIdentifier("CommandRegistryExt"),QUICK_OPEN_EXT:r.createProxyIdentifier("QuickOpenExt"),WINDOW_STATE_EXT:r.createProxyIdentifier("WindowStateExt"),NOTIFICATION_EXT:r.createProxyIdentifier("NotificationExt"),WORKSPACE_EXT:r.createProxyIdentifier("WorkspaceExt"),TEXT_EDITORS_EXT:r.createProxyIdentifier("TextEditorsExt"),EDITORS_AND_DOCUMENTS_EXT:r.createProxyIdentifier("EditorsAndDocumentsExt"),DOCUMENTS_EXT:r.createProxyIdentifier("DocumentsExt"),TERMINAL_EXT:r.createProxyIdentifier("TerminalServiceExt"),TREE_VIEWS_EXT:r.createProxyIdentifier("TreeViewsExt"),PREFERENCE_REGISTRY_EXT:r.createProxyIdentifier("PreferenceRegistryExt"),LANGUAGES_EXT:r.createProxyIdentifier("LanguagesExt"),CONNECTION_EXT:r.createProxyIdentifier("ConnectionExt"),WEBVIEWS_EXT:r.createProxyIdentifier("WebviewsExt"),STORAGE_EXT:r.createProxyIdentifier("StorageExt"),TASKS_EXT:r.createProxyIdentifier("TasksExt"),LANGUAGES_CONTRIBUTION_EXT:r.createProxyIdentifier("LanguagesContributionExt"),DEBUG_EXT:r.createProxyIdentifier("DebugExt")}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(0),a=n(27),u=n(2),c=n(26),l=n(7),f=-2,d=-1,h=n(39);function p(e){if(e){var t=e.start,n=e.end;return{startLineNumber:t.line+1,startColumn:t.character+1,endLineNumber:n.line+1,endColumn:n.character+1}}}function g(e){return 0===e.length||!!function(e){return void 0!==e.range}(e[0])}function m(e){return e.map(v)}function v(e){var t;return(t=e)&&"object"==typeof t&&"string"==typeof t.language&&"string"==typeof t.value?{value:"```"+e.language+"\n"+e.value+"\n```\n"}:c.isMarkdownString(e)?e:"string"==typeof e?{value:e}:{value:""}}function y(e){return"string"==typeof e?e:(t=e)&&"string"==typeof t.base&&"string"==typeof t.pattern?new u.RelativePattern(e.base,e.pattern):e;var t}function b(e){return{text:e.newText,range:p(e.range)}}function w(e){return"number"==typeof e?String(e):e}function _(e){switch(e){case u.DiagnosticSeverity.Error:return u.MarkerSeverity.Error;case u.DiagnosticSeverity.Warning:return u.MarkerSeverity.Warning;case u.DiagnosticSeverity.Information:return u.MarkerSeverity.Info;case u.DiagnosticSeverity.Hint:return u.MarkerSeverity.Hint}}function C(e){var t,n;if(e){var i=[];try{for(var o=r(e),s=o.next();!s.done;s=o.next()){var a=s.value;i.push({resource:a.location.uri,message:a.message,startLineNumber:a.location.range.start.line+1,startColumn:a.location.range.start.character+1,endLineNumber:a.location.range.end.line+1,endColumn:a.location.range.end.character+1})}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}}function E(e){var t,n;if(e){var i=[];try{for(var o=r(e),s=o.next();!s.done;s=o.next()){switch(s.value){case u.DiagnosticTag.Unnecessary:i.push(u.MarkerTag.Unnecessary)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}}function x(e){switch(e){case u.DocumentHighlightKind.Text:return a.DocumentHighlightKind.Text;case u.DocumentHighlightKind.Read:return a.DocumentHighlightKind.Read;case u.DocumentHighlightKind.Write:return a.DocumentHighlightKind.Write}return a.DocumentHighlightKind.Text}function T(e,t){t.command=e.process,t.args=e.args;var n=e.options;return n&&(t.cwd=n.cwd,t.options=n),t}function P(e,t){var n=e.options;n&&(t.cwd=n.cwd,t.options=I(n));var r=e.commandLine;if(r){var i=r.split(" "),o=i.shift();return o&&(t.command=o),t.args=i,t}var s=e.command;if("string"==typeof s)return t.command=s,t.args=R(e.args),t;throw new Error("Converting ShellQuotedString command is not implemented")}function S(e){var t={};t.process=e.command;var n=e.args;t.args=n||[];var r=e.options;return t.options=r||{},t.options.cwd=e.cwd,t}function D(e){var t={},n=e.options;return t.options=n||{},t.options.cwd=e.cwd,t.args=e.args,t.command=e.command,t}function R(e){if(!e||0===e.length)return[];if("string"==typeof e[0])return e;var t=[];return e.forEach(function(e){t.push(e.value)}),t}function I(e){var t={},n=e.env;n&&(t.env=n);var r=e.executable;r&&(t.executable=r);var i=e.shellQuoting;i&&(t.shellQuoting=i);var o=e.shellArgs;return o&&(t.shellArgs=o),t}function O(e){if(e)switch(e){case u.FoldingRangeKind.Comment:return a.FoldingRangeKind.Comment;case u.FoldingRangeKind.Imports:return a.FoldingRangeKind.Imports;case u.FoldingRangeKind.Region:return a.FoldingRangeKind.Region}}t.toViewColumn=function(e){if("number"==typeof e)return e===s.EditorPosition.ONE?u.ViewColumn.One:e===s.EditorPosition.TWO?u.ViewColumn.Two:e===s.EditorPosition.THREE?u.ViewColumn.Three:void 0},t.fromViewColumn=function(e){return"number"==typeof e&&e>=u.ViewColumn.One?e-1:e===u.ViewColumn.Beside?f:d},t.toSelection=function(e){var t=e.selectionStartLineNumber,n=e.selectionStartColumn,r=e.positionLineNumber,i=e.positionColumn,o=new u.Position(t-1,n-1),s=new u.Position(r-1,i-1);return new u.Selection(o,s)},t.fromSelection=function(e){var t=e.active,n=e.anchor;return{selectionStartLineNumber:n.line+1,selectionStartColumn:n.character+1,positionLineNumber:t.line+1,positionColumn:t.character+1}},t.toRange=function(e){var t=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,i=e.endColumn;return new u.Range(t-1,n-1,r-1,i-1)},t.fromRange=p,t.fromPosition=function(e){return{lineNumber:e.line+1,column:e.character+1}},t.toPosition=function(e){return new u.Position(e.lineNumber-1,e.column-1)},t.isDecorationOptionsArr=g,t.fromRangeOrRangeWithMessage=function(e){return g(e)?e.map(function(e){var t;return t=Array.isArray(e.hoverMessage)?m(e.hoverMessage):e.hoverMessage?v(e.hoverMessage):void 0,{range:p(e.range),hoverMessage:t,renderOptions:e.renderOptions}}):e.map(function(e){return{range:p(e)}})},t.fromManyMarkdown=m,t.fromMarkdown=v,t.fromDocumentSelector=function e(t){return t?Array.isArray(t)?t.map(e):"string"==typeof t?t:{language:t.language,scheme:t.scheme,pattern:y(t.pattern)}:void 0},t.fromGlobPattern=y,t.fromCompletionItemKind=function(e){switch(e){case u.CompletionItemKind.Method:return"method";case u.CompletionItemKind.Function:return"function";case u.CompletionItemKind.Constructor:return"constructor";case u.CompletionItemKind.Field:return"field";case u.CompletionItemKind.Variable:return"variable";case u.CompletionItemKind.Class:return"class";case u.CompletionItemKind.Interface:return"interface";case u.CompletionItemKind.Struct:return"struct";case u.CompletionItemKind.Module:return"module";case u.CompletionItemKind.Property:return"property";case u.CompletionItemKind.Unit:return"unit";case u.CompletionItemKind.Value:return"value";case u.CompletionItemKind.Constant:return"constant";case u.CompletionItemKind.Enum:return"enum";case u.CompletionItemKind.EnumMember:return"enum-member";case u.CompletionItemKind.Keyword:return"keyword";case u.CompletionItemKind.Snippet:return"snippet";case u.CompletionItemKind.Text:return"text";case u.CompletionItemKind.Color:return"color";case u.CompletionItemKind.File:return"file";case u.CompletionItemKind.Reference:return"reference";case u.CompletionItemKind.Folder:return"folder";case u.CompletionItemKind.Event:return"event";case u.CompletionItemKind.Operator:return"operator";case u.CompletionItemKind.TypeParameter:return"type-parameter"}return"property"},t.toCompletionItemKind=function(e){if(e)switch(e){case"method":return u.CompletionItemKind.Method;case"function":return u.CompletionItemKind.Function;case"constructor":return u.CompletionItemKind.Constructor;case"field":return u.CompletionItemKind.Field;case"variable":return u.CompletionItemKind.Variable;case"class":return u.CompletionItemKind.Class;case"interface":return u.CompletionItemKind.Interface;case"struct":return u.CompletionItemKind.Struct;case"module":return u.CompletionItemKind.Module;case"property":return u.CompletionItemKind.Property;case"unit":return u.CompletionItemKind.Unit;case"value":return u.CompletionItemKind.Value;case"constant":return u.CompletionItemKind.Constant;case"enum":return u.CompletionItemKind.Enum;case"enum-member":return u.CompletionItemKind.EnumMember;case"keyword":return u.CompletionItemKind.Keyword;case"snippet":return u.CompletionItemKind.Snippet;case"text":return u.CompletionItemKind.Text;case"color":return u.CompletionItemKind.Color;case"file":return u.CompletionItemKind.File;case"reference":return u.CompletionItemKind.Reference;case"folder":return u.CompletionItemKind.Folder;case"event":return u.CompletionItemKind.Event;case"operator":return u.CompletionItemKind.Operator;case"type-parameter":return u.CompletionItemKind.TypeParameter}return u.CompletionItemKind.Property},t.fromTextEdit=b,t.fromLanguageSelector=function e(t){return t?Array.isArray(t)?t.map(e):"string"==typeof t?t:{language:t.language,scheme:t.scheme,pattern:y(t.pattern)}:void 0},t.convertDiagnosticToMarkerData=function(e){return{code:w(e.code),severity:_(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:C(e.relatedInformation),tags:E(e.tags)}},t.fromHover=function(e){return{range:p(e.range),contents:m(e.contents)}},t.fromLocation=function(e){return{uri:e.uri,range:p(e.range)}},t.fromDefinitionLink=function(e){return{uri:e.targetUri,range:p(e.targetRange),origin:e.originSelectionRange?p(e.originSelectionRange):void 0,selectionRange:e.targetSelectionRange?p(e.targetSelectionRange):void 0}},t.fromDocumentLink=function(e){return{range:p(e.range),url:e.target&&e.target.toString()}},t.fromDocumentHighlightKind=x,t.fromDocumentHighlight=function(e){return{range:p(e.range),kind:x(e.kind)}},t.toInternalCommand=function(e){return{id:e.id,title:e.label||"",tooltip:e.tooltip,arguments:e.arguments}},t.fromWorkspaceEdit=function(e,t){var n,o,s={edits:[]};try{for(var a=r(e._allEntries()),u=a.next();!u.done;u=a.next()){var c=u.value,l=i(c,2),f=l[0],d=l[1];if(Array.isArray(d)){var h=t?t.getDocument(f.toString()):void 0;s.edits.push({resource:f,modelVersionId:h&&h.version,edits:d.map(b)})}else s.edits.push({oldUri:f,newUri:d,options:c[2]})}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return s},function(e){var t=Object.create(null);t[a.SymbolKind.File]=a.SymbolKind.File,t[a.SymbolKind.Module]=a.SymbolKind.Module,t[a.SymbolKind.Namespace]=a.SymbolKind.Namespace,t[a.SymbolKind.Package]=a.SymbolKind.Package,t[a.SymbolKind.Class]=a.SymbolKind.Class,t[a.SymbolKind.Method]=a.SymbolKind.Method,t[a.SymbolKind.Property]=a.SymbolKind.Property,t[a.SymbolKind.Field]=a.SymbolKind.Field,t[a.SymbolKind.Constructor]=a.SymbolKind.Constructor,t[a.SymbolKind.Enum]=a.SymbolKind.Enum,t[a.SymbolKind.Interface]=a.SymbolKind.Interface,t[a.SymbolKind.Function]=a.SymbolKind.Function,t[a.SymbolKind.Variable]=a.SymbolKind.Variable,t[a.SymbolKind.Constant]=a.SymbolKind.Constant,t[a.SymbolKind.String]=a.SymbolKind.String,t[a.SymbolKind.Number]=a.SymbolKind.Number,t[a.SymbolKind.Boolean]=a.SymbolKind.Boolean,t[a.SymbolKind.Array]=a.SymbolKind.Array,t[a.SymbolKind.Object]=a.SymbolKind.Object,t[a.SymbolKind.Key]=a.SymbolKind.Key,t[a.SymbolKind.Null]=a.SymbolKind.Null,t[a.SymbolKind.EnumMember]=a.SymbolKind.EnumMember,t[a.SymbolKind.Struct]=a.SymbolKind.Struct,t[a.SymbolKind.Event]=a.SymbolKind.Event,t[a.SymbolKind.Operator]=a.SymbolKind.Operator,t[a.SymbolKind.TypeParameter]=a.SymbolKind.TypeParameter,e.fromSymbolKind=function(e){return t[e]||a.SymbolKind.Property},e.toSymbolKind=function(e){for(var n in t)if(t[n]===e)return Number(n);return a.SymbolKind.Property}}(o=t.SymbolKind||(t.SymbolKind={})),t.fromDocumentSymbol=function e(t){var n={name:t.name,detail:t.detail,range:p(t.range),selectionRange:p(t.selectionRange),kind:o.fromSymbolKind(t.kind)};return t.children&&(n.children=t.children.map(e)),n},t.toWorkspaceFolder=function(e){return{uri:l.default.revive(e.uri),name:e.name,index:e.index}},t.fromTask=function(e){if(e){var t={};t.label=e.name;var n=e.definition;if(!n)return t;for(var r in t.type=n.type,t.properties={},n)"type"!==r&&n.hasOwnProperty(r)&&(t.properties[r]=n[r]);var i=e.execution;if(!i)return t;var o=t;return"shell"===n.type?P(i,o):"process"===n.type?T(i,o):o}},t.toTask=function(e){if(!e)throw new Error("Task should be provided for converting");var t={};t.name=e.label;var n=e.type,r={type:n};t.definition=r,"process"===n&&(t.execution=S(e)),"shell"===n&&(t.execution=D(e));var i=e.properties;if(!i)return t;for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);return t},t.fromProcessExecution=T,t.fromShellExecution=P,t.getProcessExecution=S,t.getShellExecution=D,t.getShellArgs=R,t.getShellExecutionOptions=I,t.fromSymbolInformation=function(e){if(e){if(e.location&&e.location.range){var t=h.Position.create(e.location.range.start.line,e.location.range.start.character),n=h.Position.create(e.location.range.end.line,e.location.range.end.character);return h.SymbolInformation.create(e.name,e.kind++,h.Range.create(t,n),e.location.uri.toString(),e.containerName)}return{name:e.name,containerName:e.containerName,kind:e.kind++,location:{uri:e.location.uri.toString()}}}},t.toSymbolInformation=function(e){if(e)return{name:e.name,containerName:e.containerName,kind:e.kind,location:{uri:l.default.parse(e.location.uri),range:e.location.range}}},t.fromFoldingRange=function(e){var t={start:e.start+1,end:e.end+1};return e.kind&&(t.kind=O(e.kind)),t},t.fromFoldingRangeKind=O,t.fromColor=function(e){return[e.red,e.green,e.blue,e.alpha]},t.toColor=function(e){return new u.Color(e[0],e[1],e[2],e[3])},t.fromColorPresentation=function(e){return{label:e.label,textEdit:e.textEdit?b(e.textEdit):void 0,additionalTextEdits:e.additionalTextEdits?e.additionalTextEdits.map(function(e){return b(e)}):void 0}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(34),a=n(6),u=n(7),c=n(35),l=n(25),f=n(26),d=n(27),h=function(){function e(e){this.disposable=e}return e.from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(function(){var e,n;if(t)try{for(var r=o(t),i=r.next();!i.done;i=r.next()){var s=i.value;s&&"function"==typeof s.dispose&&s.dispose()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})},e.prototype.dispose=function(){this.disposable&&(this.disposable(),this.disposable=void 0)},e.create=function(t){return new e(t)},e}();t.Disposable=h,function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.StatusBarAlignment||(t.StatusBarAlignment={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative"}(t.TextEditorLineNumbersStyle||(t.TextEditorLineNumbersStyle={})),function(e){e[e.Active=-1]="Active",e[e.Beside=-2]="Beside",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine"}(t.ViewColumn||(t.ViewColumn={})),function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse",e[e.Command=3]="Command"}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={})),function(e){e.fromValue=function(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));var p=function(){function e(e,t){if(e<0)throw new Error("line number cannot be negative");if(t<0)throw new Error("char number cannot be negative");this._line=e,this._character=t}return Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!0,configurable:!0}),e.prototype.isBefore=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character},e.prototype.isBeforeOrEqual=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character},e.prototype.isAfter=function(e){return!this.isBeforeOrEqual(e)},e.prototype.isAfterOrEqual=function(e){return!this.isBefore(e)},e.prototype.isEqual=function(e){return this._line===e._line&&this._character===e._character},e.prototype.compareTo=function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0},e.prototype.translate=function(t,n){if(void 0===n&&(n=0),null===t||null===n)throw s.illegalArgument();var r;return void 0===t?r=0:"number"==typeof t?r=t:(r="number"==typeof t.lineDelta?t.lineDelta:0,n="number"==typeof t.characterDelta?t.characterDelta:0),0===r&&0===n?this:new e(this.line+r,this.character+n)},e.prototype.with=function(t,n){if(void 0===n&&(n=this.character),null===t||null===n)throw s.illegalArgument();var r;return void 0===t?r=this.line:"number"==typeof t?r=t:(r="number"==typeof t.line?t.line:this.line,n="number"==typeof t.character?t.character:this.character),r===this.line&&n===this.character?this:new e(r,n)},e.Min=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.pop();try{for(var s=o(n),a=s.next();!a.done;a=s.next()){var u=a.value;u.isBefore(i)&&(i=u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i},e.Max=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.pop();try{for(var s=o(n),a=s.next();!a.done;a=s.next()){var u=a.value;u.isAfter(i)&&(i=u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i},e.isPosition=function(t){if(!t)return!1;if(t instanceof e)return!0;var n=t,r=n.line,i=n.character;return"number"==typeof r&&"number"==typeof i},e}();t.Position=p;var g=function(){function e(e,t,n,r){var i=void 0,o=void 0;if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r?(i=new p(e,t),o=new p(n,r)):e instanceof p&&t instanceof p&&(i=e,o=t),!i||!o)throw new Error("Invalid arguments");i.isBefore(o)?(this._start=i,this._end=o):(this._start=o,this._end=i)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof e?this.contains(t._start)&&this.contains(t._end):t instanceof p&&(!t.isBefore(this._start)&&!this._end.isBefore(t))},e.prototype.isEqual=function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)},e.prototype.intersection=function(t){var n=p.Max(t.start,this._start),r=p.Min(t.end,this._end);if(!n.isAfter(r))return new e(n,r)},e.prototype.union=function(t){return this.contains(t)?this:t.contains(this)?t:new e(p.Min(t.start,this._start),p.Max(t.end,this.end))},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._start.isEqual(this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleLine",{get:function(){return this._start.line===this._end.line},enumerable:!0,configurable:!0}),e.prototype.with=function(t,n){if(void 0===n&&(n=this.end),null===t||null===n)throw s.illegalArgument();var r;return t?p.isPosition(t)?r=t:(r=t.start||this.start,n=t.end||this.end):r=this.start,r.isEqual(this._start)&&n.isEqual(this.end)?this:new e(r,n)},e.isRange=function(t){return t instanceof e||!!t&&(p.isPosition(t.start)&&p.isPosition(t.end))},e}();t.Range=g;var m=function(e){function t(t,n,r,i){var o=this,s=void 0,a=void 0;if("number"==typeof t&&"number"==typeof n&&"number"==typeof r&&"number"==typeof i?(s=new p(t,n),a=new p(r,i)):t instanceof p&&n instanceof p&&(s=t,a=n),!s||!a)throw new Error("Invalid arguments");return(o=e.call(this,s,a)||this)._anchor=s,o._active=a,o}return i(t,e),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversed",{get:function(){return this._anchor===this._end},enumerable:!0,configurable:!0}),t}(g);t.Selection=m,function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLine||(t.EndOfLine={}));var v=function(){function e(e){this._tabstop=1,this.value=e||""}return e.isSnippetString=function(t){return t instanceof e||!!t&&"string"==typeof t.value},e._escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.appendText=function(t){return this.value+=e._escape(t),this},e.prototype.appendTabstop=function(e){return void 0===e&&(e=this._tabstop++),this.value+="$",this.value+=e,this},e.prototype.appendPlaceholder=function(t,n){if(void 0===n&&(n=this._tabstop++),"function"==typeof t){var r=new e;r._tabstop=this._tabstop,t(r),this._tabstop=r._tabstop,t=r.value}else t=e._escape(t);return this.value+="${",this.value+=n,this.value+=":",this.value+=t,this.value+="}",this},e.prototype.appendVariable=function(t,n){if("function"==typeof n){var r=new e;r._tabstop=this._tabstop,n(r),this._tabstop=r._tabstop,n=r.value}else"string"==typeof n&&(n=n.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=t,n&&(this.value+=":",this.value+=n),this.value+="}",this},e}();t.SnippetString=v;var y=function(){return function(e){this.id=e}}();t.ThemeColor=y;var b=function(){return function(e){this.id=e}}();t.ThemeIcon=b,function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={})),function(e){e[e.OpenOpen=0]="OpenOpen",e[e.ClosedClosed=1]="ClosedClosed",e[e.OpenClosed=2]="OpenClosed",e[e.ClosedOpen=3]="ClosedOpen"}(t.DecorationRangeBehavior||(t.DecorationRangeBehavior={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={})),function(e){e[e.User=0]="User",e[e.Workspace=1]="Workspace"}(t.ConfigurationTarget||(t.ConfigurationTarget={}));var w=function(){function e(e,t){if(this.pattern=t,!("string"==typeof e||e&&u.default.isUri(e.uri)))throw s.illegalArgument("base");if("string"!=typeof t)throw s.illegalArgument("pattern");this.base="string"==typeof e?e:e.uri.fsPath}return e.prototype.pathToRelative=function(e,t){return c.relative(e,t)},e}();t.RelativePattern=w,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(t.IndentAction||(t.IndentAction={}));var _=function(){function e(e,t){this.range=e,this.newText=t}return Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){if(e&&!g.isRange(e))throw s.illegalArgument("range");this._range=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newText",{get:function(){return this._newText||""},set:function(e){if(e&&"string"!=typeof e)throw s.illegalArgument("newText");this._newText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newEol",{get:function(){return this._newEol},set:function(e){if(e&&"number"!=typeof e)throw s.illegalArgument("newEol");this._newEol=e},enumerable:!0,configurable:!0}),e.isTextEdit=function(t){return t instanceof e||!!t&&(g.isRange(t)&&"string"==typeof t.newText)},e.replace=function(t,n){return new e(t,n)},e.insert=function(t,n){return e.replace(new g(t,t),n)},e.delete=function(t){return e.replace(t,"")},e.setEndOfLine=function(t){var n=new e(void 0,void 0);return n.newEol=t,n},e}();t.TextEdit=_,function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference",e[e.Folder=18]="Folder",e[e.EnumMember=19]="EnumMember",e[e.Constant=20]="Constant",e[e.Struct=21]="Struct",e[e.Event=22]="Event",e[e.Operator=23]="Operator",e[e.TypeParameter=24]="TypeParameter"}(t.CompletionItemKind||(t.CompletionItemKind={}));var C=function(){return function(e,t){this.label=e,this.kind=t}}();t.CompletionItem=C;var E,x=function(){return function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.items=e,this.isIncomplete=t}}();t.CompletionList=x,function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Information=2]="Information",e[e.Hint=3]="Hint"}(E=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var T=function(){return function(e,t){this.location=e,this.message=t}}();t.DiagnosticRelatedInformation=T;var P=function(){return function(e,t){this.uri=e,t instanceof g?this.range=t:t instanceof p&&(this.range=new g(t,t))}}();t.Location=P,function(e){e[e.Unnecessary=1]="Unnecessary"}(t.DiagnosticTag||(t.DiagnosticTag={}));var S=function(){return function(e,t,n){void 0===n&&(n=E.Error),this.range=e,this.message=t,this.severity=n}}();t.Diagnostic=S,function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(t.MarkerSeverity||(t.MarkerSeverity={})),function(e){e[e.Unnecessary=1]="Unnecessary"}(t.MarkerTag||(t.MarkerTag={}));var D=function(){return function(e,t){this.label=e,this.documentation=t}}();t.ParameterInformation=D;var R=function(){return function(e,t){this.label=e,this.documentation=t}}();t.SignatureInformation=R;var I=function(){return function(){}}();t.SignatureHelp=I;var O=function(){return function(e,t){e||s.illegalArgument("contents must be defined"),Array.isArray(e)?this.contents=e:(f.isMarkdownString(e),this.contents=[e]),this.range=t}}();t.Hover=O,function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var k=function(){return function(e,t){this.range=e,this.kind=t}}();t.DocumentHighlight=k;var A=function(){return function(e,t){if(t&&!(t instanceof u.default))throw s.illegalArgument("target");if(!g.isRange(e)||e.isEmpty)throw s.illegalArgument("range");this.range=e,this.target=t}}();t.DocumentLink=A;var M=function(){function e(e,t){this.range=e,this.command=t}return Object.defineProperty(e.prototype,"isResolved",{get:function(){return!!this.command},enumerable:!0,configurable:!0}),e}();t.CodeLens=M,function(e){e[e.Automatic=1]="Automatic",e[e.Manual=2]="Manual"}(t.CodeActionTrigger||(t.CodeActionTrigger={}));var N=function(){function e(e){this.value=e}return e.prototype.append=function(t){return new e(this.value?this.value+e.sep+t:t)},e.prototype.contains=function(t){return this.value===t.value||l.startsWithIgnoreCase(t.value,this.value+e.sep)},e.sep=".",e.Empty=new e(""),e.QuickFix=e.Empty.append("quickfix"),e.Refactor=e.Empty.append("refactor"),e.RefactorExtract=e.Refactor.append("extract"),e.RefactorInline=e.Refactor.append("inline"),e.RefactorRewrite=e.Refactor.append("rewrite"),e.Source=e.Empty.append("source"),e.SourceOrganizeImports=e.Source.append("organizeImports"),e}();t.CodeActionKind=N,function(e){e[e.Manual=1]="Manual",e[e.AfterDelay=2]="AfterDelay",e[e.FocusOut=3]="FocusOut"}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));var L=function(){return function(e,t){this.title=e,this.kind=t}}();t.CodeAction=L;var j=function(){function e(){this._edits=new Array}return e.prototype.renameFile=function(e,t,n){this._edits.push({_type:1,from:e,to:t,options:n})},e.prototype.createFile=function(e,t){this._edits.push({_type:1,from:void 0,to:e,options:t})},e.prototype.deleteFile=function(e,t){this._edits.push({_type:1,from:e,to:void 0,options:t})},e.prototype.replace=function(e,t,n){this._edits.push({_type:2,uri:e,edit:new _(t,n)})},e.prototype.insert=function(e,t,n){this.replace(e,new g(t,t),n)},e.prototype.delete=function(e,t){this.replace(e,t,"")},e.prototype.has=function(e){var t,n;try{for(var r=o(this._edits),i=r.next();!i.done;i=r.next()){var s=i.value;if(s&&2===s._type&&s.uri.toString()===e.toString())return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.set=function(e,t){var n,r;if(t)try{for(var i=o(t),s=i.next();!s.done;s=i.next()){var a=s.value;a&&this._edits.push({_type:2,uri:e,edit:a})}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else{for(var u=0;u<this._edits.length;u++){var c=this._edits[u];c&&2===c._type&&c.uri.toString()===e.toString()&&(this._edits[u]=void 0)}this._edits=this._edits.filter(function(e){return!!e})}},e.prototype.get=function(e){var t,n,r=[];try{for(var i=o(this._edits),s=i.next();!s.done;s=i.next()){var a=s.value;a&&2===a._type&&a.uri.toString()===e.toString()&&r.push(a.edit)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}if(0!==r.length)return r},e.prototype.entries=function(){var e,t,n=new Map;try{for(var r=o(this._edits),i=r.next();!i.done;i=r.next()){var s=i.value;if(s&&2===s._type){var a=n.get(s.uri.toString());a||(a=[s.uri,[]],n.set(s.uri.toString(),a)),a[1].push(s.edit)}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}var u=[];return n.forEach(function(e){return u.push(e)}),u},e.prototype._allEntries=function(){var e,t,n=[];try{for(var r=o(this._edits),i=r.next();!i.done;i=r.next()){var s=i.value;s&&(1===s._type?n.push([s.from,s.to,s.options]):n.push([s.uri,[s.edit]]))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},Object.defineProperty(e.prototype,"size",{get:function(){return this.entries().length},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this.entries()},e}();t.WorkspaceEdit=j;var q,F=function(){return function(e,t){void 0===t&&(t=q.None),this.collapsibleState=t,e instanceof u.default?this.resourceUri=e:this.label=e}}();t.TreeItem=F,function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(q=t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}));var W=function(){function e(t,n,r,i,o){this.name=t,this.kind=n,this.containerName=o,"string"==typeof r&&(this.containerName=r),i instanceof P?this.location=i:r instanceof g&&(this.location=new P(i,r)),e.validate(this)}return e.validate=function(e){if(!e.name)throw new Error("Should provide a name inside candidate field")},e.prototype.toJSON=function(){return{name:this.name,kind:d.SymbolKind[this.kind],location:this.location,containerName:this.containerName}},e}();t.SymbolInformation=W;var $=function(){function e(t,n,r,i,o){this.name=t,this.detail=n,this.kind=r,this.range=i,this.selectionRange=o,this.children=[],e.validate(this)}return e.validate=function(t){if(!t.name)throw new Error("Should provide a name inside candidate field");if(!t.range.contains(t.selectionRange))throw new Error("selectionRange must be contained in fullRange");t.children&&t.children.forEach(e.validate)},e}();t.DocumentSymbol=$,function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"}(t.FileChangeType||(t.FileChangeType={})),function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(t.FileType||(t.FileType={}));var U=function(){return function(e,t,n){this.location=e}}();t.ProgressOptions=U;var K=function(){function e(){}return e.prototype.report=function(e){},e}();t.Progress=K,function(e){e[e.SourceControl=1]="SourceControl",e[e.Window=10]="Window",e[e.Notification=15]="Notification"}(t.ProgressLocation||(t.ProgressLocation={}));var B=function(){function e(e,t,n){if("string"!=typeof e)throw s.illegalArgument("process");this.executionProcess=e,void 0!==t&&(Array.isArray(t)?(this.arguments=t,this.executionOptions=n):this.executionOptions=t),void 0===this.arguments&&(this.arguments=[])}return Object.defineProperty(e.prototype,"process",{get:function(){return this.executionProcess},set:function(e){if("string"!=typeof e)throw s.illegalArgument("process");this.executionProcess=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this.arguments},set:function(e){Array.isArray(e)||(e=[]),this.arguments=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.executionOptions},set:function(e){this.executionOptions=e},enumerable:!0,configurable:!0}),e.prototype.computeId=function(){var e,t,n=a.createHash("md5");if(n.update("process"),void 0!==this.executionProcess&&n.update(this.executionProcess),this.arguments&&this.arguments.length>0)try{for(var r=o(this.arguments),i=r.next();!i.done;i=r.next()){var s=i.value;n.update(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n.digest("hex")},e}();t.ProcessExecution=B,function(e){e[e.Escape=1]="Escape",e[e.Strong=2]="Strong",e[e.Weak=3]="Weak"}(t.ShellQuoting||(t.ShellQuoting={})),function(e){e[e.Shared=1]="Shared",e[e.Dedicated=2]="Dedicated",e[e.New=3]="New"}(t.TaskPanelKind||(t.TaskPanelKind={})),function(e){e[e.Always=1]="Always",e[e.Silent=2]="Silent",e[e.Never=3]="Never"}(t.TaskRevealKind||(t.TaskRevealKind={}));var V=function(){function e(e,t,n){if(Array.isArray(t)||"string"==typeof t){if(!e)throw s.illegalArgument("command can't be undefined or null");if("string"!=typeof e&&"string"!=typeof e.value)throw s.illegalArgument("command");this.shellCommand=e,this.arguments=t,this.shellOptions=n}else{if("string"!=typeof e)throw s.illegalArgument("commandLine");this.shellCommandLine=e,this.shellOptions=t}}return Object.defineProperty(e.prototype,"commandLine",{get:function(){return this.shellCommandLine},set:function(e){if("string"!=typeof e)throw s.illegalArgument("commandLine");this.shellCommandLine=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this.shellCommand},set:function(e){if("string"!=typeof e&&"string"!=typeof e.value)throw s.illegalArgument("command");this.shellCommand=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this.arguments},set:function(e){this.arguments=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.shellOptions},set:function(e){this.shellOptions=e},enumerable:!0,configurable:!0}),e.prototype.computeId=function(){var e,t,n=a.createHash("md5");if(n.update("shell"),void 0!==this.shellCommandLine&&n.update(this.shellCommandLine),void 0!==this.shellCommand&&n.update("string"==typeof this.shellCommand?this.shellCommand:this.shellCommand.value),this.arguments&&this.arguments.length>0)try{for(var r=o(this.arguments),i=r.next();!i.done;i=r.next()){var s=i.value;n.update("string"==typeof s?s:s.value)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n.digest("hex")},e}();t.ShellExecution=V;var H=function(){function e(e,t){if("string"!=typeof e)throw s.illegalArgument("id");if("string"!=typeof t)throw s.illegalArgument("name");this.groupId=e}return e.from=function(t){switch(t){case"clean":return e.Clean;case"build":return e.Build;case"rebuild":return e.Rebuild;case"test":return e.Test;default:return}},Object.defineProperty(e.prototype,"id",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),e.Clean=new e("clean","Clean"),e.Build=new e("build","Build"),e.Rebuild=new e("rebuild","Rebuild"),e.Test=new e("test","Test"),e}();t.TaskGroup=H,function(e){e[e.Global=1]="Global",e[e.Workspace=2]="Workspace"}(t.TaskScope||(t.TaskScope={}));var G=function(){function e(e,t,n,r,i,o){this.definition=e,this.scope=t,this.name=n,this.source=r,this.execution=i,"string"==typeof o?(this.taskProblemMatchers=[o],this.hasTaskProblemMatchers=!0):Array.isArray(o)?(this.taskProblemMatchers=o,this.hasTaskProblemMatchers=!0):(this.taskProblemMatchers=[],this.hasTaskProblemMatchers=!1),this.isTaskBackground=!1}return Object.defineProperty(e.prototype,"definition",{get:function(){return this.taskDefinition},set:function(e){if(null==e)throw s.illegalArgument("Kind can't be undefined or null");this.clear(),this.taskDefinition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.taskScope},set:function(e){this.clear(),this.taskScope=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.taskName},set:function(e){if("string"!=typeof e)throw s.illegalArgument("name");this.clear(),this.taskName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"execution",{get:function(){return this.taskExecution},set:function(e){null===e&&(e=void 0),this.clear(),this.taskExecution=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"problemMatchers",{get:function(){return this.taskProblemMatchers},set:function(e){if(!Array.isArray(e))return this.taskProblemMatchers=[],void(this.hasTaskProblemMatchers=!1);this.clear(),this.taskProblemMatchers=e,this.hasTaskProblemMatchers=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasProblemMatchers",{get:function(){return this.hasTaskProblemMatchers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBackground",{get:function(){return this.isTaskBackground},set:function(e){!0!==e&&!1!==e&&(e=!1),this.clear(),this.isTaskBackground=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this.taskSource},set:function(e){if("string"!=typeof e||0===e.length)throw s.illegalArgument("source must be a string of length > 0");this.clear(),this.taskSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this.taskGroup},set:function(e){null!=e?(this.clear(),this.taskGroup=e):this.taskGroup=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationOptions",{get:function(){return this.taskPresentationOptions},set:function(e){null===e&&(e=void 0),this.clear(),this.taskPresentationOptions=e},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.taskScope=void 0,this.taskDefinition=void 0,this.taskExecution instanceof B?this.taskDefinition={type:"process",id:this.taskExecution.computeId()}:this.taskExecution instanceof V&&(this.taskDefinition={type:"shell",id:this.taskExecution.computeId()})},e}();t.Task=G;var z=function(){return function(e,t,n,r){this.enabled=e||!1,this.condition=t,this.hitCondition=n,this.logMessage=r}}();t.Breakpoint=z;var X=function(e){function t(t,n,r,i,o){var s=e.call(this,n,r,i,o)||this;return s.location=t,s}return i(t,e),t}(z);t.SourceBreakpoint=X;var Y=function(e){function t(t,n,r,i,o){var s=e.call(this,n,r,i,o)||this;return s.functionName=t,s}return i(t,e),t}(z);t.FunctionBreakpoint=Y;var J=function(){return function(e,t,n,r){this.red=e,this.green=t,this.blue=n,this.alpha=r}}();t.Color=J;var Q=function(){return function(e,t){if(t&&!(t instanceof J))throw s.illegalArgument("color");if(!g.isRange(e))throw s.illegalArgument("range");this.range=e,this.color=t}}();t.ColorInformation=Q;var Z=function(){return function(e){if(!e||"string"!=typeof e)throw s.illegalArgument("label");this.label=e}}();t.ColorPresentation=Z,function(e){e[e.RGB=0]="RGB",e[e.HEX=1]="HEX",e[e.HSL=2]="HSL"}(t.ColorFormat||(t.ColorFormat={}));var ee=function(){return function(e,t,n){this.start=e,this.end=t,this.kind=n}}();t.FoldingRange=ee,function(e){e[e.Comment=1]="Comment",e[e.Imports=2]="Imports",e[e.Region=3]="Region"}(t.FoldingRangeKind||(t.FoldingRangeKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t={dispose:function(){}};e.None=Object.assign(function(){return t},{get maxListeners(){return 0},set maxListeners(e){}}),e.map=function(e,t){return Object.assign(function(n,r,i){return e(function(e){return n.call(r,t(e))},void 0,i)},{maxListeners:0})}}(t.Event||(t.Event={}));var r=function(){function e(){}return Object.defineProperty(e.prototype,"length",{get:function(){return this._callbacks&&this._callbacks.length||0},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t,n){var r=this;void 0===t&&(t=void 0),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return r.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=void 0),this._callbacks){for(var n=!1,r=0;r<this._callbacks.length;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this._callbacks)return[];for(var n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0),o=0;o<r.length;o++)try{n.push(r[o].apply(i[o],e))}catch(e){console.error(e)}return n},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}(),i=function(){function e(e){this._options=e,this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=Object.assign(function(n,i,o){var s;return t._callbacks||(t._callbacks=new r),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,i),t.checkMaxListeners(t._event.maxListeners),s={dispose:function(){s.dispose=e._noop,t._disposed||(t._callbacks.remove(n,i),s.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(o)&&o.push(s),s},{maxListeners:30})),this._event},enumerable:!0,configurable:!0}),e.prototype.checkMaxListeners=function(e){0!==e&&this._callbacks&&(this._callbacks.length>e&&console.warn(new Error("Possible Emitter memory leak detected. "+e+" exit listeners added. Use event.maxListeners to increase limit")))},e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0),this._disposed=!0},e._noop=function(){},e}();t.Emitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.createToken=function(){return Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None})}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";n.r(t),function(e){var n,r,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});if("object"==typeof e)r="win32"===e.platform;else if("object"==typeof navigator){var o=navigator.userAgent;r=o.indexOf("Windows")>=0}var s=/^\w[\w\d+.-]*$/,a=/^\//,u=/^\/\//;var c="",l="/",f=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=function(){function e(e,t,n,r,i){"object"==typeof e?(this.scheme=e.scheme||c,this.authority=e.authority||c,this.path=e.path||c,this.query=e.query||c,this.fragment=e.fragment||c):(this.scheme=e||c,this.authority=t||c,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,n||c),this.query=r||c,this.fragment=i||c,function(e){if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!a.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return y(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=c),void 0===n?n=this.authority:null===n&&(n=c),void 0===r?r=this.path:null===r&&(r=c),void 0===i?i=this.query:null===i&&(i=c),void 0===o?o=this.fragment:null===o&&(o=c),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new p(t,n,r,i,o)},e.parse=function(e){var t=f.exec(e);return t?new p(t[2]||c,decodeURIComponent(t[4]||c),decodeURIComponent(t[5]||c),decodeURIComponent(t[7]||c),decodeURIComponent(t[9]||c)):new p(c,c,c,c,c)},e.file=function(e){var t=c;if(r&&(e=e.replace(/\\/g,l)),e[0]===l&&e[1]===l){var n=e.indexOf(l,2);-1===n?(t=e.substring(2),e=l):(t=e.substring(2,n),e=e.substring(n)||l)}return new p("file",t,e,c,c)},e.from=function(e){return new p(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),b(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new p(t);return n._fsPath=t.fsPath,n._formatted=t.external,n}return t},e}();t.default=d;var h,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return i(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=y(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(d),g=((h={})[58]="%3A",h[47]="%2F",h[63]="%3F",h[35]="%23",h[91]="%5B",h[93]="%5D",h[64]="%40",h[33]="%21",h[36]="%24",h[38]="%26",h[39]="%27",h[40]="%28",h[41]="%29",h[42]="%2A",h[43]="%2B",h[44]="%2C",h[59]="%3B",h[61]="%3D",h[32]="%20",h);function m(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=g[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function v(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=g[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function y(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(t=t.replace(/\//g,"\\")),t}function b(e,t){var n=t?v:m,r="",i=e.scheme,o=e.authority,s=e.path,a=e.query,u=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=l,r+=l),o){var c=o.indexOf("@");if(-1!==c){var f=o.substr(0,c);o=o.substr(c+1),-1===(c=f.indexOf(":"))?r+=n(f,!1):(r+=n(f.substr(0,c),!1),r+=":",r+=n(f.substr(c+1),!1)),r+="@"}-1===(c=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,c),!1),r+=o.substr(c))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(d=s.charCodeAt(1))>=65&&d<=90&&(s="/"+String.fromCharCode(d+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var d;(d=s.charCodeAt(0))>=65&&d<=90&&(s=String.fromCharCode(d+32)+":"+s.substr(2))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),u&&(r+="#",r+=t?u:m(u,!1)),r}}.call(this,n(5))},function(e,t,n){"use strict";(function(e){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=n(111);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(30);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(31);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const u=n(21);t.Disposable=u.Disposable,t.Event=u.Event,t.Emitter=u.Emitter;const c=n(112);t.CancellationTokenSource=c.CancellationTokenSource,t.CancellationToken=c.CancellationToken;const l=n(113);var f,d,h,p,g,m,v;r(n(114)),r(n(115)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(f||(f={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}function b(t,n,r,s){let a=0,b=0,w=0;const _="2.0";let C,E,x=void 0,T=Object.create(null),P=void 0,S=Object.create(null),D=new l.LinkedMap,R=Object.create(null),I=Object.create(null),O=d.Off,k=h.Text,A=v.New,M=new u.Emitter,N=new u.Emitter,L=new u.Emitter,j=new u.Emitter;function q(e){return"req-"+e.toString()}function F(e,t){var n;o.isRequestMessage(t)?e.set(q(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++w).toString():"res-"+n.toString(),t):e.set("not-"+(++b).toString(),t)}function W(e){}function $(){return A===v.Listening}function U(){return A===v.Closed}function K(){return A===v.Disposed}function B(){A!==v.New&&A!==v.Listening||(A=v.Closed,N.fire(void 0))}function V(){C||0===D.size||(C=e(()=>{C=void 0,function(){if(0===D.size)return;let e=D.shift();try{o.isRequestMessage(e)?function(e){if(K())return;function t(t,r,i){let s={jsonrpc:_,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,G(s,r,i),n.write(s)}function r(t,r,i){let o={jsonrpc:_,id:e.id,error:t.toJson()};G(o,r,i),n.write(o)}!function(e){if(O===d.Off||!E)return;if(k===h.Text){let t=void 0;O===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Received request '${e.method} - (${e.id})'.`,t)}else z("receive-request",e)}(e);let s,a,u=T[e.method];u&&(s=u.type,a=u.handler);let l=Date.now();if(a||x){let u=new c.CancellationTokenSource,f=String(e.id);I[f]=u;try{let c,d=c=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(u.token):x(e.method,u.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,u.token):x(e.method,...e.params,u.token):a?a(e.params,u.token):x(e.method,e.params,u.token);c?d.then?d.then(n=>{delete I[f],t(n,e.method,l)},t=>{delete I[f],t instanceof o.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete I[f],t(c,e.method,l)):(delete I[f],function(t,r,i){void 0===t&&(t=null);let o={jsonrpc:_,id:e.id,result:t};G(o,r,i),n.write(o)}(c,e.method,l))}catch(n){delete I[f],n instanceof o.ResponseError?t(n,e.method,l):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(K())return;let t,n=void 0;if(e.method===f.type.method)t=(e=>{let t=e.id,n=I[String(t)];n&&n.cancel()});else{let r=S[e.method];r&&(t=r.handler,n=r.type)}if(t||P)try{!function(e){if(O===d.Off||!E||e.method===g.type.method)return;if(k===h.Text){let t=void 0;O===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Received notification '${e.method}'.`,t)}else z("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():P(e.method):i.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):P(e.method,...e.params):t?t(e.params):P(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else L.fire(e)}(e):o.isResponseMessage(e)?function(e){if(K())return;if(null===e.id)e.error?r.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=R[t];if(function(e,t){if(O===d.Off||!E)return;if(k===h.Text){let n=void 0;if(O===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";E.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else E.log(`Received response ${e.id} without active response promise.`,n)}else z("receive-response",e)}(e,n),n){delete R[t];try{if(e.error){let t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${n.method}' failed with message: ${e.message}`):r.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=R[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{V()}}()}))}t.onClose(B),t.onError(function(e){M.fire([e,void 0,void 0])}),n.onClose(B),n.onError(function(e){M.fire(e)});let H=e=>{try{if(o.isNotificationMessage(e)&&e.method===f.type.method){let t=q(e.params.id),r=D.get(t);if(o.isRequestMessage(r)){let i=s&&s.cancelUndispatched?s.cancelUndispatched(r,W):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return D.delete(t),i.id=r.id,G(i,e.method,Date.now()),void n.write(i)}}F(D,e)}finally{V()}};function G(e,t,n){if(O!==d.Off&&E)if(k===h.Text){let r=void 0;O===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),E.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else z("send-response",e)}function z(e,t){if(!E||O===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};E.log(n)}function X(){if(U())throw new y(m.Closed,"Connection is closed.");if(K())throw new y(m.Disposed,"Connection is disposed.")}function Y(e){return void 0===e?null:e}function J(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=Y(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(Y(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let Q={sendNotification:(e,...t)=>{let r,o;if(X(),i.string(e))switch(r=e,t.length){case 0:o=null;break;case 1:o=t[0];break;default:o=t}else r=e.method,o=J(e,t);let s={jsonrpc:_,method:r,params:o};!function(e){if(O!==d.Off&&E)if(k===h.Text){let t=void 0;O===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Sending notification '${e.method}'.`,t)}else z("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{X(),i.func(e)?P=e:t&&(i.string(e)?S[e]={type:void 0,handler:t}:S[e.method]={type:e,handler:t})},sendRequest:(e,...t)=>{let r,s;X(),function(){if(!$())throw new Error("Call listen() first.")}();let u=void 0;if(i.string(e))switch(r=e,t.length){case 0:s=null;break;case 1:c.CancellationToken.is(t[0])?(s=null,u=t[0]):s=Y(t[0]);break;default:const n=t.length-1;c.CancellationToken.is(t[n])?(u=t[n],s=2===t.length?Y(t[0]):t.slice(0,n).map(e=>Y(e))):s=t.map(e=>Y(e))}else{r=e.method,s=J(e,t);let n=e.numberOfParams;u=c.CancellationToken.is(t[n])?t[n]:void 0}let l=a++,p=new Promise((e,t)=>{let i={jsonrpc:_,id:l,method:r,params:s},a={method:r,timerStart:Date.now(),resolve:e,reject:t};!function(e){if(O!==d.Off&&E)if(k===h.Text){let t=void 0;O===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Sending request '${e.method} - (${e.id})'.`,t)}else z("send-request",e)}(i);try{n.write(i)}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(R[String(l)]=a)});return u&&u.onCancellationRequested(()=>{Q.sendNotification(f.type,{id:l})}),p},onRequest:(e,t)=>{X(),i.func(e)?x=e:t&&(i.string(e)?T[e]={type:void 0,handler:t}:T[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=h.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||h.Text)),k=o,E=(O=e)===d.Off?void 0:t,!r||U()||K()||Q.sendNotification(p.type,{value:d.toString(e)})},onError:M.event,onClose:N.event,onUnhandledNotification:L.event,onDispose:j.event,dispose:()=>{if(K())return;A=v.Disposed,j.fire(void 0);let e=new Error("Connection got disposed.");Object.keys(R).forEach(t=>{R[t].reject(e)}),R=Object.create(null),I=Object.create(null),D=new l.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(t.dispose)&&t.dispose()},listen:()=>{X(),function(){if($())throw new y(m.AlreadyListening,"Connection is already listening")}(),A=v.Listening,t.listen(H)},inspect:()=>{console.log("inspect")}};return Q.onNotification(g.type,e=>{O!==d.Off&&E&&E.log(e.message,O===d.Verbose?e.verbose:void 0)}),Q}t.ConnectionError=y,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,n,r,i){var o;return r||(r=t.NullLogger),b(void 0!==(o=e).listen&&void 0===o.read?e:new s.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}}).call(this,n(22).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return(r?"/":"")+(t=n(o(t.split("/"),function(e){return!!e}),!r).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===s(e,-1);return(e=n(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.toString;function i(e){return"[object String]"===r.call(e)}function o(e){return Array.isArray(e)}t.boolean=function(e){return!0===e||!1===e},t.string=i,t.number=function(e){return"[object Number]"===r.call(e)},t.error=function(e){return"[object Error]"===r.call(e)},t.func=function(e){return"[object Function]"===r.call(e)},t.array=o,t.stringArray=function(e){return o(e)&&e.every(function(e){return i(e)})}},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),s=n(11),a=8192,u=new e("\r","ascii")[0],c=new e("\n","ascii")[0],l=function(){function t(t){void 0===t&&(t="utf8"),this.encoding=t,this.index=0,this.buffer=new e(a)}return t.prototype.append=function(t){var n=t;if("string"==typeof t){var r=t,i=e.byteLength(r,this.encoding);(n=new e(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=n.length)n.copy(this.buffer,this.index,0,n.length);else{var o=(Math.ceil((this.index+n.length)/a)+1)*a;0===this.index?(this.buffer=new e(o),n.copy(this.buffer,0,0,n.length)):this.buffer=e.concat([this.buffer.slice(0,this.index),n],o)}this.index+=n.length},t.prototype.tryReadHeaders=function(){for(var e=void 0,t=0;t+3<this.index&&(this.buffer[t]!==u||this.buffer[t+1]!==c||this.buffer[t+2]!==u||this.buffer[t+3]!==c);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach(function(t){var n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");var r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});var n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e},t.prototype.tryReadContent=function(e){if(this.index<e)return null;var t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t},Object.defineProperty(t.prototype,"numberOfBytes",{get:function(){return this.index},enumerable:!0,configurable:!0}),t}();!function(e){e.is=function(e){var t=e;return t&&s.func(t.listen)&&s.func(t.dispose)&&s.func(t.onError)&&s.func(t.onClose)&&s.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));var f=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}return e.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e){this.errorEmitter.fire(this.asError(e))},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},Object.defineProperty(e.prototype,"onPartialMessage",{get:function(){return this.partialMessageEmitter.event},enumerable:!0,configurable:!0}),e.prototype.firePartialMessage=function(e){this.partialMessageEmitter.fire(e)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Reader recevied error. Reason: "+(s.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageReader=f;var d=function(e){function t(t,n){void 0===n&&(n="utf8");var r=e.call(this)||this;return r.readable=t,r.buffer=new l(n),r._partialMessageTimeout=1e4,r}return i(t,e),Object.defineProperty(t.prototype,"partialMessageTimeout",{get:function(){return this._partialMessageTimeout},set:function(e){this._partialMessageTimeout=e},enumerable:!0,configurable:!0}),t.prototype.listen=function(e){var t=this;this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",function(e){t.onData(e)}),this.readable.on("error",function(e){return t.fireError(e)}),this.readable.on("close",function(){return t.fireClose()})},t.prototype.onData=function(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){var t=this.buffer.tryReadHeaders();if(!t)return;var n=t["Content-Length"];if(!n)throw new Error("Header must provide a Content-Length property.");var r=parseInt(n);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var i=this.buffer.tryReadContent(this.nextMessageLength);if(null===i)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var o=JSON.parse(i);this.callback(o)}},t.prototype.clearPartialMessageTimer=function(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)},t.prototype.setPartialMessageTimer=function(){var e=this;this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(function(t,n){e.partialMessageTimer=void 0,t===e.messageToken&&(e.firePartialMessage({messageToken:t,waitingTime:n}),e.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))},t}(f);t.StreamMessageReader=d;var h=function(e){function t(t){var n=e.call(this)||this;n.process=t;var r=n.process;return r.on("error",function(e){return n.fireError(e)}),r.on("close",function(){return n.fireClose()}),n}return i(t,e),t.prototype.listen=function(e){this.process.on("message",e)},t}(f);t.IPCMessageReader=h;var p=function(e){function t(t,n){return void 0===n&&(n="utf-8"),e.call(this,t,n)||this}return i(t,e),t}(d);t.SocketMessageReader=p}).call(this,n(13).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(80),i=n(81),o=n(82);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return U(W(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function C(e,t,n,r){return U($(t),e,n,r)}function E(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:W(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){var t={dispose:function(){}};e.None=function(){return t}}(t.Event||(t.Event={}));var r=function(){function e(){}return e.prototype.add=function(e,t,n){var r=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return r.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this._callbacks)return[];for(var n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0),o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],e))}catch(e){console.error(e)}return n},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}(),i=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,i,o){var s;return t._callbacks||(t._callbacks=new r),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,i),s={dispose:function(){t._callbacks.remove(n,i),s.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t)}},Array.isArray(o)&&o.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)},e._noop=function(){},e}();t.Emitter=i},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),s=n(11);!function(e){e.is=function(e){var t=e;return t&&s.func(t.dispose)&&s.func(t.onClose)&&s.func(t.onError)&&s.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));var a=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}return e.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Writer recevied error. Reason: "+(s.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageWriter=a;var u=function(t){function n(e,n){void 0===n&&(n="utf8");var r=t.call(this)||this;return r.writable=e,r.encoding=n,r.errorCount=0,r.writable.on("error",function(e){return r.fireError(e)}),r.writable.on("close",function(){return r.fireClose()}),r}return i(n,t),n.prototype.write=function(t){var n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(n,this.encoding),this.errorCount=0}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}},n}(a);t.StreamMessageWriter=u;var c=function(e){function t(t){var n=e.call(this)||this;n.process=t,n.errorCount=0,n.queue=[],n.sending=!1;var r=n.process;return r.on("error",function(e){return n.fireError(e)}),r.on("close",function(){return n.fireClose}),n}return i(t,e),t.prototype.write=function(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)},t.prototype.doWriteMessage=function(e){var t=this;try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,function(n){t.sending=!1,n?(t.errorCount++,t.fireError(n,e,t.errorCount)):t.errorCount=0,t.queue.length>0&&t.doWriteMessage(t.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}},t}(a);t.IPCMessageWriter=c;var l=function(t){function n(e,n){void 0===n&&(n="utf8");var r=t.call(this)||this;return r.socket=e,r.queue=[],r.sending=!1,r.encoding=n,r.errorCount=0,r.socket.on("error",function(e){return r.fireError(e)}),r.socket.on("close",function(){return r.fireClose()}),r}return i(n,t),n.prototype.write=function(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)},n.prototype.doWriteMessage=function(t){var n=this,r=JSON.stringify(t),i=["Content-Length: ",e.byteLength(r,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(i.join(""),"ascii",function(e){e&&n.handleError(e,t);try{n.socket.write(r,n.encoding,function(e){n.sending=!1,e?n.handleError(e,t):n.errorCount=0,n.queue.length>0&&n.doWriteMessage(n.queue.shift())})}catch(e){n.handleError(e,t)}})}catch(e){this.handleError(e,t)}},n.prototype.handleError=function(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)},n}(a);t.SocketMessageWriter=l}).call(this,n(13).Buffer)},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.name="$ident",e.mixin=function(t,n){return Object.defineProperty(t,e.name,{value:n,enumerable:!0}),t},e.of=function(t){return t[e.name]}}(t.ObjectIdentifier||(t.ObjectIdentifier={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3);!function(e){function t(e){return{dispose:e}}e.create=t,e.NULL=t(function(){})}(r=t.Disposable||(t.Disposable={}));var o=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;this.disposables=[],this.onDisposeEmitter=new i.Emitter,this.disposingElements=!1,e.forEach(function(e){return n.push(e)})}return Object.defineProperty(e.prototype,"onDispose",{get:function(){return this.onDisposeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.checkDisposed=function(){this.disposed&&!this.disposingElements&&this.onDisposeEmitter.fire(void 0)},Object.defineProperty(e.prototype,"disposed",{get:function(){return 0===this.disposables.length},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(!this.disposed&&!this.disposingElements){for(this.disposingElements=!0;!this.disposed;)try{this.disposables.pop().dispose()}catch(e){console.error(e)}this.disposingElements=!1,this.checkDisposed()}},e.prototype.push=function(e){var t=this,n=this.disposables;n.push(e);var i=e.dispose.bind(e),o=r.create(function(){var r=n.indexOf(e);-1!==r&&n.splice(r,1),t.checkDisposed()});return e.dispose=function(){o.dispose(),i()},o},e.prototype.pushAll=function(e){var t=this;return e.map(function(e){return t.push(e)})},e}();t.DisposableCollection=o},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),a=n(44);t.RequestType=a.RequestType,t.RequestType0=a.RequestType0,t.RequestType1=a.RequestType1,t.RequestType2=a.RequestType2,t.RequestType3=a.RequestType3,t.RequestType4=a.RequestType4,t.RequestType5=a.RequestType5,t.RequestType6=a.RequestType6,t.RequestType7=a.RequestType7,t.RequestType8=a.RequestType8,t.RequestType9=a.RequestType9,t.ResponseError=a.ResponseError,t.ErrorCodes=a.ErrorCodes,t.NotificationType=a.NotificationType,t.NotificationType0=a.NotificationType0,t.NotificationType1=a.NotificationType1,t.NotificationType2=a.NotificationType2,t.NotificationType3=a.NotificationType3,t.NotificationType4=a.NotificationType4,t.NotificationType5=a.NotificationType5,t.NotificationType6=a.NotificationType6,t.NotificationType7=a.NotificationType7,t.NotificationType8=a.NotificationType8,t.NotificationType9=a.NotificationType9;var u=n(12);t.MessageReader=u.MessageReader,t.StreamMessageReader=u.StreamMessageReader,t.IPCMessageReader=u.IPCMessageReader,t.SocketMessageReader=u.SocketMessageReader;var c=n(15);t.MessageWriter=c.MessageWriter,t.StreamMessageWriter=c.StreamMessageWriter,t.IPCMessageWriter=c.IPCMessageWriter,t.SocketMessageWriter=c.SocketMessageWriter;var l=n(14);t.Disposable=l.Disposable,t.Event=l.Event,t.Emitter=l.Emitter;var f=n(83);t.CancellationTokenSource=f.CancellationTokenSource,t.CancellationToken=f.CancellationToken;var d,h,p,g,m,v=n(84);o(n(85)),o(n(86)),function(e){e.type=new a.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:function(){},warn:function(){},info:function(){},log:function(){}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.type=new a.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new a.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));var y,b=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error);function w(t,n,r,i){var o,u,c=0,w=0,_=0,C="2.0",E=void 0,x=Object.create(null),T=void 0,P=Object.create(null),S=new v.LinkedMap,D=Object.create(null),R=Object.create(null),I=h.Off,O=y.New,k=new l.Emitter,A=new l.Emitter,M=new l.Emitter,N=new l.Emitter;function L(e){return"req-"+e.toString()}function j(e,t){var n;a.isRequestMessage(t)?e.set(L(t.id),t):a.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++_).toString():"res-"+n.toString(),t):e.set("not-"+(++w).toString(),t)}function q(e){}function F(){return O===y.Listening}function W(){return O===y.Closed}function $(){return O===y.Disposed}function U(){O!==y.New&&O!==y.Listening||(O=y.Closed,A.fire(void 0))}function K(){o||0===S.size||(o=e(function(){o=void 0,function(){if(0===S.size)return;var e=S.shift();try{a.isRequestMessage(e)?function(e){if($())return;function t(t,r,i){var o={jsonrpc:C,id:e.id};t instanceof a.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,V(o,r,i),n.write(o)}function r(t,r,i){var o={jsonrpc:C,id:e.id,error:t.toJson()};V(o,r,i),n.write(o)}!function(e){if(I===h.Off||!u)return;var t=void 0;I===h.Verbose&&e.params&&(t="Params: "+JSON.stringify(e.params,null,4)+"\n\n");u.log("Received request '"+e.method+" - ("+e.id+")'.",t)}(e);var i,o,c=x[e.method];c&&(i=c.type,o=c.handler);var l=Date.now();if(o||E){var d=new f.CancellationTokenSource,p=String(e.id);R[p]=d;try{var g=void 0,m=g=void 0===e.params||void 0!==i&&0===i.numberOfParams?o?o(d.token):E(e.method,d.token):s.array(e.params)&&(void 0===i||i.numberOfParams>1)?o?o.apply(void 0,e.params.concat([d.token])):E.apply(void 0,[e.method].concat(e.params,[d.token])):o?o(e.params,d.token):E(e.method,e.params,d.token);g?m.then?m.then(function(n){delete R[p],t(n,e.method,l)},function(t){delete R[p],t instanceof a.ResponseError?r(t,e.method,l):t&&s.string(t.message)?r(new a.ResponseError(a.ErrorCodes.InternalError,"Request "+e.method+" failed with message: "+t.message),e.method,l):r(new a.ResponseError(a.ErrorCodes.InternalError,"Request "+e.method+" failed unexpectedly without providing any details."),e.method,l)}):(delete R[p],t(g,e.method,l)):(delete R[p],function(t,r,i){void 0===t&&(t=null);var o={jsonrpc:C,id:e.id,result:t};V(o,r,i),n.write(o)}(g,e.method,l))}catch(n){delete R[p],n instanceof a.ResponseError?t(n,e.method,l):n&&s.string(n.message)?r(new a.ResponseError(a.ErrorCodes.InternalError,"Request "+e.method+" failed with message: "+n.message),e.method,l):r(new a.ResponseError(a.ErrorCodes.InternalError,"Request "+e.method+" failed unexpectedly without providing any details."),e.method,l)}}else r(new a.ResponseError(a.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,l)}(e):a.isNotificationMessage(e)?function(e){if($())return;var t,n=void 0;if(e.method===d.type.method)t=function(e){var t=e.id,n=R[String(t)];n&&n.cancel()};else{var i=P[e.method];i&&(t=i.handler,n=i.type)}if(t||T)try{!function(e){if(I===h.Off||!u||e.method===g.type.method)return;var t=void 0;I===h.Verbose&&(t=e.params?"Params: "+JSON.stringify(e.params,null,4)+"\n\n":"No parameters provided.\n\n");u.log("Received notification '"+e.method+"'.",t)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():T(e.method):s.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t.apply(void 0,e.params):T.apply(void 0,[e.method].concat(e.params)):t?t(e.params):T(e.method,e.params)}catch(t){t.message?r.error("Notification handler '"+e.method+"' failed with message: "+t.message):r.error("Notification handler '"+e.method+"' failed unexpectedly.")}else M.fire(e)}(e):a.isResponseMessage(e)?function(e){if($())return;if(null===e.id)e.error?r.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):r.error("Received response message without id. No further error information provided.");else{var t=String(e.id),n=D[t];if(function(e,t){if(I===h.Off||!u)return;var n=void 0;I===h.Verbose&&(e.error&&e.error.data?n="Error data: "+JSON.stringify(e.error.data,null,4)+"\n\n":e.result?n="Result: "+JSON.stringify(e.result,null,4)+"\n\n":void 0===e.error&&(n="No result returned.\n\n"));if(t){var r=e.error?" Request failed: "+e.error.message+" ("+e.error.code+").":"";u.log("Received response '"+t.method+" - ("+e.id+")' in "+(Date.now()-t.timerStart)+"ms."+r,n)}else u.log("Received response "+e.id+" without active response promise.",n)}(e,n),n){delete D[t];try{if(e.error){var i=e.error;n.reject(new a.ResponseError(i.code,i.message,i.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(i){i.message?r.error("Response handler '"+n.method+"' failed with message: "+i.message):r.error("Response handler '"+n.method+"' failed unexpectedly.")}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));var t=e;if(s.string(t.id)||s.number(t.id)){var n=String(t.id),i=D[n];i&&i.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{K()}}()}))}t.onClose(U),t.onError(function(e){k.fire([e,void 0,void 0])}),n.onClose(U),n.onError(function(e){k.fire(e)});var B=function(e){try{if(a.isNotificationMessage(e)&&e.method===d.type.method){var t=L(e.params.id),r=S.get(t);if(a.isRequestMessage(r)){var o=i&&i.cancelUndispatched?i.cancelUndispatched(r,q):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return S.delete(t),o.id=r.id,V(o,e.method,Date.now()),void n.write(o)}}j(S,e)}finally{K()}};function V(e,t,n){if(I!==h.Off&&u){var r=void 0;I===h.Verbose&&(e.error&&e.error.data?r="Error data: "+JSON.stringify(e.error.data,null,4)+"\n\n":e.result?r="Result: "+JSON.stringify(e.result,null,4)+"\n\n":void 0===e.error&&(r="No result returned.\n\n")),u.log("Sending response '"+t+" - ("+e.id+")'. Processing request took "+(Date.now()-n)+"ms",r)}}function H(){if(W())throw new b(m.Closed,"Connection is closed.");if($())throw new b(m.Disposed,"Connection is disposed.")}function G(e){return void 0===e?null:e}function z(e,t){var n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=G(t[0]);break;default:n=[];for(var i=0;i<t.length&&i<r;i++)n.push(G(t[i]));if(t.length<r)for(i=t.length;i<r;i++)n.push(null)}return n}var X={sendNotification:function(e){for(var t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(H(),s.string(e))switch(t=e,i.length){case 0:r=null;break;case 1:r=i[0];break;default:r=i}else t=e.method,r=z(e,i);var a={jsonrpc:C,method:t,params:r};!function(e){if(I!==h.Off&&u){var t=void 0;I===h.Verbose&&(t=e.params?"Params: "+JSON.stringify(e.params,null,4)+"\n\n":"No parameters provided.\n\n"),u.log("Sending notification '"+e.method+"'.",t)}}(a),n.write(a)},onNotification:function(e,t){H(),s.func(e)?T=e:t&&(s.string(e)?P[e]={type:void 0,handler:t}:P[e.method]={type:e,handler:t})},sendRequest:function(e){for(var t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];H(),function(){if(!F())throw new Error("Call listen() first.")}();var l=void 0;if(s.string(e))switch(t=e,i.length){case 0:r=null;break;case 1:f.CancellationToken.is(i[0])?(r=null,l=i[0]):r=G(i[0]);break;default:var p=i.length-1;f.CancellationToken.is(i[p])?(l=i[p],r=2===i.length?G(i[0]):i.slice(0,p).map(function(e){return G(e)})):r=i.map(function(e){return G(e)})}else{t=e.method,r=z(e,i);var g=e.numberOfParams;l=f.CancellationToken.is(i[g])?i[g]:void 0}var m=c++,v=new Promise(function(e,i){var o={jsonrpc:C,id:m,method:t,params:r},s={method:t,timerStart:Date.now(),resolve:e,reject:i};!function(e){if(I!==h.Off&&u){var t=void 0;I===h.Verbose&&e.params&&(t="Params: "+JSON.stringify(e.params,null,4)+"\n\n"),u.log("Sending request '"+e.method+" - ("+e.id+")'.",t)}}(o);try{n.write(o)}catch(e){s.reject(new a.ResponseError(a.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(D[String(m)]=s)});return l&&l.onCancellationRequested(function(){X.sendNotification(d.type,{id:m})}),v},onRequest:function(e,t){H(),s.func(e)?E=e:t&&(s.string(e)?x[e]={type:void 0,handler:t}:x[e.method]={type:e,handler:t})},trace:function(e,t,n){void 0===n&&(n=!1),u=(I=e)===h.Off?void 0:t,!n||W()||$()||X.sendNotification(p.type,{value:h.toString(e)})},onError:k.event,onClose:A.event,onUnhandledNotification:M.event,onDispose:N.event,dispose:function(){if(!$()){O=y.Disposed,N.fire(void 0);var e=new Error("Connection got disposed.");Object.keys(D).forEach(function(t){D[t].reject(e)}),D=Object.create(null),R=Object.create(null),S=new v.LinkedMap,s.func(n.dispose)&&n.dispose(),s.func(t.dispose)&&t.dispose()}},listen:function(){H(),function(){if(F())throw new b(m.AlreadyListening,"Connection is already listening")}(),O=y.Listening,t.listen(B)},inspect:function(){console.log("inspect")}};return X.onNotification(g.type,function(e){I!==h.Off&&u&&u.log(e.message,I===h.Verbose?e.verbose:void 0)}),X}t.ConnectionError=b,function(e){e.is=function(e){var t=e;return t&&s.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,n,r,i){var o;return r||(r=t.NullLogger),w(void 0!==(o=e).listen&&void 0===o.read?e:new u.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new c.StreamMessageWriter(n),r,i)}}).call(this,n(22).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.isLocationArray=function(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof r.Location},t.isDefinitionLinkArray=function(e){return Array.isArray(e)&&e.length>0&&e[0].hasOwnProperty("targetUri")&&e[0].hasOwnProperty("targetRange")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=((e,t,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o})),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(54),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();t.Deferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(36);t.sep="/",t.nativeSep=i.isWindows?"\\":"/";var o=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,s=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;function a(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t==e.length-1?a(e.substring(0,e.length-1)):e.substr(1+~t)}function u(e,t,n,r){return t+r.length===n&&e.indexOf(r,t)===t}function c(e,t){if(void 0===t&&(t="/"),!e)return"";var n=e.length,r=e.charCodeAt(0);if(47===r||92===r){if((47===(r=e.charCodeAt(1))||92===r)&&47!==(r=e.charCodeAt(2))&&92!==r){for(var i=3,o=i;i<n&&(47!==(r=e.charCodeAt(i))&&92!==r);i++);if(r=e.charCodeAt(i+1),o!==i&&47!==r&&92!==r)for(i+=1;i<n;i++)if(47===(r=e.charCodeAt(i))||92===r)return e.slice(0,i+1).replace(/[\\\/]/g,t)}return t}if((r>=65&&r<=90||r>=97&&r<=122)&&58===e.charCodeAt(1))return 47===(r=e.charCodeAt(2))||92===r?e.slice(0,2)+t:e.slice(0,2);var s=e.indexOf("://");if(-1!==s)for(s+=3;s<n;s++)if(47===(r=e.charCodeAt(s))||92===r)return e.slice(0,s+1);return""}t.basename=a,t.extname=function(e){var t=~(e=a(e)).lastIndexOf(".");return t?e.substring(~t):""},t.normalize=function(e,t){if(null==e)return e;var n=e.length;if(0===n)return".";var r=i.isWindows&&t;if(function(e,t){return t?!s.test(e):!o.test(e)}(e,r))return e;for(var a=r?"\\":"/",l=c(e,a),f=l.length,d=!1,h="",p=l.length;p<=n;p++)if(p===n||47===e.charCodeAt(p)||92===e.charCodeAt(p)){if(u(e,f,p,"..")){var g=h.lastIndexOf(a),m=h.slice(g+1);(l||m.length>0)&&".."!==m&&(h=-1===g?"":h.slice(0,g),d=!0)}else u(e,f,p,".")&&(l||h||p<n-1)&&(d=!0);if(!d){var v=e.slice(f,p);""!==h&&h[h.length-1]!==a&&(h+=a),h+=v}f=p+1,d=!1}return l+h},t.getRoot=c,t.isEqualOrParent=function(e,n,i){if(e===n)return!0;if(!e||!n)return!1;if(n.length>e.length)return!1;if(i){if(!r.startsWithIgnoreCase(e,n))return!1;if(n.length===e.length)return!0;var o=n.length;return n.charAt(n.length-1)===t.nativeSep&&o--,e.charAt(o)===t.nativeSep}return n.charAt(n.length-1)!==t.nativeSep&&(n+=t.nativeSep),0===e.indexOf(n)}},function(e,t,n){"use strict";function r(e){return e>=97&&e<=122}function i(e){return e>=65&&e<=90}function o(e){return r(e)||i(e)}function s(e,t,n){if(void 0===n&&(n=e.length),"string"!=typeof e||"string"!=typeof t)return!1;for(var r=0;r<n;r++){var i=e.charCodeAt(r),s=t.charCodeAt(r);if(i!==s)if(o(i)&&o(s)){var a=Math.abs(i-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(s).toLowerCase())return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.endsWith=function(e,t){var n=e.length-t.length;return n>0?e.indexOf(t,n)===n:0===n&&e===t},t.isLowerAsciiLetter=r,t.isUpperAsciiLetter=i,t.equalsIgnoreCase=function(e,t){return(e?e.length:0)===(t?t.length:0)&&s(e,t)},t.escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")},t.startsWithIgnoreCase=function(e,t){var n=t.length;return!(t.length>e.length)&&s(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.value=e||""}return e.prototype.appendText=function(e){return this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},e.prototype.appendMarkdown=function(e){return this.value+=e,this},e.prototype.appendCodeblock=function(e,t){return void 0===t&&(t=""),this.value+="\n```",this.value+=t,this.value+="\n",this.value+=e,this.value+="\n```\n",this},e}();t.MarkdownString=r,t.isMarkdownString=function(e){return e instanceof r||!(!e||"object"!=typeof e)&&"string"==typeof e.value&&("boolean"==typeof e.isTrusted||void 0===e.isTrusted)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(t.CompletionTriggerKind||(t.CompletionTriggerKind={}));var r=function(){return function(){}}();t.IdObject=r,function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(t.MarkerSeverity||(t.MarkerSeverity={})),function(e){e[e.Unnecessary=1]="Unnecessary"}(t.MarkerTag||(t.MarkerTag={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={})),function(e){e[e.Automatic=1]="Automatic",e[e.Manual=2]="Manual"}(t.CodeActionTrigger||(t.CodeActionTrigger={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(t.SymbolKind||(t.SymbolKind={}));var i=function(){function e(e){this.value=e}return e.Comment=new e("comment"),e.Imports=new e("imports"),e.Region=new e("region"),e}();t.FoldingRangeKind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=Object.freeze(Object.assign(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}},{maxListeners:0}));!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o})}(r=t.CancellationToken||(t.CancellationToken={}));var s=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?o:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),a=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new s),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token!==r.Cancelled&&this._token.cancel():this._token=r.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=a;var u="Cancelled";function c(){return new Error(u)}t.cancelled=c,t.isCancelled=function(e){return!!e&&e.message===u},t.checkCancelled=function(e){if(e&&e.isCancellationRequested)throw c()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=function(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion failed")}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(21),i=n(16);let o=8192,s=e.from("\r","ascii")[0],a=e.from("\n","ascii")[0],u="\r\n";class c{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=e.allocUnsafe(o)}append(t){var n=t;if("string"==typeof t){var r=t,i=e.byteLength(r,this.encoding);(n=e.allocUnsafe(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=n.length)n.copy(this.buffer,this.index,0,n.length);else{var s=(Math.ceil((this.index+n.length)/o)+1)*o;0===this.index?(this.buffer=e.allocUnsafe(s),n.copy(this.buffer,0,0,n.length)):this.buffer=e.concat([this.buffer.slice(0,this.index),n],s)}this.index+=n.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(u).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class f extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=f;t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends f{constructor(e,t="utf-8"){super(e,t)}}}).call(this,n(13).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(21),i=n(16);let o="Content-Length: ",s="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(t){let n=JSON.stringify(t),r=e.byteLength(n,this.encoding),i=[o,r.toString(),s,s];try{this.writable.write(i.join(""),"ascii"),this.writable.write(n,this.encoding),this.errorCount=0}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(t){let n=JSON.stringify(t),r=e.byteLength(n,this.encoding),i=[o,r.toString(),s,s];try{this.sending=!0,this.socket.write(i.join(""),"ascii",e=>{e&&this.handleError(e,t);try{this.socket.write(n,this.encoding,e=>{this.sending=!1,e?this.handleError(e,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(e){this.handleError(e,t)}})}catch(e){this.handleError(e,t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}}).call(this,n(13).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=function(){return function(e,t){this.isMain=e,this.id=t.toString()}}();t.ProxyIdentifier=i,t.createProxyIdentifier=function(e){return new i(!1,e)};var o=function(){function e(e,t){var n=this;this.remoteHostID=t,this.isDisposed=!1,this.locals=Object.create(null),this.proxies=Object.create(null),this.lastMessageId=0,this.invokedHandlers=Object.create(null),this.pendingRPCReplies={},this.multiplexor=new s(e,function(e){return n.receiveOneMessage(e)},t)}return e.prototype.getProxy=function(e){return this.proxies[e.id]||(this.proxies[e.id]=this.createProxy(e.id)),this.proxies[e.id]},e.prototype.set=function(e,t){return this.locals[e.id]=t,t},e.prototype.createProxy=function(e){var t=this,n={get:function(n,r){return n[r]||36!==r.charCodeAt(0)||(n[r]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.remoteCall(e,r,n)}),n[r]}};return new Proxy(Object.create(null),n)},e.prototype.remoteCall=function(e,t,n){if(this.isDisposed)return Promise.reject(((i=new Error("Canceled")).name=i.message,i));var i,o=String(++this.lastMessageId),s=new r.Deferred;return this.pendingRPCReplies[o]=s,this.multiplexor.send(a.request(o,e,t,n,this.messageToSendHostId)),s.promise},e.prototype.receiveOneMessage=function(e){if(!this.isDisposed){var t=JSON.parse(e);if(t.setHostID)this.messageToSendHostId=t.setHostID;else if(!this.remoteHostID||!t.hostID||this.remoteHostID===t.hostID)switch(t.type){case 1:this.receiveRequest(t);break;case 2:this.receiveReply(t);break;case 3:this.receiveReplyErr(t)}}},e.prototype.receiveRequest=function(e){var t=this,n=e.id,r=e.proxyId;this.invokedHandlers[n]=this.invokeHandler(r,e.method,e.args),this.invokedHandlers[n].then(function(e){delete t.invokedHandlers[n],t.multiplexor.send(a.replyOK(n,e,t.messageToSendHostId))},function(e){delete t.invokedHandlers[n],t.multiplexor.send(a.replyErr(n,e,t.messageToSendHostId))})},e.prototype.receiveReply=function(e){var t=e.id;if(this.pendingRPCReplies.hasOwnProperty(t)){var n=this.pendingRPCReplies[t];delete this.pendingRPCReplies[t],n.resolve(e.res)}},e.prototype.receiveReplyErr=function(e){var t=e.id;if(this.pendingRPCReplies.hasOwnProperty(t)){var n=this.pendingRPCReplies[t];delete this.pendingRPCReplies[t];var r=void 0;e.err&&e.err.$isError&&((r=new Error).name=e.err.name,r.message=e.err.message,r.stack=e.err.stack),n.reject(r)}},e.prototype.invokeHandler=function(e,t,n){try{return Promise.resolve(this.doInvokeHandler(e,t,n))}catch(e){return Promise.reject(e)}},e.prototype.doInvokeHandler=function(e,t,n){if(!this.locals[e])throw new Error("Unknown actor "+e);var r=this.locals[e],i=r[t];if("function"!=typeof i)throw new Error("Unknown method "+t+" on actor "+e);return i.apply(r,n)},e}();t.RPCProtocolImpl=o;var s=function(){function t(e,t,n){this.connection=e,this.sendAccumulatedBound=this.sendAccumulated.bind(this),this.messagesToSend=[],n&&this.send('{"setHostID":"'+n+'"}'),this.connection.onMessage(function(e){for(var n=e.length,r=0;r<n;r++)t(e[r])})}return t.prototype.sendAccumulated=function(){var e=this.messagesToSend;this.messagesToSend=[],this.connection.send(e)},t.prototype.send=function(t){0===this.messagesToSend.length&&(void 0!==e?e(this.sendAccumulatedBound):setTimeout(this.sendAccumulatedBound,0)),this.messagesToSend.push(t)},t}(),a=function(){function e(){}return e.request=function(e,t,n,r,i){var o="";return i&&(o='"hostID":"'+i+'",'),"{"+o+'"type":1,"id":"'+e+'","proxyId":"'+t+'","method":"'+n+'","args":'+JSON.stringify(r)+"}"},e.replyOK=function(e,t,n){var r="";return n&&(r='"hostID":"'+n+'",'),void 0===t?"{"+r+'"type":2,"id":"'+e+'"}':"{"+r+'"type":2,"id":"'+e+'","res":'+JSON.stringify(t)+"}"},e.replyErr=function(e,t,n){var r="";return n&&(r='"hostID":"'+n+'",'),t instanceof Error?"{"+r+'"type":3,"id":"'+e+'","err":'+JSON.stringify(u(t))+"}":"{"+r+'"type":3,"id":"'+e+'","err":null}'},e}();function u(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e}t.transformErrorForSerialization=u}).call(this,n(22).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Array.isArray(t)?(t.forEach(function(e){return e&&e.dispose()}),[]):0===n.length?t?(t.dispose(),t):void 0:(e(t),e(n),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.illegalArgument=function(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")},t.readonly=function(e){return e?new Error("readonly property '"+e+" cannot be changed'"):new Error("readonly property cannot be changed")},t.disposed=function(e){var t=new Error(e+" has been disposed");return t.name="DISPOSED",t}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=new RegExp("//+","g");function s(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=[];try{for(var u=r(n),c=u.next();!c.done;c=u.next()){var l=c.value;if("string"!=typeof l)throw new TypeError("Invalid argument type to path.join: "+typeof l);""!==l&&(l.charAt(0)===i.sep&&(s=[]),s.push(l))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}var f=a(s.join(i.sep));return f.length>1&&f.charAt(f.length-1)===i.sep?f.substr(0,f.length-1):f}function a(e){var t,n;""===e&&(e=".");var s=e.charAt(0)===i.sep,a=(e=function(e){return e=e.replace(o,i.sep)}(e)).split(i.sep),u=[];try{for(var c=r(a),l=c.next();!l.done;l=c.next()){var f=l.value;"."!==f&&(".."===f&&(s||!s&&u.length>0&&".."!==u[0])?u.pop():u.push(f))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(!s&&u.length<2)switch(u.length){case 1:""===u[0]&&u.unshift(".");break;default:u.push(".")}return e=u.join(i.sep),s&&e.charAt(0)!==i.sep&&(e=i.sep+e),e}t.resolve=s,t.relative=function(e,t){var n;e=s(e),t=s(t);var r=e.split(i.sep),o=t.split(i.sep);o.shift(),r.shift();var a=0,u=[];for(n=0;n<r.length;n++)if(r[n]!==o[n]){a=r.length-n;break}u=o.slice(n),1===r.length&&""===r[0]&&(a=0),a>r.length&&(a=r.length);var c="";for(n=0;n<a;n++)c+="../";return(c+=u.join(i.sep)).length>1&&c.charAt(c.length-1)===i.sep&&(c=c.substr(0,c.length-1)),c},t.normalize=a},function(e,t,n){"use strict";(function(e){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};function i(t,n){return!!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.indexOf(t)>=0)||void 0!==e&&e.platform===n}Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=i("Windows","win32"),t.isOSX=i("Mac","darwin"),t.cmd=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return[t.isWindows?"cmd":e,t.isWindows?r(["/c",e],n):n]},function(e){var n;!function(e){e.Windows="Windows",e.Linux="Linux",e.OSX="OSX"}(n=e.Type||(e.Type={})),e.type=function(){return t.isWindows?n.Windows:t.isOSX?n.OSX:n.Linux}}(t.OS||(t.OS={}))}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);t.hookCancellationToken=function(e,t){return new Promise(function(n,r){var i=e.onCancellationRequested(function(){return r("This promise is cancelled")});t.then(function(e){i.dispose(),n(e)}).catch(function(e){i.dispose(),r(e)})})},t.anyPromise=function(e){var t=new r.Deferred;return 0===e.length&&t.resolve(),e.forEach(function(n,r){Promise.resolve(e[r]).then(function(){t.resolve({key:r,value:e[r]})},function(n){t.resolve({key:r,value:e[r]})})}),t.promise}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){this.raw=e.normalizeDrive(t);var n=t.indexOf(e.separator),r=t.lastIndexOf(e.separator);this.isAbsolute=0===n,this.base=-1===r?t:t.substr(r+1),this.isRoot=this.isAbsolute&&n===r&&(!this.base||e.isDrive(this.base)),this.root=this.computeRoot();var i=this.base.lastIndexOf(".");this.name=-1===i?this.base:this.base.substr(0,i),this.ext=-1===i?"":this.base.substr(i)}return e.isDrive=function(e){return e.endsWith(":")},e.normalizeDrive=function(e){if(e.length>=3&&47===e.charCodeAt(0)&&58===e.charCodeAt(2))(t=e.charCodeAt(1))>=65&&t<=90&&(e="/"+String.fromCharCode(t+32)+":"+e.substr(3));else if(e.length>=2&&58===e.charCodeAt(1)){var t;(t=e.charCodeAt(0))>=65&&t<=90&&(e=String.fromCharCode(t+32)+":"+e.substr(2))}return e},e.prototype.computeRoot=function(){if(this.isRoot)return this;if(this.isAbsolute){var t=this.raw.indexOf(e.separator,e.separator.length);return-1===t?new e(e.separator):new e(this.raw.substr(0,t)).root}},Object.defineProperty(e.prototype,"dir",{get:function(){return void 0===this._dir&&(this._dir=this.computeDir()),this._dir},enumerable:!0,configurable:!0}),e.prototype.computeDir=function(){if(this.isRoot)return this;var t=this.raw.lastIndexOf(e.separator);if(-1===t)return this;if(this.isAbsolute){var n=this.raw.indexOf(e.separator);if(n===t)return new e(this.raw.substr(0,n+1))}return new e(this.raw.substr(0,t))},e.prototype.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.filter(function(e){return!!e}).join(e.separator);return r?this.raw.endsWith(e.separator)?new e(this.raw+r):new e(this.raw+e.separator+r):this},e.prototype.toString=function(){return this.raw},e.prototype.relative=function(t){if(this.raw===t.raw)return new e("");if(this.raw&&t.raw){var n=this.base?this.raw+e.separator:this.raw;if(t.raw.startsWith(n))return new e(t.raw.substr(n.length))}},e.prototype.isEqualOrParent=function(e){return!!this.relative(e)},e.separator="/",e}();t.Path=r},function(e,t,n){"use strict";var r,i,o,s,a,u,c,l,f,d,h,p,g,m,v,y,b,w,_;n.r(t),n.d(t,"Position",function(){return r}),n.d(t,"Range",function(){return i}),n.d(t,"Location",function(){return o}),n.d(t,"LocationLink",function(){return s}),n.d(t,"Color",function(){return a}),n.d(t,"ColorInformation",function(){return u}),n.d(t,"ColorPresentation",function(){return c}),n.d(t,"FoldingRangeKind",function(){return l}),n.d(t,"FoldingRange",function(){return f}),n.d(t,"DiagnosticRelatedInformation",function(){return d}),n.d(t,"DiagnosticSeverity",function(){return h}),n.d(t,"Diagnostic",function(){return p}),n.d(t,"Command",function(){return g}),n.d(t,"TextEdit",function(){return m}),n.d(t,"TextDocumentEdit",function(){return v}),n.d(t,"CreateFile",function(){return y}),n.d(t,"RenameFile",function(){return b}),n.d(t,"DeleteFile",function(){return w}),n.d(t,"WorkspaceEdit",function(){return _}),n.d(t,"WorkspaceChange",function(){return W}),n.d(t,"TextDocumentIdentifier",function(){return C}),n.d(t,"VersionedTextDocumentIdentifier",function(){return E}),n.d(t,"TextDocumentItem",function(){return x}),n.d(t,"MarkupKind",function(){return T}),n.d(t,"MarkupContent",function(){return P}),n.d(t,"CompletionItemKind",function(){return S}),n.d(t,"InsertTextFormat",function(){return D}),n.d(t,"CompletionItem",function(){return R}),n.d(t,"CompletionList",function(){return I}),n.d(t,"MarkedString",function(){return O}),n.d(t,"Hover",function(){return k}),n.d(t,"ParameterInformation",function(){return A}),n.d(t,"SignatureInformation",function(){return M}),n.d(t,"DocumentHighlightKind",function(){return N}),n.d(t,"DocumentHighlight",function(){return L}),n.d(t,"SymbolKind",function(){return j}),n.d(t,"SymbolInformation",function(){return q}),n.d(t,"DocumentSymbol",function(){return H}),n.d(t,"CodeActionKind",function(){return $}),n.d(t,"CodeActionContext",function(){return U}),n.d(t,"CodeAction",function(){return K}),n.d(t,"CodeLens",function(){return B}),n.d(t,"FormattingOptions",function(){return V}),n.d(t,"DocumentLink",function(){return G}),n.d(t,"EOL",function(){return Y}),n.d(t,"TextDocument",function(){return z}),n.d(t,"TextDocumentSaveReason",function(){return X}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return J.objectLiteral(t)&&J.number(t.line)&&J.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(J.number(e)&&J.number(t)&&J.number(n)&&J.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return J.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return J.defined(t)&&i.is(t.range)&&(J.string(t.uri)||J.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return J.defined(t)&&i.is(t.targetRange)&&J.string(t.targetUri)&&(i.is(t.targetSelectionRange)||J.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||J.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return J.number(t.red)&&J.number(t.green)&&J.number(t.blue)&&J.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(u||(u={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return J.string(t.label)&&(J.undefined(t.textEdit)||m.is(t))&&(J.undefined(t.additionalTextEdits)||J.typedArray(t.additionalTextEdits,m.is))}}(c||(c={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return J.defined(n)&&(o.startCharacter=n),J.defined(r)&&(o.endCharacter=r),J.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return J.number(t.startLine)&&J.number(t.startLine)&&(J.undefined(t.startCharacter)||J.number(t.startCharacter))&&(J.undefined(t.endCharacter)||J.number(t.endCharacter))&&(J.undefined(t.kind)||J.string(t.kind))}}(f||(f={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return J.defined(t)&&o.is(t.location)&&J.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(h||(h={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return J.defined(n)&&(s.severity=n),J.defined(r)&&(s.code=r),J.defined(i)&&(s.source=i),J.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return J.defined(t)&&i.is(t.range)&&J.string(t.message)&&(J.number(t.severity)||J.undefined(t.severity))&&(J.number(t.code)||J.string(t.code)||J.undefined(t.code))&&(J.string(t.source)||J.undefined(t.source))&&(J.undefined(t.relatedInformation)||J.typedArray(t.relatedInformation,d.is))}}(p||(p={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return J.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return J.defined(t)&&J.string(t.title)&&J.string(t.command)}}(g||(g={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return J.objectLiteral(t)&&J.string(t.newText)&&i.is(t.range)}}(m||(m={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return J.defined(t)&&E.is(t.textDocument)&&Array.isArray(t.edits)}}(v||(v={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&J.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||J.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||J.boolean(t.options.ignoreIfExists)))}}(y||(y={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&J.string(t.oldUri)&&J.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||J.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||J.boolean(t.options.ignoreIfExists)))}}(b||(b={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&J.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||J.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||J.boolean(t.options.ignoreIfNotExists)))}}(w||(w={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(function(e){return J.string(e.kind)?y.is(e)||b.is(e)||w.is(e):v.is(e)}))}}(_||(_={}));var C,E,x,T,P,S,D,R,I,O,k,A,M,N,L,j,q,F=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(m.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(m.replace(e,t))},e.prototype.delete=function(e){this.edits.push(m.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),W=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach(function(e){if(v.is(e)){var n=new F(e.edits);t._textEditChanges[e.textDocument.uri]=n}}):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new F(e.changes[n]);t._textEditChanges[n]=r}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(E.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new F(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new F(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(y.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(w.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return J.defined(t)&&J.string(t.uri)}}(C||(C={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return J.defined(t)&&J.string(t.uri)&&(null===t.version||J.number(t.version))}}(E||(E={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return J.defined(t)&&J.string(t.uri)&&J.string(t.languageId)&&J.number(t.version)&&J.string(t.text)}}(x||(x={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(T||(T={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(T||(T={})),function(e){e.is=function(e){var t=e;return J.objectLiteral(e)&&T.is(t.kind)&&J.string(t.value)}}(P||(P={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(S||(S={})),function(e){e.PlainText=1,e.Snippet=2}(D||(D={})),function(e){e.create=function(e){return{label:e}}}(R||(R={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(I||(I={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return J.string(t)||J.objectLiteral(t)&&J.string(t.language)&&J.string(t.value)}}(O||(O={})),function(e){e.is=function(e){var t=e;return!!t&&J.objectLiteral(t)&&(P.is(t.contents)||O.is(t.contents)||J.typedArray(t.contents,O.is))&&(void 0===e.range||i.is(e.range))}}(k||(k={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(A||(A={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return J.defined(t)&&(i.documentation=t),J.defined(n)?i.parameters=n:i.parameters=[],i}}(M||(M={})),function(e){e.Text=1,e.Read=2,e.Write=3}(N||(N={})),function(e){e.create=function(e,t){var n={range:e};return J.number(t)&&(n.kind=t),n}}(L||(L={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(j||(j={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(q||(q={}));var $,U,K,B,V,H=function(){return function(){}}();!function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&J.string(t.name)&&J.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||J.string(t.detail))&&(void 0===t.deprecated||J.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(H||(H={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}($||($={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return J.defined(t)&&J.typedArray(t.diagnostics,p.is)&&(void 0===t.only||J.typedArray(t.only,J.string))}}(U||(U={})),function(e){e.create=function(e,t,n){var r={title:e};return g.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&J.string(t.title)&&(void 0===t.diagnostics||J.typedArray(t.diagnostics,p.is))&&(void 0===t.kind||J.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||g.is(t.command))&&(void 0===t.edit||_.is(t.edit))}}(K||(K={})),function(e){e.create=function(e,t){var n={range:e};return J.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return J.defined(t)&&i.is(t.range)&&(J.undefined(t.command)||g.is(t.command))}}(B||(B={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return J.defined(t)&&J.number(t.tabSize)&&J.boolean(t.insertSpaces)}}(V||(V={}));var G=function(){return function(){}}();!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return J.defined(t)&&i.is(t.range)&&(J.undefined(t.target)||J.string(t.target))}}(G||(G={}));var z,X,Y=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new Q(e,t,n,r)},e.is=function(e){var t=e;return!!(J.defined(t)&&J.string(t.uri)&&(J.undefined(t.languageId)||J.string(t.languageId))&&J.number(t.lineCount)&&J.func(t.getText)&&J.func(t.positionAt)&&J.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),o=t.slice(r);e(i,n),e(o,n);for(var s=0,a=0,u=0;s<i.length&&a<o.length;){var c=n(i[s],o[a]);t[u++]=c<=0?i[s++]:o[a++]}for(;s<i.length;)t[u++]=i[s++];for(;a<o.length;)t[u++]=o[a++];return t}(t,function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],a=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(u,n.length),i=a}return n}}(z||(z={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(X||(X={}));var J,Q=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var o=Math.floor((n+i)/2);t[o]>e?i=o:n=o+1}var s=n-1;return r.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(J||(J={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(2),o=n(69),s=n(70),a=new Map;function u(e){return a.get(e)}t.setWordDefinitionFor=function(e,t){a.set(e,t)},t.getWordDefinitionFor=u;var c=function(){function e(e,t,n,r,i,o,s){this.proxy=e,this.uri=t,this.lines=n,this.eol=r,this.languageId=i,this.versionId=o,this.disposed=!1,this.isDisposed=!1,this.textLines=new Array,this.dirty=s}return e.prototype.dispose=function(){r.ok(!this.disposed),this.dirty=!1,this.disposed=!0},e.prototype.onEvents=function(e){e.eol&&e.eol!==this.eol&&(this.eol=e.eol,this.lineStarts=void 0);for(var t=e.changes,n=0,r=t.length;n<r;n++){var o=t[n];this.acceptDeleteRange(o.range),this.acceptInsertText(new i.Position(o.range.startLineNumber,o.range.startColumn),o.text)}this.versionId=e.versionId},e.prototype.acceptIsDirty=function(e){r.ok(!this.disposed),this.dirty=e},e.prototype.acceptLanguageId=function(e){throw new Error("Method not implemented.")},Object.defineProperty(e.prototype,"document",{get:function(){if(!this._document){var e=this;this._document={get uri(){return e.uri},get fileName(){return e.uri.fsPath},get isUntitled(){return"untitled"===e.uri.scheme},get languageId(){return e.languageId},get version(){return e.versionId},get isClosed(){return e.isDisposed},get isDirty(){return e.dirty},save:function(){return e.save()},getText:function(t){return t?e.getTextInRange(t):e.getText()},get eol(){return"\n"===e.eol?i.EndOfLine.LF:i.EndOfLine.CRLF},get lineCount(){return e.lines.length},lineAt:function(t){return e.lineAt(t)},offsetAt:function(t){return e.offsetAt(t)},positionAt:function(t){return e.positionAt(t)},validateRange:function(t){return e.validateRange(t)},validatePosition:function(t){return e.validatePosition(t)},getWordRangeAtPosition:function(t,n){return e.getWordRangeAtPosition(t,n)}}}return Object.freeze(this._document)},enumerable:!0,configurable:!0}),e.prototype.acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this.lines[e.line-1].substring(e.character-1),this.setLineText(e.line-1,this.lines[e.line-1].substring(0,e.character-1)+n[0]);for(var r=new Uint32Array(n.length-1),i=1;i<n.length;i++)this.lines.splice(e.line+i-1,0,n[i]),r[i-1]=n[i].length+this.eol.length;this.lineStarts&&this.lineStarts.insertValues(e.line,r)}else this.setLineText(e.line-1,this.lines[e.line-1].substring(0,e.character-1)+n[0]+this.lines[e.line-1].substring(e.character-1))}},e.prototype.acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this.setLineText(e.startLineNumber-1,this.lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this.lines[e.endLineNumber-1].substring(e.endColumn-1)),this.lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this.lineStarts&&this.lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this.setLineText(e.startLineNumber-1,this.lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this.lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype.setLineText=function(e,t){this.lines[e]=t,this.lineStarts&&this.lineStarts.changeValue(e,this.lines[e].length+this.eol.length)},e.prototype.save=function(){return this.isDisposed?Promise.reject(new Error("Document is closed")):this.proxy.$trySaveDocument(this.uri)},e.prototype.getTextInRange=function(e){var t=this.validateRange(e);if(t.isEmpty)return"";if(t.isSingleLine)return this.lines[t.start.line].substring(t.start.character,t.end.character);var n=this.eol,r=t.start.line,i=t.end.line,o=[];o.push(this.lines[r].substring(t.start.character));for(var s=r+1;s<i;s++)o.push(this.lines[s]);return o.push(this.lines[i].substring(0,t.end.character)),o.join(n)},e.prototype.validateRange=function(e){if(!(e instanceof i.Range))throw new Error("Invalid argument");var t=this.validatePosition(e.start),n=this.validatePosition(e.end);return t===e.start&&n===e.end?e:new i.Range(t.line,t.character,n.line,n.character)},e.prototype.getText=function(){return this.lines.join(this.eol)},e.prototype.validatePosition=function(e){if(!(e instanceof i.Position))throw new Error("Invalid argument");var t=e.line,n=e.character,r=!1;if(t<0)t=0,n=0,r=!0;else if(t>=this.lines.length)t=this.lines.length-1,n=this.lines[t].length,r=!0;else{var o=this.lines[t].length;n<0?(n=0,r=!0):n>o&&(n=o,r=!0)}return r?new i.Position(t,n):e},e.prototype.lineAt=function(e){var t=-1;if(e instanceof i.Position?t=e.line:"number"==typeof e&&(t=e),t<0||t>=this.lines.length)throw new Error("Illegal value for `line`");var n=this.textLines[t];if(!n||n.lineNumber!==t||n.text!==this.lines[t]){var r=this.lines[t],o=/^(\s*)/.exec(r)[1].length,s=new i.Range(t,0,t,r.length),a=t<this.lines.length-1?new i.Range(t,0,t+1,0):s;n=Object.freeze({lineNumber:t,range:s,rangeIncludingLineBreak:a,text:r,firstNonWhitespaceCharacterIndex:o,isEmptyOrWhitespace:o===r.length}),this.textLines[t]=n}return n},e.prototype.offsetAt=function(e){return e=this.validatePosition(e),this.ensureLineStarts(),this.lineStarts.getAccumulatedValue(e.line-1)+e.character},e.prototype.ensureLineStarts=function(){if(!this.lineStarts){for(var e=this.eol.length,t=this.lines.length,n=new Uint32Array(t),r=0;r<t;r++)n[r]=this.lines[r].length+e;this.lineStarts=new o.PrefixSumComputer(n)}},e.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this.ensureLineStarts();var t=this.lineStarts.getIndexOf(e),n=this.lines[t.index].length;return new i.Position(t.index,Math.min(t.remainder,n))},e.prototype.getWordRangeAtPosition=function(e,t){var n=this.validatePosition(e);t?l(t)&&(console.warn("[getWordRangeAtPosition]: ignoring custom regexp '"+t.source+"' because it matches the empty string."),t=u(this.languageId)):t=u(this.languageId);var r=s.getWordAtText(n.character+1,s.ensureValidWordDefinition(t),this.lines[n.line],0);if(r)return new i.Range(n.line,r.startColumn-1,n.line,r.endColumn-1)},e}();function l(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&(e.exec("")&&0===e.lastIndex)}t.DocumentDataExt=c,t.regExpLeadsToEndlessLoop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.prefix=e,this.lastId=0}return e.prototype.nextId=function(){return this.prefix+ ++this.lastId},e}();t.IdGenerator=r},function(e,t,n){(function(e){var n,r,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});if(Object.defineProperty(t,"__esModule",{value:!0}),"object"==typeof e)r="win32"===e.platform;else if("object"==typeof navigator){var o=navigator.userAgent;r=o.indexOf("Windows")>=0}var s=/^\w[\w\d+.-]*$/,a=/^\//,u=/^\/\//;var c="",l="/",f=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=function(){function e(e,t,n,r,i){"object"==typeof e?(this.scheme=e.scheme||c,this.authority=e.authority||c,this.path=e.path||c,this.query=e.query||c,this.fragment=e.fragment||c):(this.scheme=e||c,this.authority=t||c,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,n||c),this.query=r||c,this.fragment=i||c,function(e){if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!a.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return y(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=c),void 0===n?n=this.authority:null===n&&(n=c),void 0===r?r=this.path:null===r&&(r=c),void 0===i?i=this.query:null===i&&(i=c),void 0===o?o=this.fragment:null===o&&(o=c),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new p(t,n,r,i,o)},e.parse=function(e){var t=f.exec(e);return t?new p(t[2]||c,decodeURIComponent(t[4]||c),decodeURIComponent(t[5]||c),decodeURIComponent(t[7]||c),decodeURIComponent(t[9]||c)):new p(c,c,c,c,c)},e.file=function(e){var t=c;if(r&&(e=e.replace(/\\/g,l)),e[0]===l&&e[1]===l){var n=e.indexOf(l,2);-1===n?(t=e.substring(2),e=l):(t=e.substring(2,n),e=e.substring(n)||l)}return new p("file",t,e,c,c)},e.from=function(e){return new p(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),b(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new p(t);return n._fsPath=t.fsPath,n._formatted=t.external,n}return t},e}();t.default=d;var h,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return i(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=y(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(d),g=((h={})[58]="%3A",h[47]="%2F",h[63]="%3F",h[35]="%23",h[91]="%5B",h[93]="%5D",h[64]="%40",h[33]="%21",h[36]="%24",h[38]="%26",h[39]="%27",h[40]="%28",h[41]="%29",h[42]="%2A",h[43]="%2B",h[44]="%2C",h[59]="%3B",h[61]="%3D",h[32]="%20",h);function m(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=g[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function v(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=g[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function y(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(t=t.replace(/\//g,"\\")),t}function b(e,t){var n=t?v:m,r="",i=e.scheme,o=e.authority,s=e.path,a=e.query,u=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=l,r+=l),o){var c=o.indexOf("@");if(-1!==c){var f=o.substr(0,c);o=o.substr(c+1),-1===(c=f.indexOf(":"))?r+=n(f,!1):(r+=n(f.substr(0,c),!1),r+=":",r+=n(f.substr(c+1),!1)),r+="@"}-1===(c=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,c),!1),r+=o.substr(c))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(d=s.charCodeAt(1))>=65&&d<=90&&(s="/"+String.fromCharCode(d+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var d;(d=s.charCodeAt(0))>=65&&d<=90&&(s=String.fromCharCode(d+32)+":"+s.substr(2))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),u&&(r+="#",r+=t?u:m(u,!1)),r}}).call(this,n(5))},function(e,t,n){"use strict";function r(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=r,t.mixin=function e(t,n,i){return void 0===i&&(i=!0),r(t)?(r(n)&&Object.keys(n).forEach(function(o){o in t?i&&(r(t[o])&&r(n[o])?e(t[o],n[o],i):t[o]=n[o]):t[o]=n[o]}),t):n},function(e){e[e.Info=0]="Info",e[e.Error=1]="Error"}(t.LogType||(t.LogType={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(11);!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(o=t.ErrorCodes||(t.ErrorCodes={}));var a=function(e){function t(n,r,i){var a=e.call(this,r)||this;return a.code=s.number(n)?n:o.UnknownErrorCode,a.data=i,Object.setPrototypeOf(a,t.prototype),a}return i(t,e),t.prototype.toJson=function(){return{code:this.code,message:this.message,data:this.data}},t}(Error);t.ResponseError=a;var u=function(){function e(e,t){this._method=e,this._numberOfParams=t}return Object.defineProperty(e.prototype,"method",{get:function(){return this._method},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfParams",{get:function(){return this._numberOfParams},enumerable:!0,configurable:!0}),e}();t.AbstractMessageType=u;var c=function(e){function t(t){var n=e.call(this,t,0)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType0=c;var l=function(e){function t(t){var n=e.call(this,t,1)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType=l;var f=function(e){function t(t){var n=e.call(this,t,1)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType1=f;var d=function(e){function t(t){var n=e.call(this,t,2)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType2=d;var h=function(e){function t(t){var n=e.call(this,t,3)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType3=h;var p=function(e){function t(t){var n=e.call(this,t,4)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType4=p;var g=function(e){function t(t){var n=e.call(this,t,5)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType5=g;var m=function(e){function t(t){var n=e.call(this,t,6)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType6=m;var v=function(e){function t(t){var n=e.call(this,t,7)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType7=v;var y=function(e){function t(t){var n=e.call(this,t,8)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType8=y;var b=function(e){function t(t){var n=e.call(this,t,9)||this;return n._=void 0,n}return i(t,e),t}(u);t.RequestType9=b;var w=function(e){function t(t){var n=e.call(this,t,1)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType=w;var _=function(e){function t(t){var n=e.call(this,t,0)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType0=_;var C=function(e){function t(t){var n=e.call(this,t,1)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType1=C;var E=function(e){function t(t){var n=e.call(this,t,2)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType2=E;var x=function(e){function t(t){var n=e.call(this,t,3)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType3=x;var T=function(e){function t(t){var n=e.call(this,t,4)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType4=T;var P=function(e){function t(t){var n=e.call(this,t,5)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType5=P;var S=function(e){function t(t){var n=e.call(this,t,6)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType6=S;var D=function(e){function t(t){var n=e.call(this,t,7)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType7=D;var R=function(e){function t(t){var n=e.call(this,t,8)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType8=R;var I=function(e){function t(t){var n=e.call(this,t,9)||this;return n._=void 0,n}return i(t,e),t}(u);t.NotificationType9=I,t.isRequestMessage=function(e){var t=e;return t&&s.string(t.method)&&(s.string(t.id)||s.number(t.id))},t.isNotificationMessage=function(e){var t=e;return t&&s.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){var t=e;return t&&(void 0!==t.result||!!t.error)&&(s.string(t.id)||s.number(t.id)||null===t.id)}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(47)),r(n(48)),r(n(127))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.socket=t,n.state="initial",n.events=[],n.socket.onMessage(function(e){return n.readMessage(e)}),n.socket.onError(function(e){return n.fireError(e)}),n.socket.onClose(function(e,t){if(1e3!==e){var r={name:""+e,message:"Error during socket reconnect: code = "+e+", reason = "+t};n.fireError(r)}n.fireClose()}),n}return i(t,e),t.prototype.listen=function(e){if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){var t=this.events.pop();t.message?this.readMessage(t.message):t.error?this.fireError(t.error):this.fireClose()}},t.prototype.readMessage=function(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){var t=JSON.parse(e);this.callback(t)}},t.prototype.fireError=function(t){"initial"===this.state?this.events.splice(0,0,{error:t}):"listening"===this.state&&e.prototype.fireError.call(this,t)},t.prototype.fireClose=function(){"initial"===this.state?this.events.splice(0,0,{}):"listening"===this.state&&e.prototype.fireClose.call(this),this.state="closed"},t}(n(12).AbstractMessageReader);t.WebSocketMessageReader=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.socket=t,n.errorCount=0,n}return i(t,e),t.prototype.write=function(e){try{var t=JSON.stringify(e);this.socket.send(t)}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}},t}(n(15).AbstractMessageWriter);t.WebSocketMessageWriter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.error=function(e){console.error(e)},e.prototype.warn=function(e){console.warn(e)},e.prototype.info=function(e){console.info(e)},e.prototype.log=function(e){console.log(e)},e.prototype.debug=function(e){console.debug(e)},e}();t.ConsoleLogger=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.reader=e,this.writer=t,this.dispose=n}return e.prototype.forward=function(e,t){void 0===t&&(t=function(e){return e}),this.reader.listen(function(n){var r=t(n);e.writer.write(r)})},e}();t.PluginConnection=r;var i=function(){function e(e){this.connection=e}return e.prototype.send=function(e){this.connection.writer.write(e)},e.prototype.onMessage=function(e){this.connection.reader.listen(e)},e.prototype.onError=function(e){this.connection.reader.onError(function(t){return e(t)})},e.prototype.onClose=function(e){this.connection.reader.onClose(function(){return e(-1,"closed")})},e.prototype.dispose=function(){this.connection.dispose()},e}();t.PluginWebSocketChannel=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(32),s=n(55),a=n(0),u=n(57),c=n(136),l=n(137),f=n(138),d=n(141),h=self,p=new Map,g=new Map,m=new i.Emitter,v=new o.RPCProtocolImpl({onMessage:m.event,send:function(e){h.postMessage(e)}});addEventListener("message",function(e){m.fire(e.data)});var y,b=new l.EnvExtImpl(v),w=new f.PreferenceRegistryExtImpl(v),_=d.createDebugExtStub(v),C=new s.PluginManagerExtImpl({loadPlugin:function(e){if(!function(){if("object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)return!0;return!1}()?h.importScripts("/hostedPlugin/"+c.getPluginId(e.model)+"/"+e.pluginPath):h.importScripts(e.pluginPath),e.lifecycle.frontendModuleName)return h[e.lifecycle.frontendModuleName]?h[e.lifecycle.frontendModuleName]:void console.error('WebWorker: Cannot start plugin "'+e.model.name+'". Frontend plugin not found: "'+e.lifecycle.frontendModuleName+'"')},init:function(e){var t,n,i,o=[],s=[];try{for(var a=r(e),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.model,f=c.lifecycle;if(l.entryPoint.frontend){var d=f.frontendInitPath;d?(i=d,h.importScripts("/context/"+i)):d="";var m={pluginPath:l.entryPoint.frontend,pluginFolder:c.source.packagePath,model:l,lifecycle:f,rawModel:c.source};o.push(m);var v=E(m);p.set(m.model.id,v),g.set(m.lifecycle.frontendModuleName,m)}else s.push({pluginPath:l.entryPoint.backend,pluginFolder:c.source.packagePath,model:l,lifecycle:f,rawModel:c.source})}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return[o,s]},initExtApi:function(e){var t,n;try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var s=o.value;try{s.frontendExtApi&&(h.importScripts(s.frontendExtApi.initPath),h[s.frontendExtApi.initVariable][s.frontendExtApi.initFunction](v,g))}catch(e){console.error(e)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},b,w,v),E=u.createAPIFactory(v,C,b,_,w),x={get:function(e,t){var n=g.get(t);return n?p.get(n.model.id):(y||(y=E(a.emptyPlugin)),y)}};h.theia=new Proxy(Object.create(null),x),v.set(a.MAIN_RPC_CONTEXT.HOSTED_PLUGIN_MANAGER_EXT,C),v.set(a.MAIN_RPC_CONTEXT.PREFERENCE_REGISTRY_EXT,w)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(9),n(5))},function(e,t,n){"use strict";(function(e){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(10),a=n(33),u=n(23),c=n(56),l=function(){return function(e,t,n){this.pluginContext=e,this.exports=t,this.stopFn=n}}(),f=function(){function t(e,t,n,r){this.host=e,this.envExt=t,this.preferencesManager=n,this.rpc=r,this.registry=new Map,this.activatedPlugins=new Map,this.pluginActivationPromises=new Map,this.pluginContextsMap=new Map}return t.prototype.$stopPlugin=function(e){return this.activatedPlugins.forEach(function(e){e.stopFn&&e.stopFn();var t=e.pluginContext;t&&a.dispose(t.subscriptions)}),Promise.resolve()},t.prototype.$init=function(e,t){var n,s,a,u,l,f;this.storageProxy=this.rpc.set(o.MAIN_RPC_CONTEXT.STORAGE_EXT,new c.KeyValueStorageProxy(this.rpc.getProxy(o.PLUGIN_RPC_CONTEXT.STORAGE_MAIN),e.globalState,e.workspaceState)),this.envExt.setQueryParameters(e.env.queryParams),this.preferencesManager.init(e.preferences),e.extApi&&this.host.initExtApi(e.extApi);var d=r(this.host.init(e.plugins),2),h=d[0],p=d[1];try{for(var g=i(p),m=g.next();!m.done;m=g.next()){var v=m.value;this.registry.set(v.model.id,v)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}try{for(var y=i(h),b=y.next();!b.done;b=y.next()){v=b.value;this.registry.set(v.model.id,v)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}try{for(var w=i(h),_=w.next();!_.done;_=w.next()){v=_.value;var C=this.host.loadPlugin(v);if(void 0===C)return Promise.reject(new Error("Unable to load the given plugin"));this.startPlugin(v,t,C)}}catch(e){l={error:e}}finally{try{_&&!_.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}}return Promise.resolve()},t.prototype.$updateStoragePath=function(e){return this.pluginContextsMap.forEach(function(t,n){t.storagePath=e?s.join(e,n):void 0}),Promise.resolve()},t.prototype.startPlugin=function(t,n,r){var i=s.join(n.hostLogPath,t.model.id),o=s.join(n.hostStoragePath,t.model.id),a={extensionPath:t.pluginFolder,globalState:new c.Memento(t.model.id,!0,this.storageProxy),workspaceState:new c.Memento(t.model.id,!1,this.storageProxy),subscriptions:[],asAbsolutePath:function(e){return s.join(t.pluginFolder,e)},logPath:i,storagePath:o};this.pluginContextsMap.set(t.model.id,a);var u=void 0;if("function"==typeof r[t.lifecycle.stopMethod]&&(u=r[t.lifecycle.stopMethod]),"function"==typeof r[t.lifecycle.startMethod]){var f=r[t.lifecycle.startMethod].apply("undefined"==typeof self?void 0===e?null:e:self,[a]);this.activatedPlugins.set(t.model.id,new l(a,f,u)),this.pluginActivationPromises.has(t.model.id)&&(this.pluginActivationPromises.get(t.model.id).resolve(),this.pluginActivationPromises.delete(t.model.id))}else console.log("There is no "+t.lifecycle.startMethod+" method on plugin")},t.prototype.getAllPlugins=function(){return Array.from(this.registry.values())},t.prototype.getPluginExport=function(e){var t=this.activatedPlugins.get(e);if(t)return t.exports},t.prototype.getPluginById=function(e){return this.registry.get(e)},t.prototype.isRunning=function(e){return this.registry.has(e)},t.prototype.activatePlugin=function(e){if(this.pluginActivationPromises.has(e))return this.pluginActivationPromises.get(e).promise;var t=new u.Deferred;return this.pluginActivationPromises.set(e,t),t.promise},t}();t.PluginManagerExtImpl=f}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t,n){var r=this;this.pluginId=e,this.isPluginGlobalData=t,this.storage=n,this.cache=n.getPerPluginData(e,t),this.isPluginGlobalData||this.storage.storageDataChangedEvent(function(e){r.cache=e[r.pluginId]?e[r.pluginId]:{}})}return e.prototype.get=function(e,t){return e&&this.cache[e]?this.cache[e]:t},e.prototype.update=function(e,t){return this.cache[e]=t,this.storage.setPerPluginData(this.pluginId,this.cache,this.isPluginGlobalData).then(function(e){})},e}();t.Memento=i;var o=function(){function e(e,t,n){this.storageDataChangedEmitter=new r.Emitter,this.storageDataChangedEvent=this.storageDataChangedEmitter.event,this.proxy=e,this.globalDataCache=t,this.workspaceDataCache=n}return e.prototype.getPerPluginData=function(e,t){return t?this.globalDataCache[e]||{}:this.workspaceDataCache[e]||{}},e.prototype.setPerPluginData=function(e,t,n){return n?this.globalDataCache[e]=t:this.workspaceDataCache[e]=t,this.proxy.$set(e,t,n)},e.prototype.$updatePluginsWorkspaceData=function(e){this.workspaceDataCache=e,this.storageDataChangedEmitter.fire(e)},e}();t.KeyValueStorageProxy=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(58),u=n(3),c=n(28),l=n(59),f=n(0),d=n(60),h=n(61),p=n(64),g=n(65),m=n(2),v=n(27),y=n(67),b=n(71),w=n(72),_=n(7),C=n(73),E=n(74),x=n(76),T=n(77),P=n(1),S=n(105),D=n(106),R=n(107),I=n(26),O=n(108),k=n(109),A=n(129),M=n(132),N=n(133);t.createAPIFactory=function(e,t,o,j,q){var F=e.set(f.MAIN_RPC_CONTEXT.COMMAND_REGISTRY_EXT,new a.CommandRegistryImpl(e)),W=e.set(f.MAIN_RPC_CONTEXT.QUICK_OPEN_EXT,new l.QuickOpenExtImpl(e)),$=new S.DialogsExtImpl(e),U=new d.MessageRegistryExt(e),K=e.set(f.MAIN_RPC_CONTEXT.WINDOW_STATE_EXT,new p.WindowStateExtImpl),B=e.set(f.MAIN_RPC_CONTEXT.NOTIFICATION_EXT,new D.NotificationExtImpl(e)),V=new R.StatusBarExtImpl(e),H=e.set(f.MAIN_RPC_CONTEXT.EDITORS_AND_DOCUMENTS_EXT,new y.EditorsAndDocumentsExtImpl(e)),G=e.set(f.MAIN_RPC_CONTEXT.TEXT_EDITORS_EXT,new b.TextEditorsExtImpl(e,H)),z=e.set(f.MAIN_RPC_CONTEXT.DOCUMENTS_EXT,new w.DocumentsExtImpl(e,H)),X=e.set(f.MAIN_RPC_CONTEXT.WORKSPACE_EXT,new g.WorkspaceExtImpl(e,H)),Y=new h.StatusBarMessageRegistryExt(e),J=e.set(f.MAIN_RPC_CONTEXT.TERMINAL_EXT,new x.TerminalServiceExtImpl(e)),Q=new E.OutputChannelRegistryExt(e),Z=e.set(f.MAIN_RPC_CONTEXT.LANGUAGES_EXT,new T.LanguagesExtImpl(e,z,F)),ee=e.set(f.MAIN_RPC_CONTEXT.TREE_VIEWS_EXT,new O.TreeViewsExtImpl(e,F)),te=e.set(f.MAIN_RPC_CONTEXT.WEBVIEWS_EXT,new M.WebviewsExtImpl(e)),ne=e.set(f.MAIN_RPC_CONTEXT.TASKS_EXT,new N.TasksExtImpl(e)),re=e.set(f.MAIN_RPC_CONTEXT.CONNECTION_EXT,new A.ConnectionExtImpl(e)),ie=e.set(f.MAIN_RPC_CONTEXT.LANGUAGES_CONTRIBUTION_EXT,new k.LanguagesContributionExtImpl(e,re));return e.set(f.MAIN_RPC_CONTEXT.DEBUG_EXT,j),function(e){var a={registerCommand:function(e,t){return F.registerCommand(e,t)},executeCommand:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return F.executeCommand(e,t)},registerTextEditorCommand:function(e,t){throw new Error("Function registerTextEditorCommand is not implemented")},registerHandler:function(e,t){return F.registerHandler(e,t)}},l={get activeTextEditor(){return G.getActiveEditor()},get visibleTextEditors(){return G.getVisibleTextEditors()},onDidChangeActiveTextEditor:function(e,t,n){return G.onDidChangeActiveTextEditor(e,t,n)},onDidChangeVisibleTextEditors:function(e,t,n){return G.onDidChangeVisibleTextEditors(e,t,n)},onDidChangeTextEditorSelection:function(e,t,n){return G.onDidChangeTextEditorSelection(e,t,n)},onDidChangeTextEditorOptions:function(e,t,n){return G.onDidChangeTextEditorOptions(e,t,n)},onDidChangeTextEditorViewColumn:function(e,t,n){return G.onDidChangeTextEditorViewColumn(e,t,n)},onDidChangeTextEditorVisibleRanges:function(e,t,n){return G.onDidChangeTextEditorVisibleRanges(e,t,n)},showTextDocument:function(e,t,n){return r(this,void 0,void 0,function(){var r,o,s,a;return i(this,function(i){switch(i.label){case 0:return o=e instanceof _.default?e:e.uri,t&&((s=t).preserveFocus||s.preview||s.selection||s.viewColumn)&&(r=t),n&&(r?r.preserveFocus=n:r={preserveFocus:n}),[4,z.openDocument(o,r)];case 1:if(i.sent(),a=G.getVisibleTextEditors().find(function(e){return e.document.uri.toString()===o.toString()}))return[2,Promise.resolve(a)];throw new Error("Failed to show text document "+e.toString())}})})},showQuickPick:function(e,t,n){if(n){var r=Object.assign(n.onCancellationRequested,{maxListeners:0}),i={isCancellationRequested:n.isCancellationRequested,onCancellationRequested:r};return W.showQuickPick(e,t,i)}return W.showQuickPick(e,t)},showWorkspaceFolderPick:function(e){return X.pickWorkspaceFolder(e)},showInformationMessage:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return U.showInformationMessage(e,t,n)},showWarningMessage:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return U.showWarningMessage(e,t,n)},showErrorMessage:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return U.showErrorMessage(e,t,n)},showOpenDialog:function(e){return $.showOpenDialog(e)},showSaveDialog:function(e){return $.showSaveDialog(e)},setStatusBarMessage:function(e,t){return Y.setStatusBarMessage(e,t)},showInputBox:function(e,t){if(t){var n=Object.assign(t.onCancellationRequested,{maxListeners:0}),r={isCancellationRequested:t.isCancellationRequested,onCancellationRequested:n};return W.showInput(e,r)}return W.showInput(e)},createStatusBarItem:function(e,t){return Y.createStatusBarItem(e,t)},createOutputChannel:function(e){return Q.createOutputChannel(e)},createWebviewPanel:function(t,n,r,i){return te.createWebview(t,n,r,i,_.default.file(e.pluginPath))},registerWebviewPanelSerializer:function(e,t){return te.registerWebviewPanelSerializer(e,t)},get state(){return K.getWindowState()},onDidChangeWindowState:function(e,t,n){return K.onDidChangeWindowState(e,t,n)},createTerminal:function(e,t,n){return J.createTerminal(e,t,n)},get onDidCloseTerminal(){return J.onDidCloseTerminal},set onDidCloseTerminal(e){J.onDidCloseTerminal=e},createTextEditorDecorationType:function(e){return G.createTextEditorDecorationType(e)},registerTreeDataProvider:function(e,t){return ee.registerTreeDataProvider(e,t)},createTreeView:function(e,t){return ee.createTreeView(e,t)},withProgress:function(e,t){switch(e.location){case m.ProgressLocation.Notification:return B.withProgress(e,t);case m.ProgressLocation.Window:return V.withProgress(e,t);case m.ProgressLocation.SourceControl:return new Promise(function(){console.error("Progress location 'SourceControl' is not supported.")})}}},f={get workspaceFolders(){return X.workspaceFolders},get name(){return X.name},onDidChangeWorkspaceFolders:function(e,t,n){return X.onDidChangeWorkspaceFolders(e,t,n)},get textDocuments(){return z.getAllDocumentData().map(function(e){return e.document})},onDidChangeTextDocument:function(e,t,n){return z.onDidChangeDocument(e,t,n)},onDidCloseTextDocument:function(e,t,n){return z.onDidRemoveDocument(e,t,n)},onDidOpenTextDocument:function(e,t,n){return z.onDidAddDocument(e,t,n)},onDidSaveTextDocument:function(e,t,n){return z.onDidSaveTextDocument(e,t,n)},getConfiguration:function(e,t){return q.getConfiguration(e,t)},onDidChangeConfiguration:function(e,t,n){return q.onDidChangeConfiguration(e,t,n)},openTextDocument:function(e){return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return t=e,"string"!=typeof e?[3,1]:(n=_.default.file(e),[3,5]);case 1:return e instanceof _.default?(n=e,[3,5]):[3,2];case 2:return t&&"object"!=typeof t?[3,4]:[4,z.createDocumentData(t)];case 3:return n=i.sent(),[3,5];case 4:return[2,Promise.reject("illegal argument - uriOrFileNameOrOptions")];case 5:return[4,z.openDocument(n)];case 6:return[2,(r=i.sent())&&r.document]}})})},createFileSystemWatcher:function(e,t,n,r){return X.createFileSystemWatcher(e,t,n,r)},findFiles:function(e,t,n,r){return X.findFiles(e,void 0,n,r)},registerTextDocumentContentProvider:function(e,t){return X.registerTextDocumentContentProvider(e,t)},registerFileSystemProvider:function(e,t,n){return new m.Disposable(function(){})},getWorkspaceFolder:function(e){return X.getWorkspaceFolder(e)},asRelativePath:function(e,t){return X.getRelativePath(e,t)}},d={getEnvVariable:function(e){return o.getEnvVariable(e)},getQueryParameter:function(e){return o.getQueryParameter(e)},getQueryParameters:function(){return o.getQueryParameters()}},h={registerLanguageServerProvider:function(e){return ie.registerLanguageServerProvider(e)},stop:function(e){ie.stop(e)}},p={getLanguages:function(){return Z.getLanguages()},match:function(e,t){return T.score(P.fromDocumentSelector(e),t.uri,t.languageId,!0)},get onDidChangeDiagnostics(){return Z.onDidChangeDiagnostics},getDiagnostics:function(e){return Z.getDiagnostics(e)},createDiagnosticCollection:function(e){return Z.createDiagnosticCollection(e)},setLanguageConfiguration:function(e,t){return Z.setLanguageConfiguration(e,t)},registerCompletionItemProvider:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Z.registerCompletionItemProvider(e,t,n)},registerDefinitionProvider:function(e,t){return Z.registerDefinitionProvider(e,t)},registerSignatureHelpProvider:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Z.registerSignatureHelpProvider.apply(Z,s([e,t],n))},registerTypeDefinitionProvider:function(e,t){return Z.registerTypeDefinitionProvider(e,t)},registerImplementationProvider:function(e,t){return Z.registerImplementationProvider(e,t)},registerHoverProvider:function(e,t){return Z.registerHoverProvider(e,t)},registerDocumentHighlightProvider:function(e,t){return Z.registerDocumentHighlightProvider(e,t)},registerWorkspaceSymbolProvider:function(e){return Z.registerWorkspaceSymbolProvider(e)},registerDocumentFormattingEditProvider:function(e,t){return Z.registerDocumentFormattingEditProvider(e,t)},registerDocumentRangeFormattingEditProvider:function(e,t){return Z.registerDocumentRangeFormattingEditProvider(e,t)},registerOnTypeFormattingEditProvider:function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return Z.registerOnTypeFormattingEditProvider(e,t,[n].concat(r))},registerDocumentLinkProvider:function(e,t){return Z.registerLinkProvider(e,t)},registerCodeActionsProvider:function(t,n,r){return Z.registerCodeActionsProvider(t,n,e.model,r)},registerCodeLensProvider:function(e,t){return Z.registerCodeLensProvider(e,t)},registerReferenceProvider:function(e,t){return Z.registerReferenceProvider(e,t)},registerDocumentSymbolProvider:function(e,t){return Z.registerDocumentSymbolProvider(e,t)},registerColorProvider:function(e,t){return Z.registerColorProvider(e,t)},registerFoldingRangeProvider:function(e,t){return Z.registerFoldingRangeProvider(e,t)}},g={get all(){return t.getAllPlugins().map(function(e){return new L(t,e)})},getPlugin:function(e){var n=t.getPluginById(e);if(n)return new L(t,n)}},y=e.model.contributes&&e.model.contributes.debuggers||[];j.assistedInject(re,F),j.registerDebuggersContributions(e.pluginFolder,y);var b={get activeDebugSession(){return j.activeDebugSession},get activeDebugConsole(){return j.activeDebugConsole},get breakpoints(){return j.breakpoints},get onDidChangeActiveDebugSession(){return j.onDidChangeActiveDebugSession},get onDidStartDebugSession(){return j.onDidStartDebugSession},get onDidReceiveDebugSessionCustomEvent(){return j.onDidReceiveDebugSessionCustomEvent},get onDidTerminateDebugSession(){return j.onDidTerminateDebugSession},get onDidChangeBreakpoints(){return j.onDidChangeBreakpoints},registerDebugConfigurationProvider:function(e,t){return j.registerDebugConfigurationProvider(e,t)},startDebugging:function(e,t){return j.startDebugging(e,t)},addBreakpoints:function(e){j.addBreakpoints(e)},removeBreakpoints:function(e){j.removeBreakpoints(e)}},w={registerTaskProvider:function(e,t){return ne.registerTaskProvider(e,t)},onDidStartTask:function(e,t,n){return ne.onDidStartTask(e,t,n)}};return{version:n(135).version,commands:a,window:l,workspace:f,env:d,languageServer:h,languages:p,plugins:g,debug:b,tasks:w,StatusBarAlignment:m.StatusBarAlignment,Disposable:m.Disposable,EventEmitter:u.Emitter,CancellationTokenSource:c.CancellationTokenSource,MarkdownString:I.MarkdownString,Position:m.Position,Range:m.Range,Selection:m.Selection,ViewColumn:m.ViewColumn,TextEditorSelectionChangeKind:m.TextEditorSelectionChangeKind,Uri:_.default,EndOfLine:m.EndOfLine,TextEditorRevealType:m.TextEditorRevealType,TextEditorCursorStyle:C.TextEditorCursorStyle,TextEditorLineNumbersStyle:m.TextEditorLineNumbersStyle,ThemeColor:m.ThemeColor,ThemeIcon:m.ThemeIcon,SnippetString:m.SnippetString,DecorationRangeBehavior:m.DecorationRangeBehavior,OverviewRulerLane:m.OverviewRulerLane,ConfigurationTarget:m.ConfigurationTarget,RelativePattern:m.RelativePattern,IndentAction:m.IndentAction,CompletionItem:m.CompletionItem,CompletionItemKind:m.CompletionItemKind,CompletionList:m.CompletionList,DiagnosticSeverity:m.DiagnosticSeverity,DiagnosticRelatedInformation:m.DiagnosticRelatedInformation,Location:m.Location,DiagnosticTag:m.DiagnosticTag,Diagnostic:m.Diagnostic,CompletionTriggerKind:m.CompletionTriggerKind,TextEdit:m.TextEdit,ProgressLocation:m.ProgressLocation,ProgressOptions:m.ProgressOptions,Progress:m.Progress,ParameterInformation:m.ParameterInformation,SignatureInformation:m.SignatureInformation,SignatureHelp:m.SignatureHelp,Hover:m.Hover,DocumentHighlightKind:m.DocumentHighlightKind,DocumentHighlight:m.DocumentHighlight,DocumentLink:m.DocumentLink,CodeLens:m.CodeLens,CodeActionKind:m.CodeActionKind,CodeActionTrigger:m.CodeActionTrigger,TextDocumentSaveReason:m.TextDocumentSaveReason,CodeAction:m.CodeAction,TreeItem:m.TreeItem,TreeItemCollapsibleState:m.TreeItemCollapsibleState,SymbolKind:v.SymbolKind,DocumentSymbol:m.DocumentSymbol,WorkspaceEdit:m.WorkspaceEdit,SymbolInformation:m.SymbolInformation,FileType:m.FileType,FileChangeType:m.FileChangeType,ShellQuoting:m.ShellQuoting,ShellExecution:m.ShellExecution,ProcessExecution:m.ProcessExecution,TaskScope:m.TaskScope,TaskRevealKind:m.TaskRevealKind,TaskPanelKind:m.TaskPanelKind,TaskGroup:m.TaskGroup,Task:m.Task,Breakpoint:m.Breakpoint,SourceBreakpoint:m.SourceBreakpoint,FunctionBreakpoint:m.FunctionBreakpoint,Color:m.Color,ColorInformation:m.ColorInformation,ColorPresentation:m.ColorPresentation,FoldingRange:m.FoldingRange,FoldingRangeKind:m.FoldingRangeKind}}};var L=function(){function e(e,t){this.pluginManager=e,this.id=t.model.id,this.pluginPath=t.pluginFolder,this.packageJSON=t.rawModel,this.isActive=!0,this.pluginType=t.model.entryPoint.frontend?"frontend":"backend"}return Object.defineProperty(e.prototype,"exports",{get:function(){return this.pluginManager.getPluginExport(this.id)},enumerable:!0,configurable:!0}),e.prototype.activate=function(){var e=this;return this.pluginManager.activatePlugin(this.id).then(function(){return e.exports})},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(17),s=function(){function e(t){this.commands=new Map,this.proxy=t.getProxy(r.PLUGIN_RPC_CONTEXT.COMMAND_REGISTRY_MAIN),this.converter=new a(this),this.registerHandler("vscode.previewHtml",e.EMPTY_HANDLER)}return e.EMPTY_HANDLER=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.resolve(void 0)},e.prototype.getConverter=function(){return this.converter},e.prototype.registerCommand=function(e,t){var n=this;if(this.commands.has(e.id))throw new Error("Command "+e.id+" already exist");return t&&this.commands.set(e.id,t),this.proxy.$registerCommand(e),i.Disposable.create(function(){n.commands.delete(e.id),n.proxy.$unregisterCommand(e.id)})},e.prototype.registerHandler=function(e,t){var n=this;if(this.commands.has(e))throw new Error("Command "+e+" already has handler");return this.commands.set(e,t),i.Disposable.create(function(){n.commands.delete(e),n.proxy.$unregisterCommand(e)})},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e.prototype.$executeCommand=function(e,t){return this.commands.has(e)?this.executeLocalCommand(e,t):Promise.reject("Command: "+e+" does not exist.")},e.prototype.executeCommand=function(e,t){return this.commands.has(e)?this.executeLocalCommand(e,t):this.proxy.$executeCommand(e,t)},e.prototype.executeLocalCommand=function(e,t){var n=this.commands.get(e);return n?Promise.resolve(n(t)):Promise.reject(new Error("Command "+e+" doesn't exist"))},e}();t.CommandRegistryImpl=s;var a=function(){function e(e){this.commands=e,this.cacheId=0,this.cache=new Map,this.delegatingCommandId="_internal_command_delegation_"+Date.now(),this.commands.registerHandler(this.delegatingCommandId,this.executeConvertedCommand)}return e.prototype.toInternal=function(t){if(t&&t.label){var n={id:t.id,title:t.label};if(t.id&&!e.isFalsyOrEmpty(t.arguments)){var r=this.cacheId++;o.ObjectIdentifier.mixin(n,r),this.cache.set(r,t),n.id=this.delegatingCommandId,n.arguments=[r]}return t.tooltip&&(n.tooltip=t.tooltip),n}},e.prototype.fromInternal=function(e){if(e){var t=o.ObjectIdentifier.of(e);return"number"==typeof t?this.cache.get(t):{id:e.id,label:e.title,arguments:e.arguments}}},e.prototype.executeConvertedCommand=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.cache.get(e[0]);return n?this.commands.executeCommand(n.id,n.arguments||[]):Promise.resolve(void 0)},e.isFalsyOrEmpty=function(e){return!Array.isArray(e)||0===e.length},e}();t.CommandsConverter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28),o=n(37),s=n(37),a=function(){function e(e){this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.QUICK_OPEN_MAIN)}return e.prototype.$onItemSelected=function(e){this.selectItemHandler&&this.selectItemHandler(e)},e.prototype.$validateInput=function(e){if(this.validateInputHandler)return Promise.resolve(this.validateInputHandler(e))},e.prototype.showQuickPick=function(e,t,n){var r=this;void 0===n&&(n=i.CancellationToken.None),this.selectItemHandler=void 0;var a=Promise.resolve(e),u=this.proxy.$show({canSelectMany:t&&t.canPickMany,placeHolder:t&&t.placeHolder,autoFocus:{autoFocusFirstEntry:!0},matchOnDescription:t&&t.machOnDescription,matchOnDetail:t&&t.machOnDetail,ignoreFocusLost:t&&t.ignoreFocusOut}),c=o.anyPromise([u,a]).then(function(e){if(0!==e.key)return a.then(function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i],s=void 0,a=void 0,c=void 0,l=void 0;"string"==typeof o?s=o:(s=o.label,a=o.description,c=o.detail,l=o.picked),n.push({label:s,description:a,handle:i,detail:c,picked:l})}return t&&"function"==typeof t.onDidSelectItem&&(r.selectItemHandler=function(n){t.onDidSelectItem(e[n])}),r.proxy.$setItems(n),u.then(function(t){return"number"==typeof t?e[t]:Array.isArray(t)?t.map(function(t){return e[t]}):void 0})},function(e){return r.proxy.$setError(e),Promise.reject(e)})});return s.hookCancellationToken(n,c)},e.prototype.showInput=function(e,t){void 0===t&&(t=i.CancellationToken.None),this.validateInputHandler=e&&e.validateInput,e||(e={placeHolder:""});var n=this.proxy.$input(e,"function"==typeof this.validateInputHandler);return s.hookCancellationToken(t,n)},e}();t.QuickOpenExtImpl=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.MESSAGE_REGISTRY_MAIN)}return e.prototype.showInformationMessage=function(e,t,n){return this.proxy.$showInformationMessage(e,t,n)},e.prototype.showWarningMessage=function(e,t,n){return this.proxy.$showWarningMessage(e,t,n)},e.prototype.showErrorMessage=function(e,t,n){return this.proxy.$showErrorMessage(e,t,n)},e}();t.MessageRegistryExt=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(62),s=function(){function e(e){this.proxy=e.getProxy(i.PLUGIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_MAIN)}return e.prototype.setStatusBarMessage=function(e,t){var n,i,o=this;return this.proxy.$setMessage(e,0,1,void 0,void 0,void 0).then(function(e){n=e}),"number"==typeof t?i=setTimeout(function(){return o.dispose(n)},t):void 0!==t&&t.then(function(){return o.dispose(n)},function(){return o.dispose(n)}),r.Disposable.create(function(){o.dispose(n),i&&clearTimeout(i)})},e.prototype.dispose=function(e){e&&this.proxy.$dispose(e)},e.prototype.createStatusBarItem=function(e,t){return new o.StatusBarItemImpl(this.proxy,e,t)},e}();t.StatusBarMessageRegistryExt=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(63),o=function(){function e(e,t,n){void 0===t&&(t=r.StatusBarAlignment.Left),void 0===n&&(n=0),this._proxy=e,this._alignment=t,this._priority=n}return Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._tooltip=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this._command},set:function(e){this._command=e,this.update()},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._isVisible=!0,this.update()},e.prototype.hide=function(){this._timeoutHandle&&clearTimeout(this._timeoutHandle),this._messageId&&this._proxy.$dispose(this._messageId),this._isVisible=!1},e.prototype.update=function(){var e=this;this._isVisible&&(this._messageId&&this._proxy.$dispose(this._messageId),this._timeoutHandle&&clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout(function(){e._timeoutHandle=void 0,e._proxy.$setMessage(e.text,e.priority,e.alignment,e.getColor(),e.tooltip,e.command).then(function(t){e._messageId=t})},0))},e.prototype.getColor=function(){if("string"!=typeof this.color&&void 0!==this.color){var e=this.color.id;return"var("+(i.VS_COLORS[e]?i.VS_COLORS[e]:e)+")"}return this.color},e.prototype.dispose=function(){this.hide()},e}();t.StatusBarItemImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VS_COLORS={"statusBar.foreground":"--theia-layout-color4","editorOverviewRuler.errorForeground":"--theia-error-color0","editorOverviewRuler.warningForeground":"--theia-warn-color0","editorOverviewRuler.infoForeground":"--theia-info-color0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(){this.windowStateChangedEmitter=new r.Emitter,this.onDidChangeWindowState=this.windowStateChangedEmitter.event,this.windowStateCached={focused:!0}}return e.prototype.getWindowState=function(){return this.windowStateCached},e.prototype.$onWindowStateChanged=function(e){var t={focused:e};t!==this.windowStateCached&&(this.windowStateCached=t,this.windowStateChangedEmitter.fire(t))},e}();t.WindowStateExtImpl=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=n(3),a=n(28),u=n(0),c=n(38),l=n(66),f=n(7),d=n(24),h=n(35),p=function(){function e(e,t){this.editorsAndDocuments=t,this.workspaceFoldersChangedEmitter=new s.Emitter,this.onDidChangeWorkspaceFolders=this.workspaceFoldersChangedEmitter.event,this.documentContentProviders=new Map,this.proxy=e.getProxy(u.PLUGIN_RPC_CONTEXT.WORKSPACE_MAIN),this.fileSystemWatcherManager=new l.InPluginFileSystemWatcherProxy(this.proxy)}return Object.defineProperty(e.prototype,"workspaceFolders",{get:function(){return this.folders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){if(this.workspaceFolders)return new c.Path(this.workspaceFolders[0].uri.path).base},enumerable:!0,configurable:!0}),e.prototype.$onWorkspaceFoldersChanged=function(e){var t=this,n=(e.roots||[]).map(function(e,n){return t.toWorkspaceFolder(e,n)}),r=this.foldersDiff(n,this.folders),i=this.foldersDiff(this.folders,n);this.folders=n,this.workspaceFoldersChangedEmitter.fire({added:r,removed:i})},e.prototype.foldersDiff=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var n=new Map;return e.forEach(function(e){return n.set(e.uri.toString(),e)}),t.forEach(function(e){return n.delete(e.uri.toString())}),e.filter(function(e){return n.has(e.uri.toString())})},e.prototype.toWorkspaceFolder=function(e,t){var n=f.default.parse(e.uri);return{uri:n,name:new c.Path(n.path).base,index:t}},e.prototype.pickWorkspaceFolder=function(e){var t=this;return new Promise(function(n,r){var i={placeHolder:e&&e.placeHolder?e.placeHolder:void 0,ignoreFocusOut:e&&e.ignoreFocusOut};t.proxy.$pickWorkspaceFolder(i).then(function(e){n(e)})})},e.prototype.findFiles=function(e,t,n,r){var i,o;return void 0===r&&(r=a.CancellationToken.None),i=e?"string"==typeof e?e:e.pattern:"",o=void 0!==t&&(!!t&&("string"==typeof t?t:t.pattern)),r&&r.isCancellationRequested?Promise.resolve([]):this.proxy.$startFileSearch(i,o,n,r).then(function(e){return Array.isArray(e)?e.map(f.default.revive):[]})},e.prototype.createFileSystemWatcher=function(e,t,n,r){return this.fileSystemWatcherManager.createFileSystemWatcher(e,t,n,r)},e.prototype.$fileChanged=function(e){this.fileSystemWatcherManager.onFileSystemEvent(e.subscriberId,f.default.revive(e.uri),e.type)},e.prototype.registerTextDocumentContentProvider=function(e,t){var n,o=this;if("file"===e||"untitled"===e||this.documentContentProviders.has(e))throw new Error("Text Content Document Provider for scheme '"+e+"' is already registered");this.documentContentProviders.set(e,t),this.proxy.$registerTextDocumentContentProvider(e),"function"==typeof t.onDidChange&&(n=t.onDidChange(function(t){return r(o,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return t.scheme===e&&this.editorsAndDocuments.getDocument(t.toString())?[4,this.$provideTextDocumentContent(t.toString())]:[3,2];case 1:(n=r.sent())&&this.proxy.$onTextDocumentContentChange(t.toString(),n),r.label=2;case 2:return[2]}})})}));var s=this;return{dispose:function(){s.documentContentProviders.delete(e)&&s.proxy.$unregisterTextDocumentContentProvider(e),n&&n.dispose()}}},e.prototype.$provideTextDocumentContent=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){return t=f.default.parse(e),(n=this.documentContentProviders.get(t.scheme))?[2,n.provideTextDocumentContent(t,a.CancellationToken.None)]:[2,void 0]})})},e.prototype.getWorkspaceFolder=function(e,t){if(this.folders&&this.folders.length){var n;t&&this.hasFolder(e)&&(e="file"===(n=e).scheme?f.default.file(o.dirname(n.fsPath)):n.with({path:o.dirname(n.path)}));for(var r,i=e.toString(),s=0;s<this.folders.length;s++){var a=this.folders[s],u=a.uri.toString();if(i===u)return e;i.startsWith(u)&&"/"===i[u.length]&&(!r||u.length>r.uri.toString().length)&&(r=a)}return r}},e.prototype.hasFolder=function(e){return!!this.folders&&this.folders.some(function(t){return t.uri.toString()===e.toString()})},e.prototype.getRelativePath=function(e,t){var n;if("string"==typeof e?n=e:void 0!==e&&(n=e.fsPath),!n)return n;var r=this.getWorkspaceFolder("string"==typeof e?f.default.file(e):e,!0);if(!r)return n;void 0===t&&(t=this.folders.length>1);var i=h.relative(r.uri.fsPath,n);return t&&(i=r.name+"/"+i),d.normalize(i,!0)},e}();t.WorkspaceExtImpl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e){this.proxy=e,this.subscribers=new Map}return e.prototype.createFileSystemWatcher=function(e,t,n,i){var s=this,a=new r.Emitter,u={event:a.event},c={globPattern:e,ignoreCreateEvents:t,ignoreChangeEvents:n,ignoreDeleteEvents:i};return this.proxy.$registerFileSystemWatcher(c).then(function(e){s.subscribers.set(e,a),u.unsubscribe=function(){return s.proxy.$unregisterFileSystemWatcher(e)}}),new o(u,t,n,i)},e.prototype.onFileSystemEvent=function(e,t,n){var r=this.subscribers.get(e);r?r.fire({uri:t,type:n}):this.proxy.$unregisterFileSystemWatcher(e)},e}();t.InPluginFileSystemWatcherProxy=i;var o=function(){function e(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this;this.isIgnoreCreateEvents=t,this.isIgnoreChangeEvents=n,this.isIgnoreDeleteEvents=i,this.onDidCreateEmitter=new r.Emitter,this.onDidChangeEmitter=new r.Emitter,this.onDidDeleteEmitter=new r.Emitter,this.subscriberData=e,e.event(function(e){switch(e.type){case"updated":o.onDidChangeEmitter.fire(e.uri);break;case"created":o.onDidCreateEmitter.fire(e.uri);break;case"deleted":o.onDidDeleteEmitter.fire(e.uri)}})}return Object.defineProperty(e.prototype,"ignoreCreateEvents",{get:function(){return this.isIgnoreCreateEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreChangeEvents",{get:function(){return this.isIgnoreChangeEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreDeleteEvents",{get:function(){return this.isIgnoreDeleteEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidCreate",{get:function(){return this.onDidCreateEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this.onDidChangeEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDelete",{get:function(){return this.onDidDeleteEmitter.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.onDidCreateEmitter.dispose(),this.onDidChangeEmitter.dispose(),this.onDidDeleteEmitter.dispose(),this.subscriberData.unsubscribe&&this.subscriberData.unsubscribe()},e}()},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(68),s=n(3),a=n(40),u=n(29),c=n(1),l=n(33),f=n(7),d=function(){function e(e){this.rpc=e,this._onDidAddDocuments=new s.Emitter,this._onDidRemoveDocuments=new s.Emitter,this._onDidChangeVisibleTextEditors=new s.Emitter,this._onDidChangeActiveTextEditors=new s.Emitter,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditors.event,this.documents=new Map,this.editors=new Map}return e.prototype.$acceptEditorsAndDocumentsDelta=function(e){var t,n,s,d,h,p,g,m,v=new Array,y=new Array,b=new Array;if(e.removedDocuments)try{for(var w=r(e.removedDocuments),_=w.next();!_.done;_=w.next()){var C=_.value,E=f.default.revive(C).toString(),x=this.documents.get(E);this.documents.delete(E),x&&v.push(x)}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}if(e.addedDocuments)try{for(var T=r(e.addedDocuments),P=T.next();!P.done;P=T.next()){x=P.value;var S=f.default.revive(x.uri);u.ok(!this.documents.has(S.toString()),"document '"+S+"' already exists!");var D=new a.DocumentDataExt(this.rpc.getProxy(i.PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN),S,x.lines,x.EOL,x.modeId,x.versionId,x.isDirty);this.documents.set(S.toString(),D),y.push(D)}}catch(e){s={error:e}}finally{try{P&&!P.done&&(d=T.return)&&d.call(T)}finally{if(s)throw s.error}}if(e.removedEditors)try{for(var R=r(e.removedEditors),I=R.next();!I.done;I=R.next()){E=I.value;var O=this.editors.get(E);this.editors.delete(E),O&&b.push(O)}}catch(e){h={error:e}}finally{try{I&&!I.done&&(p=R.return)&&p.call(R)}finally{if(h)throw h.error}}if(e.addedEditors)try{for(var k=r(e.addedEditors),A=k.next();!A.done;A=k.next()){x=A.value,S=f.default.revive(x.documentUri);u.ok(this.documents.has(S.toString()),"document '"+S+"' doesn't exist"),u.ok(!this.editors.has(x.id),"editor '"+x.id+"' already exists!");D=this.documents.get(S.toString()),O=new o.TextEditorExt(this.rpc.getProxy(i.PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN),x.id,D,x.selections.map(c.toSelection),x.options,x.visibleRanges.map(c.toRange),c.toViewColumn(x.editorPosition));this.editors.set(x.id,O)}}catch(e){g={error:e}}finally{try{A&&!A.done&&(m=k.return)&&m.call(k)}finally{if(g)throw g.error}}void 0!==e.newActiveEditor&&(u.ok(null===e.newActiveEditor||this.editors.has(e.newActiveEditor),"active editor '"+e.newActiveEditor+"' doesn't exist"),this.activeEditorId=e.newActiveEditor),l.dispose(v),l.dispose(b),e.removedDocuments&&this._onDidRemoveDocuments.fire(v),e.addedDocuments&&this._onDidAddDocuments.fire(y),(e.removedDocuments||e.addedDocuments)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors()),void 0!==e.newActiveEditor?this._onDidChangeActiveTextEditors.fire(this.activeEditor()):0===this.editors.size&&e.removedEditors&&(this.activeEditorId=void 0,this._onDidChangeActiveTextEditors.fire(void 0))},e.prototype.allEditors=function(){var e=new Array;return this.editors.forEach(function(t){return e.push(t)}),e},e.prototype.activeEditor=function(){return this.activeEditorId?this.editors.get(this.activeEditorId):void 0},e.prototype.allDocuments=function(){var e=new Array;return this.documents.forEach(function(t){return e.push(t)}),e},e.prototype.getDocument=function(e){return this.documents.get(e)},e.prototype.getEditor=function(e){return this.editors.get(e)},e}();t.EditorsAndDocumentsExtImpl=d},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(34),s=n(29),a=n(1),u=function(){function e(e,t,n,r,i,o,s){this.proxy=e,this.id=t,this._selections=r,this._visibleRanges=o,this.disposed=!1,this._options=new c(e,t,i),this._viewColumn=s,this._document=n}return Object.defineProperty(e.prototype,"document",{get:function(){return this._document.document},set:function(e){throw o.readonly("Document")},enumerable:!0,configurable:!0}),e.prototype.acceptViewColumn=function(e){this._viewColumn=e},e.prototype.dispose=function(){this.disposed=!0},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this.disposed||this._options.assign(e)},enumerable:!0,configurable:!0}),e.prototype.acceptOptions=function(e){s.ok(!this.disposed),this._options.accept(e)},Object.defineProperty(e.prototype,"selection",{get:function(){return this._selections&&this._selections[0]},set:function(e){if(!(e instanceof i.Selection))throw o.illegalArgument("selection");this._selections=[e],this.trySetSelection()},enumerable:!0,configurable:!0}),e.prototype.trySetSelection=function(){var e=this,t=this._selections.map(a.fromSelection);return this.runOnProxy(function(){return e.proxy.$trySetSelections(e.id,t)})},Object.defineProperty(e.prototype,"selections",{get:function(){return this._selections},set:function(e){if(!Array.isArray(e)||e.some(function(e){return!(e instanceof i.Selection)}))throw o.illegalArgument("selections");this._selections=e,this.trySetSelection()},enumerable:!0,configurable:!0}),e.prototype.acceptSelections=function(e){s.ok(!this.disposed),this._selections=e},Object.defineProperty(e.prototype,"visibleRanges",{get:function(){return this._visibleRanges},set:function(e){throw o.readonly("visibleRanges")},enumerable:!0,configurable:!0}),e.prototype.acceptVisibleRanges=function(e){s.ok(!this.disposed),this._visibleRanges=e},Object.defineProperty(e.prototype,"viewColumn",{get:function(){return this._viewColumn},set:function(e){throw o.readonly("viewColumn")},enumerable:!0,configurable:!0}),e.prototype._acceptViewColumn=function(e){s.ok(!this.disposed),this._viewColumn=e},e.prototype.edit=function(e,t){if(void 0===t&&(t={undoStopBefore:!0,undoStopAfter:!0}),this.disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editor"));var n=new l(this._document.document,t);return e(n),this.applyEdit(n)},e.prototype.insertSnippet=function(e,t,n){var o,s,u;if(void 0===n&&(n={undoStopBefore:!0,undoStopAfter:!0}),this.disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));if(!t||Array.isArray(t)&&0===t.length)u=this._selections.map(function(e){return a.fromRange(e)});else if(t instanceof i.Position){var c=a.fromPosition(t);u=[{startLineNumber:p=c.lineNumber,startColumn:g=c.column,endLineNumber:p,endColumn:g}]}else if(t instanceof i.Range)u=[a.fromRange(t)];else{u=[];try{for(var l=r(t),f=l.next();!f.done;f=l.next()){var d=f.value;if(d instanceof i.Range)u.push(a.fromRange(d));else{var h=a.fromPosition(d),p=h.lineNumber,g=h.column;u.push({startLineNumber:p,startColumn:g,endLineNumber:p,endColumn:g})}}}catch(e){o={error:e}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}return this.proxy.$tryInsertSnippet(this.id,e.value,u,n)},e.prototype.setDecorations=function(e,t){var n=this;this.runOnProxy(function(){if(a.isDecorationOptionsArr(t))return n.proxy.$trySetDecorations(n.id,e.key,a.fromRangeOrRangeWithMessage(t));for(var r=new Array(4*t.length),i=t.length,o=0;o<i;o++){var s=t[o];r[4*o]=s.start.line+1,r[4*o+1]=s.start.character+1,r[4*o+2]=s.end.line+1,r[4*o+3]=s.end.character+1}return n.proxy.$trySetDecorationsFast(n.id,e.key,r)})},e.prototype.revealRange=function(e,t){var n=this;this.runOnProxy(function(){return n.proxy.$tryRevealRange(n.id,a.fromRange(e),t||i.TextEditorRevealType.Default)})},e.prototype.applyEdit=function(e){var t=e.finalize(),n=t.edits.map(function(e){return e.range});n.sort(function(e,t){return e.end.line===t.end.line?e.end.character===t.end.character?e.start.line===t.start.line?e.start.character-t.start.character:e.start.line-t.start.line:e.end.character-t.end.character:e.end.line-t.end.line});for(var r=n.length-1,i=0;i<r;i++){var o=n[i].end;if(n[i+1].start.isBefore(o))return Promise.reject(new Error("Overlapping ranges are not allowed!"))}var s=t.edits.map(function(e){return{range:a.fromRange(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}});return this.proxy.$tryApplyEdits(this.id,t.documentVersionId,s,{setEndOfLine:t.setEndOfLine,undoStopBefore:t.undoStopBefore,undoStopAfter:t.undoStopAfter})},e.prototype.runOnProxy=function(e){var t=this;return this.disposed?(console.warn("TextEditor is disposed!"),Promise.resolve(void 0)):e().then(function(){return t},function(e){e instanceof Error&&"DISPOSED"===e.name||console.warn(e)})},e}();t.TextEditorExt=u;var c=function(){function e(e,t,n){this.proxy=e,this.id=t,this.accept(n)}return e.prototype.accept=function(e){this._tabSize=e.tabSize,this._insertSpace=e.insertSpaces,this._cursorStyle=e.cursorStyle,this._lineNumbers=e.lineNumbers},Object.defineProperty(e.prototype,"tabSize",{get:function(){return this._tabSize},set:function(e){var t=this.validateTabSize(e);if(t){if("number"==typeof t){if(this.tabSize===t)return;this.tabSize=t}f(this.proxy.$trySetOptions(this.id,{tabSize:t}))}},enumerable:!0,configurable:!0}),e.prototype.validateTabSize=function(e){if("auto"===e)return"auto";if("number"==typeof e)return(t=Math.floor(e))>0?t:void 0;if("string"==typeof e){var t=parseInt(e,void 0);if(isNaN(t))return;return t>0?t:void 0}},Object.defineProperty(e.prototype,"insertSpaces",{get:function(){return this._insertSpace},set:function(e){var t=this.validateInsertSpaces(e);if("boolean"==typeof t){if(this._insertSpace===t)return;this._insertSpace=t}f(this.proxy.$trySetOptions(this.id,{insertSpaces:t}))},enumerable:!0,configurable:!0}),e.prototype.validateInsertSpaces=function(e){return"auto"===e?"auto":"false"!==e&&Boolean(e)},Object.defineProperty(e.prototype,"cursorStyle",{get:function(){return this._cursorStyle},set:function(e){this._cursorStyle!==e&&(this._cursorStyle=e,f(this.proxy.$trySetOptions(this.id,{cursorStyle:e})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineNumbers",{get:function(){return this._lineNumbers},set:function(e){this._lineNumbers!==e&&(this._lineNumbers=e,f(this.proxy.$trySetOptions(this.id,{lineNumbers:e})))},enumerable:!0,configurable:!0}),e.prototype.assign=function(e){var t={},n=!1;if(void 0!==e.tabSize){var r=this.validateTabSize(e.tabSize);"auto"===r?(n=!0,t.tabSize=r):"number"==typeof r&&this._tabSize!==r&&(this._tabSize=r,n=!0,t.tabSize=r)}if(void 0!==e.insertSpaces){var i=this.validateInsertSpaces(e.insertSpaces);"auto"===i?(n=!0,t.insertSpaces=i):this.insertSpaces!==i&&(this.insertSpaces=i,n=!0,t.insertSpaces=i)}void 0!==e.cursorStyle&&this._cursorStyle!==e.cursorStyle&&(this._cursorStyle=e.cursorStyle,n=!0,t.cursorStyle=e.cursorStyle),void 0!==e.lineNumbers&&this._lineNumbers!==e.lineNumbers&&(this._lineNumbers=e.lineNumbers,n=!0,t.lineNumbers=e.lineNumbers),n&&f(this.proxy.$trySetOptions(this.id,t))},e}();t.TextEditorOptionsExt=c;var l=function(){function e(e,t){this.document=e,this.documentVersionId=e.version,this.collectedEdits=[],this.eol=0,this.undoStopBefore=t.undoStopBefore,this.undoStopAfter=t.undoStopAfter}return e.prototype.finalize=function(){return{documentVersionId:this.documentVersionId,edits:this.collectedEdits,setEndOfLine:this.eol,undoStopAfter:this.undoStopAfter,undoStopBefore:this.undoStopBefore}},e.prototype.replace=function(e,t){var n;if(e instanceof i.Position)n=new i.Range(e,e);else{if(!(e instanceof i.Range))throw new Error("Unknown location");n=e}this.addEdit(n,t,!1)},e.prototype.insert=function(e,t){this.addEdit(new i.Range(e,e),t,!0)},e.prototype.delete=function(e){var t;if(!(e instanceof i.Range))throw new Error("Unknown location");t=e,this.addEdit(t,void 0,!0)},e.prototype.setEndOfLine=function(e){if(e!==i.EndOfLine.CRLF&&e!==i.EndOfLine.LF)throw o.illegalArgument("endOfLine");this.eol=e},e.prototype.addEdit=function(e,t,n){var r=this.document.validateRange(e);this.collectedEdits.push({range:r,forceMoveMarkers:n,text:t})},e}();function f(e){e.then(void 0,function(e){console.warn(e)})}t.TextEditorEdit=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=4294967295;function i(e){return e<0?0:e>r?r:0|e}t.toUint32=i;var o=function(){return function(e,t){this.index=e,this.remainder=t}}();t.PrefixSumIndexOfResult=o;var s=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValues=function(e,t){e=i(e);var n=this.values,r=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=i(e),t=i(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=i(e),t=i(t);var n=this.values,r=this.prefixSum;if(e>=n.length)return!1;var o=n.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=i(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t,n,r,i=0,s=this.values.length-1;i<=s;)if(t=i+(s-i)/2|0,e<(r=(n=this.prefixSum[t])-this.values[t]))s=t-1;else{if(!(e>=n))break;i=t+1}return new o(t,e-r)},e}();t.PrefixSumComputer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",t.DEFAULT_WORD_REGEXP=function(e){void 0===e&&(e="");for(var n="(-?\\d*\\.\\d\\w*)|([^",r=0;r<t.USUAL_WORD_SEPARATORS.length;r++)e.indexOf(t.USUAL_WORD_SEPARATORS[r])>=0||(n+="\\"+t.USUAL_WORD_SEPARATORS[r]);return n+="\\s]+)",new RegExp(n,"g")}(),t.ensureValidWordDefinition=function(e){var n=t.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)n=e;else{var r="g";e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),n=new RegExp(e.source,r)}return n.lastIndex=0,n},t.getWordAtText=function(e,t,n,r){t.lastIndex=0;var i=t.exec(n);if(i){var o=i[0].indexOf(" ")>=0?function(e,t,n,r){var i,o=e-1-r;for(t.lastIndex=0;i=t.exec(n);){if(i.index>o)return;if(t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex}}}(e,t,n,r):function(e,t,n,r){var i,o=e-1-r,s=n.lastIndexOf(" ",o-1)+1,a=n.indexOf(" ",o);for(-1===a&&(a=n.length),t.lastIndex=s;i=t.exec(n);)if(i.index<=o&&t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex}}(e,t,n,r);return t.lastIndex=0,o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(1),s=n(2),a=n(41),u=function(){function e(e,t){var n=this;this.editorsAndDocuments=t,this._onDidChangeTextEditorSelection=new i.Emitter,this._onDidChangeTextEditorOptions=new i.Emitter,this._onDidChangeTextEditorVisibleRanges=new i.Emitter,this._onDidChangeTextEditorViewColumn=new i.Emitter,this._onDidChangeActiveTextEditor=new i.Emitter,this._onDidChangeVisibleTextEditors=new i.Emitter,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN),this.editorsAndDocuments.onDidChangeActiveTextEditor(function(e){return n._onDidChangeActiveTextEditor.fire(e)}),this.editorsAndDocuments.onDidChangeVisibleTextEditors(function(e){return n._onDidChangeVisibleTextEditors.fire(e)})}return e.prototype.$acceptEditorPropertiesChanged=function(e,t){var n=this.editorsAndDocuments.getEditor(e);if(n){if(t.options&&n.acceptOptions(t.options),t.selections){var r=t.selections.selections.map(o.toSelection);n.acceptSelections(r)}if(t.visibleRanges){var i=t.visibleRanges.map(o.toRange);n.acceptVisibleRanges(i)}if(t.options&&this._onDidChangeTextEditorOptions.fire({textEditor:n,options:t.options}),t.selections){var a=s.TextEditorSelectionChangeKind.fromValue(t.selections.source);r=t.selections.selections.map(o.toSelection);this._onDidChangeTextEditorSelection.fire({textEditor:n,selections:r,kind:a})}if(t.visibleRanges){i=t.visibleRanges.map(o.toRange);this._onDidChangeTextEditorVisibleRanges.fire({textEditor:n,visibleRanges:i})}}},e.prototype.$acceptEditorPositionData=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=this.editorsAndDocuments.getEditor(t),r=o.toViewColumn(e[t]);n&&r&&n.viewColumn!==r&&(n.acceptViewColumn(r),this._onDidChangeTextEditorViewColumn.fire({textEditor:n,viewColumn:r}))}},e.prototype.getActiveEditor=function(){return this.editorsAndDocuments.activeEditor()},e.prototype.getVisibleTextEditors=function(){return this.editorsAndDocuments.allEditors()},e.prototype.createTextEditorDecorationType=function(e){return new c(this.proxy,e)},e}();t.TextEditorsExtImpl=u;var c=function(){function e(t,n){this.key=e.Keys.nextId(),this.proxy=t,this.proxy.$registerTextEditorDecorationType(this.key,n)}return e.prototype.dispose=function(){this.proxy.$removeTextEditorDecorationType(this.key)},e.Keys=new a.IdGenerator("TextEditorDecorationType"),e}();t.TextEditorDecorationType=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(7),u=n(3),c=n(40),l=n(1),f=n(18),d=function(){function e(e,t){var n=this;this.editorsAndDocuments=t,this.toDispose=new f.DisposableCollection,this._onDidAddDocument=new u.Emitter,this._onDidRemoveDocument=new u.Emitter,this._onDidChangeDocument=new u.Emitter,this._onDidSaveTextDocument=new u.Emitter,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveTextDocument=this._onDidSaveTextDocument.event,this.loadingDocuments=new Map,this.proxy=e.getProxy(s.PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN),this.toDispose.push(this.editorsAndDocuments.onDidAddDocuments(function(e){var t,r;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var a=s.value;n._onDidAddDocument.fire(a.document)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}})),this.toDispose.push(this.editorsAndDocuments.onDidRemoveDocuments(function(e){var t,r;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var a=s.value;n._onDidRemoveDocument.fire(a.document)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}))}return e.prototype.$acceptModelModeChanged=function(e,t,n){var r=a.default.revive(e).toString(),i=this.editorsAndDocuments.getDocument(r);i&&(this._onDidRemoveDocument.fire(i.document),i.acceptLanguageId(n),this._onDidAddDocument.fire(i.document))},e.prototype.$acceptModelSaved=function(e){var t=a.default.revive(e).toString(),n=this.editorsAndDocuments.getDocument(t);this.$acceptDirtyStateChanged(e,!1),n&&this._onDidSaveTextDocument.fire(n.document)},e.prototype.$acceptDirtyStateChanged=function(e,t){var n=a.default.revive(e).toString(),r=this.editorsAndDocuments.getDocument(n);r&&(r.acceptIsDirty(t),this._onDidChangeDocument.fire({document:r.document,contentChanges:[]}))},e.prototype.$acceptModelChanged=function(e,t,n){var r=a.default.revive(e).toString(),i=this.editorsAndDocuments.getDocument(r);i&&(i.acceptIsDirty(n),i.onEvents(t),this._onDidChangeDocument.fire({document:i.document,contentChanges:t.changes.map(function(e){return{range:l.toRange(e.range),rangeOffset:e.rangeOffset,rangeLength:e.rangeLength,text:e.text}})}))},e.prototype.getAllDocumentData=function(){return this.editorsAndDocuments.allDocuments()},e.prototype.getDocumentData=function(e){if(e)return this.editorsAndDocuments.getDocument(e.toString())},e.prototype.openDocument=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,s;return i(this,function(i){switch(i.label){case 0:if(n=this.editorsAndDocuments.getDocument(e.toString()))return[2,n];if(r=this.loadingDocuments.get(e.toString()))return[2,r];i.label=1;case 1:return i.trys.push([1,3,4,5]),o=this.loadDocument(e,t),this.loadingDocuments.set(e.toString(),o),[4,o];case 2:return i.sent(),[2,o];case 3:return s=i.sent(),[2,Promise.reject(s)];case 4:return this.loadingDocuments.delete(e.toString()),[7];case 5:return[2]}})})},e.prototype.loadDocument=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,s,a;return i(this,function(i){switch(i.label){case 0:return t&&(r=void 0,t.selection&&(o=t.selection,s=o.start,a=o.end,r={startLineNumber:s.line,startColumn:s.character,endLineNumber:a.line,endColumn:a.character}),n={selection:r,preserveFocus:t.preserveFocus,preview:t.preview,viewColumn:t.viewColumn}),[4,this.proxy.$tryOpenDocument(e,n)];case 1:return i.sent(),[2,this.editorsAndDocuments.getDocument(e.toString())]}})})},e.prototype.createDocumentData=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this.proxy.$tryCreateDocument(e).then(function(e){return a.default.revive(e)})]})})},e.prototype.setWordDefinitionFor=function(e,t){c.setWordDefinitionFor(e,t)},e}();t.DocumentsExtImpl=d},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(r=t.TextEditorCursorStyle||(t.TextEditorCursorStyle={})),t.cursorStyleToString=function(e){switch(e){case r.Line:return"line";case r.Block:return"block";case r.Underline:return"underline";case r.LineThin:return"line-thin";case r.BlockOutline:return"block-outline";case r.UnderlineThin:return"underline-thin";default:throw new Error("cursorStyleToString: Unknown cursorStyle")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(75),o=function(){function e(e){this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.OUTPUT_CHANNEL_REGISTRY_MAIN)}return e.prototype.createOutputChannel=function(e){if(e=e.trim())return new i.OutputChannelImpl(e,this.proxy);throw new Error("illegal argument 'name'. must not be falsy")},e}();t.OutputChannelRegistryExt=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.name=e,this.proxy=t}return e.prototype.dispose=function(){var e=this;this.disposed||this.proxy.$dispose(this.name).then(function(){e.disposed=!0})},e.prototype.append=function(e){this.validate(),this.proxy.$append(this.name,e)},e.prototype.appendLine=function(e){this.validate(),this.append(e+"\n")},e.prototype.clear=function(){this.validate(),this.proxy.$clear(this.name)},e.prototype.show=function(e){this.validate(),this.proxy.$reveal(this.name,!!e)},e.prototype.hide=function(){this.validate(),this.proxy.$close(this.name)},e.prototype.validate=function(){if(this.disposed)throw new Error("Channel has been closed")},e}();t.OutputChannelImpl=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=function(){function e(e){this.terminals=new Map,this.onDidCloseTerminalEmitter=new i.Emitter,this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.TERMINAL_MAIN)}return e.prototype.createTerminal=function(e,t,n){var r,i=this;r="object"==typeof e?e:{name:e,shellPath:t,shellArgs:n};var o=new s(this.proxy,r.name||"Terminal");return o.create(r,t,n),o.processId.then(function(e){i.terminals.set(e,o)}),o},e.prototype.$terminalClosed=function(e){var t=this.terminals.get(e);t&&this.onDidCloseTerminalEmitter.fire(t)},Object.defineProperty(e.prototype,"onDidCloseTerminal",{get:function(){return this.onDidCloseTerminalEmitter.event},set:function(e){this.onDidCloseTerminalEmitter.event.apply(e)},enumerable:!0,configurable:!0}),e}();t.TerminalServiceExtImpl=o;var s=function(){function e(e,t){this.proxy=e,this.name=t}return e.prototype.create=function(e,t,n){this.termProcessId=this.proxy.$createTerminal(e)},e.prototype.sendText=function(e,t){var n=this;void 0===t&&(t=!0),this.termProcessId.then(function(r){return n.proxy.$sendText(r,e,t)})},e.prototype.show=function(e){var t=this;this.termProcessId.then(function(e){return t.proxy.$show(e)})},e.prototype.hide=function(){var e=this;this.termProcessId.then(function(t){return e.proxy.$hide(t)})},e.prototype.dispose=function(){var e=this;this.termProcessId.then(function(t){return e.proxy.$dispose(t)})},Object.defineProperty(e.prototype,"processId",{get:function(){return this.termProcessId},enumerable:!0,configurable:!0}),e}();t.TerminalExtImpl=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),s=n(42),a=n(78),u=n(79),c=n(87),l=n(88),f=n(89),d=n(90),h=n(91),p=n(92),g=n(93),m=n(94),v=n(95),y=n(96),b=n(97),w=n(98),_=n(99),C=n(100),E=n(101),x=n(102),T=n(103),P=n(104),S=function(){function e(e,t,n){this.documents=t,this.commands=n,this.callId=0,this.adaptersMap=new Map,this.proxy=e.getProxy(i.PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN),this.diagnostics=new c.Diagnostics(e)}return Object.defineProperty(e.prototype,"onDidChangeDiagnostics",{get:function(){return this.diagnostics.onDidChangeDiagnostics},enumerable:!0,configurable:!0}),e.prototype.getLanguages=function(){return this.proxy.$getLanguages()},e.prototype.setLanguageConfiguration=function(e,t){var n=t.wordPattern;n?this.documents.setWordDefinitionFor(e,n):this.documents.setWordDefinitionFor(e,null);var r=this.nextCallId(),i={brackets:t.brackets,comments:t.comments,onEnterRules:D(t.onEnterRules),wordPattern:R(t.wordPattern),indentationRules:I(t.indentationRules)};return this.proxy.$setLanguageConfiguration(r,e,i),this.createDisposable(r)},e.prototype.nextCallId=function(){return this.callId++},e.prototype.createDisposable=function(e){var t=this;return new o.Disposable(function(){t.adaptersMap.delete(e),t.proxy.$unregister(e)})},e.prototype.addNewAdapter=function(e){var t=this.nextCallId();return this.adaptersMap.set(t,e),t},e.prototype.withAdapter=function(e,t,n){var r=this.adaptersMap.get(e);return r instanceof t?n(r):Promise.reject(new Error("no adapter found"))},e.prototype.transformDocumentSelector=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.doTransformDocumentSelector(e)}):[this.doTransformDocumentSelector(e)]},e.prototype.doTransformDocumentSelector=function(e){return"string"==typeof e?{$serialized:!0,language:e}:e?{$serialized:!0,language:e.language,scheme:e.scheme,pattern:e.pattern}:void 0},e.prototype.$provideCompletionItems=function(e,t,n,r){return this.withAdapter(e,u.CompletionAdapter,function(e){return e.provideCompletionItems(s.default.revive(t),n,r)})},e.prototype.$resolveCompletionItem=function(e,t,n,r){return this.withAdapter(e,u.CompletionAdapter,function(e){return e.resolveCompletionItem(s.default.revive(t),n,r)})},e.prototype.$releaseCompletionItems=function(e,t){this.withAdapter(e,u.CompletionAdapter,function(e){return e.releaseCompletionItems(t)})},e.prototype.registerCompletionItemProvider=function(e,t,n){var r=this.addNewAdapter(new u.CompletionAdapter(t,this.documents));return this.proxy.$registerCompletionSupport(r,this.transformDocumentSelector(e),n,u.CompletionAdapter.hasResolveSupport(t)),this.createDisposable(r)},e.prototype.$provideDefinition=function(e,t,n){return this.withAdapter(e,m.DefinitionAdapter,function(e){return e.provideDefinition(s.default.revive(t),n)})},e.prototype.registerDefinitionProvider=function(e,t){var n=this.addNewAdapter(new m.DefinitionAdapter(t,this.documents));return this.proxy.$registerDefinitionProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideSignatureHelp=function(e,t,n){return this.withAdapter(e,l.SignatureHelpAdapter,function(e){return e.provideSignatureHelp(s.default.revive(t),n)})},e.prototype.registerSignatureHelpProvider=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.addNewAdapter(new l.SignatureHelpAdapter(t,this.documents));return this.proxy.$registerSignatureHelpProvider(i,this.transformDocumentSelector(e),n),this.createDisposable(i)},e.prototype.getDiagnostics=function(e){return this.diagnostics.getDiagnostics(e)},e.prototype.createDiagnosticCollection=function(e){return this.diagnostics.createDiagnosticCollection(e)},e.prototype.$provideImplementation=function(e,t,n){return this.withAdapter(e,v.ImplementationAdapter,function(e){return e.provideImplementation(s.default.revive(t),n)})},e.prototype.registerImplementationProvider=function(e,t){var n=this.addNewAdapter(new v.ImplementationAdapter(t,this.documents));return this.proxy.$registerImplementationProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideTypeDefinition=function(e,t,n){return this.withAdapter(e,y.TypeDefinitionAdapter,function(e){return e.provideTypeDefinition(s.default.revive(t),n)})},e.prototype.registerTypeDefinitionProvider=function(e,t){var n=this.addNewAdapter(new y.TypeDefinitionAdapter(t,this.documents));return this.proxy.$registerTypeDefinitionProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.registerHoverProvider=function(e,t){var n=this.addNewAdapter(new f.HoverAdapter(t,this.documents));return this.proxy.$registerHoverProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideHover=function(e,t,n){return this.withAdapter(e,f.HoverAdapter,function(e){return e.provideHover(s.default.revive(t),n)})},e.prototype.registerDocumentHighlightProvider=function(e,t){var n=this.addNewAdapter(new d.DocumentHighlightAdapter(t,this.documents));return this.proxy.$registerDocumentHighlightProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideDocumentHighlights=function(e,t,n){return this.withAdapter(e,d.DocumentHighlightAdapter,function(e){return e.provideDocumentHighlights(s.default.revive(t),n)})},e.prototype.registerWorkspaceSymbolProvider=function(e){var t=this.addNewAdapter(new x.WorkspaceSymbolAdapter(e));return this.proxy.$registerWorkspaceSymbolProvider(t),this.createDisposable(t)},e.prototype.$provideWorkspaceSymbols=function(e,t){return this.withAdapter(e,x.WorkspaceSymbolAdapter,function(e){return e.provideWorkspaceSymbols(t)})},e.prototype.$resolveWorkspaceSymbol=function(e,t){return this.withAdapter(e,x.WorkspaceSymbolAdapter,function(e){return e.resolveWorkspaceSymbol(t)})},e.prototype.registerDocumentFormattingEditProvider=function(e,t){var n=this.addNewAdapter(new h.DocumentFormattingAdapter(t,this.documents));return this.proxy.$registerDocumentFormattingSupport(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideDocumentFormattingEdits=function(e,t,n){return this.withAdapter(e,h.DocumentFormattingAdapter,function(e){return e.provideDocumentFormattingEdits(s.default.revive(t),n)})},e.prototype.registerDocumentRangeFormattingEditProvider=function(e,t){var n=this.addNewAdapter(new p.RangeFormattingAdapter(t,this.documents));return this.proxy.$registerRangeFormattingProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideDocumentRangeFormattingEdits=function(e,t,n,r){return this.withAdapter(e,p.RangeFormattingAdapter,function(e){return e.provideDocumentRangeFormattingEdits(s.default.revive(t),n,r)})},e.prototype.registerOnTypeFormattingEditProvider=function(e,t,n){var r=this.addNewAdapter(new g.OnTypeFormattingAdapter(t,this.documents));return this.proxy.$registerOnTypeFormattingProvider(r,this.transformDocumentSelector(e),n),this.createDisposable(r)},e.prototype.$provideOnTypeFormattingEdits=function(e,t,n,r,i){return this.withAdapter(e,g.OnTypeFormattingAdapter,function(e){return e.provideOnTypeFormattingEdits(s.default.revive(t),n,r,i)})},e.prototype.$provideDocumentLinks=function(e,t){return this.withAdapter(e,w.LinkProviderAdapter,function(e){return e.provideLinks(s.default.revive(t))})},e.prototype.$resolveDocumentLink=function(e,t){return this.withAdapter(e,w.LinkProviderAdapter,function(e){return e.resolveLink(t)})},e.prototype.registerLinkProvider=function(e,t){var n=this.addNewAdapter(new w.LinkProviderAdapter(t,this.documents));return this.proxy.$registerDocumentLinkProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.registerCodeActionsProvider=function(e,t,n,r){var i=this.addNewAdapter(new b.CodeActionAdapter(t,this.documents,this.diagnostics,n?n.id:""));return this.proxy.$registerQuickFixProvider(i,this.transformDocumentSelector(e),r&&r.providedCodeActionKinds?r.providedCodeActionKinds.map(function(e){return e.value}):void 0),this.createDisposable(i)},e.prototype.$provideCodeActions=function(e,t,n,r){return this.withAdapter(e,b.CodeActionAdapter,function(e){return e.provideCodeAction(s.default.revive(t),n,r)})},e.prototype.registerCodeLensProvider=function(e,t){var n=this,r=this.addNewAdapter(new _.CodeLensAdapter(t,this.documents,this.commands.getConverter())),i="function"==typeof t.onDidChangeCodeLenses?this.nextCallId():void 0;this.proxy.$registerCodeLensSupport(r,this.transformDocumentSelector(e),i);var s=this.createDisposable(r);if(void 0!==i&&t.onDidChangeCodeLenses){var a=t.onDidChangeCodeLenses(function(e){return n.proxy.$emitCodeLensEvent(i)});s=o.Disposable.from(s,a)}return s},e.prototype.$provideCodeLenses=function(e,t){return this.withAdapter(e,_.CodeLensAdapter,function(e){return e.provideCodeLenses(s.default.revive(t))})},e.prototype.$resolveCodeLens=function(e,t,n){return this.withAdapter(e,_.CodeLensAdapter,function(e){return e.resolveCodeLens(s.default.revive(t),n)})},e.prototype.$provideReferences=function(e,t,n,r){return this.withAdapter(e,E.ReferenceAdapter,function(e){return e.provideReferences(s.default.revive(t),n,r)})},e.prototype.registerReferenceProvider=function(e,t){var n=this.addNewAdapter(new E.ReferenceAdapter(t,this.documents));return this.proxy.$registeReferenceProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.registerDocumentSymbolProvider=function(e,t){var n=this.addNewAdapter(new C.OutlineAdapter(this.documents,t));return this.proxy.$registerOutlineSupport(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideDocumentSymbols=function(e,t){return this.withAdapter(e,C.OutlineAdapter,function(e){return e.provideDocumentSymbols(s.default.revive(t))})},e.prototype.registerColorProvider=function(e,t){var n=this.addNewAdapter(new P.ColorProviderAdapter(this.documents,t));return this.proxy.$registerDocumentColorProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideDocumentColors=function(e,t){return this.withAdapter(e,P.ColorProviderAdapter,function(e){return e.provideColors(s.default.revive(t))})},e.prototype.$provideColorPresentations=function(e,t,n){return this.withAdapter(e,P.ColorProviderAdapter,function(e){return e.provideColorPresentations(s.default.revive(t),n)})},e.prototype.registerFoldingRangeProvider=function(e,t){var n=this.addNewAdapter(new T.FoldingProviderAdapter(t,this.documents));return this.proxy.$registerFoldingRangeProvider(n,this.transformDocumentSelector(e)),this.createDisposable(n)},e.prototype.$provideFoldingRange=function(e,t,n){return this.withAdapter(e,T.FoldingProviderAdapter,function(e){return e.provideFoldingRanges(s.default.revive(t),n)})},e}();function D(e){if(null!=e)return e.map(function(e){return{action:e.action,beforeText:R(e.beforeText),afterText:R(e.afterText)}})}function R(e){if(null!=e)return{pattern:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")}}function I(e){if(null!=e)return{increaseIndentPattern:R(e.increaseIndentPattern),decreaseIndentPattern:R(e.decreaseIndentPattern),indentNextLinePattern:R(e.indentNextLinePattern),unIndentedLinePattern:R(e.unIndentedLinePattern)}}t.LanguagesExtImpl=S,t.score=function e(t,n,i,o){var s,u;if(Array.isArray(t)){var c=0;try{for(var l=r(t),f=l.next();!f.done;f=l.next()){var d=e(f.value,n,i,o);if(10===d)return d;d>c&&(c=d)}}catch(e){s={error:e}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return c}if("string"==typeof t)return o?"*"===t?5:t===i?10:0:0;if(t){var h=t.language,p=t.pattern,g=t.scheme,m=t.hasAccessToAllModels;if(!o&&!m)return 0;var v=0;if(g)if(g===n.scheme)v=10;else{if("*"!==g)return 0;v=5}if(h)if(h===i)v=10;else{if("*"!==h)return 0;v=Math.max(v,5)}if(p){if(p!==n.fsPath&&!a.match(p,n.fsPath))return 0;v=10}return v}return 0}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),o=n(24);t.getEmptyExpression=function(){return Object.create(null)};var s="**",a="/",u="[/\\\\]",c="[^/\\\\]",l=/\//g;function f(e){switch(e){case 0:return"";case 1:return c+"*?";default:return"(?:"+u+"|"+c+"+"+u+"|"+u+c+"+)*?"}}function d(e,t){if(!e)return[];for(var n,r=[],i=!1,o=!1,s="",a=0;a<e.length;a++){switch(n=e[a]){case t:if(!i&&!o){r.push(s),s="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":o=!0;break;case"]":o=!1}s+=n}return s&&r.push(s),r}t.splitGlobAware=d;var h=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,m=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,v=/^\*\*((\/[\w\.-]+)+)\/?$/,y=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,b=new Map,w=function(){return!1},_=function(){return null};function C(e,t){if(!e)return _;var n,r,o=(n=(n="string"!=typeof e?e.pattern:e).trim())+"_"+!!t.trimForExclusions,l=b.get(o);if(l)return E(l,e);if(h.test(n)){var w=n.substr(4);l=function(e,t){return e&&i.endsWith(e,w)?n:null}}else l=(r=p.exec(x(n,t)))?function(e,t){var n="/"+e,r="\\"+e,o=function(o,s){return o?s?s===e?t:null:o===e||i.endsWith(o,n)||i.endsWith(o,r)?t:null:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}(r[1],n):(t.trimForExclusions?m:g).test(n)?function(e,t){var n=R(e.slice(1,-1).split(",").map(function(e){return C(e,t)}).filter(function(e){return e!==_}),e),r=n.length;if(!r)return _;if(1===r)return n[0];var i=function(t,r){for(var i=0,o=n.length;i<o;i++)if(n[i](t,r))return e;return null},o=n.find(function(e){return!!e.allBasenames});o&&(i.allBasenames=o.allBasenames);var s=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);s.length&&(i.allPaths=s);return i}(n,t):(r=v.exec(x(n,t)))?T(r[1].substr(1),n,!0):(r=y.exec(x(n,t)))?T(r[1],n,!1):function(e){try{var t=new RegExp("^"+function e(t){if(!t)return"";var n="",r=d(t,a);if(r.every(function(e){return e===s}))n=".*";else{var o=!1;r.forEach(function(t,l){if(t!==s){for(var h,p=!1,g="",m=!1,v="",y=0;y<t.length;y++)if("}"!==(h=t[y])&&p)g+=h;else if(!m||"]"===h&&v)switch(h){case"{":p=!0;continue;case"[":m=!0;continue;case"}":var b="(?:"+d(g,",").map(function(t){return e(t)}).join("|")+")";n+=b,p=!1,g="";break;case"]":n+="["+v+"]",m=!1,v="";break;case"?":n+=c;continue;case"*":n+=f(1);continue;default:n+=i.escapeRegExpCharacters(h)}else v+="-"===h?h:"^"!==h&&"!"!==h||v?h===a?"":i.escapeRegExpCharacters(h):"^";l<r.length-1&&(r[l+1]!==s||l+2<r.length)&&(n+=u),o=!1}else o||(n+=f(2),o=!0)})}return n}(e)+"$");return function(n,r){return t.lastIndex=0,n&&t.test(n)?e:null}}catch(e){return _}}(n);return b.set(o,l),E(l,e)}function E(e,t){return"string"==typeof t?e:function(n,r){return o.isEqualOrParent(n,t.base)?e(o.normalize(t.pathToRelative(t.base,n)),r):null}}function x(e,t){return t.trimForExclusions&&i.endsWith(e,"/**")?e.substr(0,e.length-2):e}function T(e,t,n){var r=o.nativeSep!==o.sep?e.replace(l,o.nativeSep):e,s=o.nativeSep+r,a=n?function(e,n){return e&&(e===r||i.endsWith(e,s))?t:null}:function(e,n){return e&&e===r?t:null};return a.allPaths=[(n?"*/":"./")+e],a}function P(e,t){if(void 0===t&&(t={}),!e)return w;if("string"==typeof e||D(e)){var n=C(e,t);if(n===_)return w;var r=function(e,t){return!!n(e,t)};return n.allBasenames&&(r.allBasenames=n.allBasenames),n.allPaths&&(r.allPaths=n.allPaths),r}return function(e,t){var n=R(Object.getOwnPropertyNames(e).map(function(n){return function(e,t,n){if(!1===t)return _;var r=C(e,n);if(r===_)return _;if("boolean"==typeof t)return r;if(t){var i=t.when;if("string"==typeof i){var o=function(t,n,o,s){if(!s||!r(t,n))return null;var a=i.replace("$(basename)",o),u=s(a);return u instanceof Promise?u.then(function(t){return t?e:null}):u?e:null};return o.requiresSiblings=!0,o}}return r}(n,e[n],t)}).filter(function(e){return e!==_})),r=n.length;if(!r)return _;if(!n.some(function(e){return e.requiresSiblings})){if(1===r)return n[0];var i=function(e,t){for(var r=0,i=n.length;r<i;r++){var o=n[r](e,t);if(o)return o}return null},s=n.find(function(e){return!!e.allBasenames});s&&(i.allBasenames=s.allBasenames);var a=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return a.length&&(i.allPaths=a),i}var u=function(e,t,r){for(var i=null,s=0,a=n.length;s<a;s++){var u=n[s];u.requiresSiblings&&r&&(t||(t=o.basename(e)),i||(i=t.substr(0,t.length-o.extname(e).length)));var c=u(e,t,i,r);if(c)return c}return null},c=n.find(function(e){return!!e.allBasenames});c&&(u.allBasenames=c.allBasenames);var l=n.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);l.length&&(u.allPaths=l);return u}(e,t)}function S(e){var t,n,i={};try{for(var o=r(e),s=o.next();!s.done;s=o.next()){i[s.value]=!0}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function D(e){var t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern&&"function"==typeof t.pathToRelative}function R(e,t){var n=e.filter(function(e){return!!e.basenames});if(n.length<2)return e;var r,i=n.reduce(function(e,t){return e.concat(t.basenames)},[]);if(t){r=[];for(var o=0,s=i.length;o<s;o++)r.push(t)}else r=n.reduce(function(e,t){return e.concat(t.patterns)},[]);var a=function(e,t){if(!e)return null;if(!t){var n=void 0;for(n=e.length;n>0;n--){var o=e.charCodeAt(n-1);if(47===o||92===o)break}t=e.substr(n)}var s=i.indexOf(t);return-1!==s?r[s]:null};a.basenames=i,a.patterns=r,a.allBasenames=i;var u=e.filter(function(e){return!e.basenames});return u.push(a),u}t.match=function(e,t,n){return!(!e||!t)&&P(e)(t,void 0,n)},t.parse=P,t.hasSiblingPromiseFn=function(e){var t;if(e)return function(n){return t||(t=(e()||Promise.resolve([])).then(function(e){return e?S(e):{}})),t.then(function(e){return!!e[n]})}},t.hasSiblingFn=function(e){var t;if(e)return function(n){if(!t){var r=e();t=r?S(r):{}}return!!t[n]}},t.isRelativePattern=D,t.parseToAsync=function(e,t){var n=P(e,t);return function(e,t,r){var i=n(e,t,r);return i instanceof Promise?i:Promise.resolve(i)}},t.getBasenameTerms=function(e){return e.allBasenames||[]},t.getPathTerms=function(e){return e.allPaths||[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(43),s=n(4),a=function(){function e(e,t){this.delegate=e,this.documents=t,this.cacheId=0,this.cache=new Map}return e.prototype.provideCompletionItems=function(e,t,n){var o=this,a=this.documents.getDocumentData(e);if(!a)return Promise.reject(new Error("There are no document for  "+e));var u=a.document,c=i.toPosition(t);return Promise.resolve(this.delegate.provideCompletionItems(u,c,s.createToken(),n)).then(function(e){var t,n=o.cacheId++,i={id:n,completions:[]};if(e){Array.isArray(e)?t=new r.CompletionList(e):(t=e,i.incomplete=t.isIncomplete);for(var s=(u.getWordRangeAtPosition(c)||new r.Range(c,c)).with({end:c}),a=0;a<t.items.length;a++){var l=o.convertCompletionItem(t.items[a],c,s,a,n);l&&i.completions.push(l)}return o.cache.set(n,t.items),i}})},e.prototype.resolveCompletionItem=function(e,t,n){var s=this;if("function"!=typeof this.delegate.resolveCompletionItem)return Promise.resolve(n);var a=n,u=a.parentId,c=a.id,l=this.cache.has(u)&&this.cache.get(u)[c];return l?Promise.resolve(this.delegate.resolveCompletionItem(l,void 0)).then(function(a){if(!a)return n;var l=s.documents.getDocumentData(e).document,f=i.toPosition(t),d=(l.getWordRangeAtPosition(f)||new r.Range(f,f)).with({end:f}),h=s.convertCompletionItem(a,f,d,c,u);return h&&o.mixin(n,h,!0),n}):Promise.resolve(n)},e.prototype.releaseCompletionItems=function(e){return this.cache.delete(e),Promise.resolve()},e.prototype.convertCompletionItem=function(e,t,n,o,s){if("string"==typeof e.label&&0!==e.label.length){var a,u={id:o,parentId:s,label:e.label,type:i.fromCompletionItemKind(e.kind),detail:e.detail,documentation:e.documentation,filterText:e.filterText,sortText:e.sortText,preselect:e.preselect,insertText:"",additionalTextEdits:e.additionalTextEdits&&e.additionalTextEdits.map(i.fromTextEdit),command:void 0,commitCharacters:e.commitCharacters};if("string"==typeof e.insertText?(u.insertText=e.insertText,u.snippetType="internal"):e.insertText instanceof r.SnippetString?(u.insertText=e.insertText.value,u.snippetType="textmate"):(u.insertText=e.label,u.snippetType="internal"),a=e.range?e.range:n,u.overwriteBefore=t.character-a.start.character,u.overwriteAfter=a.end.character-t.character,a.isSingleLine&&a.start.line===t.line)return u;console.warn("Invalid Completion Item -> must be single line and on the same line")}else console.warn("Invalid Completion Item -> must have at least a label")},e.hasResolveSupport=function(e){return"function"==typeof e.resolveCompletionItem},e}();t.CompletionAdapter=a},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],s=n[1],a=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),u=0,l=s>0?r-4:r,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===s&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,a[u++]=255&t);1===s&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(14),o=n(11);!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){var n=t;return n&&(n===e.None||n===e.Cancelled||o.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(r=t.CancellationToken||(t.CancellationToken={}));var s=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}}),a=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?s:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),u=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new a),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token.cancel():this._token=r.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));var i=function(){function e(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return e.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},e.prototype.isEmpty=function(){return!this._head&&!this._tail},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.get=function(e){var t=this._map.get(e);if(t)return t.value},e.prototype.set=function(e,t,n){void 0===n&&(n=r.None);var i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}},e.prototype.delete=function(e){var t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)},e.prototype.shift=function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}},e.prototype.forEach=function(e,t){for(var n=this._head;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next},e.prototype.forEachReverse=function(e,t){for(var n=this._tail;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous},e.prototype.values=function(){for(var e=[],t=this._head;t;)e.push(t.value),t=t.next;return e},e.prototype.keys=function(){for(var e=[],t=this._head;t;)e.push(t.key),t=t.next;return e},e.prototype.addItemFirst=function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e},e.prototype.addItemLast=function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e},e.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{var t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}},e.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;var n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}},e}();t.LinkedMap=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(45),o=n(6),s=n(6),a=n(12),u=n(15);t.generateRandomPipeName=function(){var t=o.randomBytes(21).toString("hex");return"win32"===e.platform?"\\\\.\\pipe\\vscode-jsonrpc-"+t+"-sock":r.join(i.tmpdir(),"vscode-"+t+".sock")},t.createClientPipeTransport=function(e,t){var n;void 0===t&&(t="utf-8");var r=new Promise(function(e,t){n=e});return new Promise(function(i,o){var c=s.createServer(function(e){c.close(),n([new a.SocketMessageReader(e,t),new u.SocketMessageWriter(e,t)])});c.on("error",o),c.listen(e,function(){c.removeListener("error",o),i({onConnected:function(){return r}})})})},t.createServerPipeTransport=function(e,t){void 0===t&&(t="utf-8");var n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new u.SocketMessageWriter(n,t)]}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(12),o=n(15);t.createClientSocketTransport=function(e,t){var n;void 0===t&&(t="utf-8");var s=new Promise(function(e,t){n=e});return new Promise(function(a,u){var c=r.createServer(function(e){c.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});c.on("error",u),c.listen(e,"127.0.0.1",function(){c.removeListener("error",u),a({onConnected:function(){return s}})})})},t.createServerSocketTransport=function(e,t){void 0===t&&(t="utf-8");var n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),a=n(1),u=n(2),c=n(0),l=n(7),f=function(){function e(e,t,n,r){this.collectionName=e,this.diagnosticsLimitPerResource=t,this.proxy=n,this.onDidChangeDiagnosticsEmitter=r,this.diagnostics=new Map,this.isDisposed=!1,this.onDisposeCallback=void 0}return Object.defineProperty(e.prototype,"name",{get:function(){return this.collectionName},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){this.ensureNotDisposed(),e instanceof l.default?this.setDiagnosticsForUri(e,t):e?e instanceof Array&&this.setDiagnostics(e):this.clear()},e.prototype.setDiagnosticsForUri=function(e,t){t?this.diagnostics.set(e.toString(),t):this.diagnostics.delete(e.toString()),this.fireDiagnosticChangeEvent(e),this.sendChangesToEditor([e])},e.prototype.setDiagnostics=function(e){var t,n,s,a,u=[];try{for(var c=r(e),l=c.next();!l.done;l=c.next()){var f=i(l.value,1)[0];this.diagnostics.delete(f.toString())}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}try{for(var d=r(e),h=d.next();!h.done;h=d.next()){var p=i(h.value,2),g=(f=p[0],p[1]),m=f.toString();if(g){var v=this.diagnostics.get(m);v?v.push.apply(v,o(g)):this.diagnostics.set(m,g)}else this.diagnostics.delete(m),u.push(f);-1===u.indexOf(f)&&u.push(f)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}this.fireDiagnosticChangeEvent(u),this.sendChangesToEditor(u)},e.prototype.delete=function(e){this.has(e)&&(this.fireDiagnosticChangeEvent(e),this.diagnostics.delete(e.toString()),this.proxy.$changeDiagnostics(this.name,[[e,[]]]))},e.prototype.clear=function(){this.ensureNotDisposed(),this.fireDiagnosticChangeEvent(this.getAllResourcesUris()),this.diagnostics.clear(),this.proxy.$clearDiagnostics(this.name)},e.prototype.forEach=function(e,t){var n=this;this.ensureNotDisposed(),this.diagnostics.forEach(function(r,i){var o=l.default.parse(i);e.apply(t,[o,n.getDiagnosticsByUri(o),n])})},e.prototype.get=function(e){return this.ensureNotDisposed(),this.getDiagnosticsByUri(e)},e.prototype.has=function(e){return this.ensureNotDisposed(),this.diagnostics.get(e.toString())instanceof Array},e.prototype.dispose=function(){this.isDisposed||(this.onDisposeCallback&&this.onDisposeCallback(),this.clear(),this.isDisposed=!0)},e.prototype.setOnDisposeCallback=function(e){this.onDisposeCallback=e},e.prototype.ensureNotDisposed=function(){if(this.isDisposed)throw new Error('Diagnostic collection with name "'+this.name+'" is already disposed.')},e.prototype.getAllResourcesUris=function(){var e=[];return this.diagnostics.forEach(function(t,n){return e.push(n)}),e},e.prototype.getDiagnosticsByUri=function(e){var t=this.diagnostics.get(e.toString());return t instanceof Array?Object.freeze(t):void 0},e.prototype.fireDiagnosticChangeEvent=function(e){this.onDidChangeDiagnosticsEmitter.fire({uris:this.toUrisArray(e)})},e.prototype.toUrisArray=function(e){var t,n;if(e instanceof Array){if(0===e.length)return[];if(e[0]instanceof l.default)return e;var i=[];try{for(var o=r(e),s=o.next();!s.done;s=o.next()){var a=s.value;i.push(l.default.parse(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return e instanceof l.default?[e]:[l.default.parse(e)]},e.prototype.sendChangesToEditor=function(t){var n,i,o=[],s=function(t){var n,i,s,l,f=[],d=c.diagnostics.get(t.toString());if(d)if(d.length>c.diagnosticsLimitPerResource)try{for(var h=r(e.DIAGNOSTICS_PRIORITY),p=h.next();!p.done;p=h.next()){var g=p.value;try{for(var m=r(d),v=m.next();!v.done;v=m.next()){var y=v.value;if(g===y.severity&&f.push(a.convertDiagnosticToMarkerData(y))+1===c.diagnosticsLimitPerResource){var b=f[f.length-1];return f.push({severity:u.MarkerSeverity.Info,message:"Limit of diagnostics is reached. "+(d.length-c.diagnosticsLimitPerResource)+" items are hidden",startLineNumber:b.startLineNumber,startColumn:b.startColumn,endLineNumber:b.endLineNumber,endColumn:b.endColumn}),o.push([t,f]),"continue-nextUri"}}}catch(e){s={error:e}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}else d.forEach(function(e){return f.push(a.convertDiagnosticToMarkerData(e))}),o.push([t,f]);else o.push([t,[]])},c=this;try{e:for(var l=r(t),f=l.next();!f.done;f=l.next()){switch(s(f.value)){case"continue-nextUri":continue e}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}this.proxy.$changeDiagnostics(this.name,o)},e.DIAGNOSTICS_PRIORITY=[u.DiagnosticSeverity.Error,u.DiagnosticSeverity.Warning,u.DiagnosticSeverity.Information,u.DiagnosticSeverity.Hint],e}();t.DiagnosticCollection=f;var d=function(){function e(e){this.diagnosticsChangedEmitter=new s.Emitter,this.onDidChangeDiagnostics=this.diagnosticsChangedEmitter.event,this.proxy=e.getProxy(c.PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN),this.diagnosticCollections=new Map,this.nextId=0}return e.prototype.getDiagnostics=function(e){return e?this.getAllDiagnisticsForResource(e):this.getAllDiagnostics()},e.prototype.createDiagnosticCollection=function(t){var n=this;if(t)this.diagnosticCollections.has(t)&&console.warn("Diagnostic collection with name '"+t+"' already exist.");else do{t=e.GENERATED_DIAGNOSTIC_COLLECTION_NAME_PREFIX+this.getNextId()}while(this.diagnosticCollections.has(t));var r=new f(t,e.MAX_DIAGNOSTICS_PER_FILE,this.proxy,this.diagnosticsChangedEmitter);return r.setOnDisposeCallback(function(){n.diagnosticCollections.delete(t)}),this.diagnosticCollections.set(t,r),r},e.prototype.getNextId=function(){return this.nextId++},e.prototype.getAllDiagnisticsForResource=function(e){var t=[];return this.diagnosticCollections.forEach(function(n){var r=n.get(e);r&&(t=t.concat.apply(t,o(r)))}),t},e.prototype.getAllDiagnostics=function(){var e=[],t=new Map,n=0;return this.diagnosticCollections.forEach(function(r){return r.forEach(function(r,i){var s,a=t.get(r.toString());void 0===a?(a=n++,t.set(r.toString(),a),e.push([r,o(i)])):e[a][1]=(s=e[a][1]).concat.apply(s,o(i))})}),e},e.MAX_DIAGNOSTICS_PER_FILE=1e3,e.GENERATED_DIAGNOSTIC_COLLECTION_NAME_PREFIX="_generated_diagnostic_collection_name_#",e}();t.Diagnostics=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=function(){function e(e,t){this.delegate=e,this.documents=t}return e.prototype.provideSignatureHelp=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There are no document for  "+e));var o=n.document,s=r.toPosition(t);return Promise.resolve(this.delegate.provideSignatureHelp(o,s,i.createToken()))},e}();t.SignatureHelpAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(4),s=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideHover=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There are no document for "+e));var s=n.document,a=r.toPosition(t);return Promise.resolve(this.provider.provideHover(s,a,o.createToken())).then(function(e){if(e&&Array.isArray(e.contents)&&0!==e.contents.length)return e.range||(e.range=s.getWordRangeAtPosition(a)),e.range||(e.range=new i.Range(a,a)),r.fromHover(e)})},e}();t.HoverAdapter=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),s=n(4),a=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideDocumentHighlights=function(e,t){var n=this,i=this.documents.getDocumentData(e);if(!i)return Promise.reject(new Error("There is no document for "+e));var a=i.document,u=o.toPosition(t);return Promise.resolve(this.provider.provideDocumentHighlights(a,u,s.createToken())).then(function(e){var t,i;if(e&&n.isDocumentHighlightArray(e)){var s=[];try{for(var a=r(e),u=a.next();!u.done;u=a.next()){var c=u.value;s.push(o.fromDocumentHighlight(c))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return s}})},e.prototype.isDocumentHighlightArray=function(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof i.DocumentHighlight},e}();t.DocumentHighlightAdapter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideDocumentFormattingEdits=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There are no document for "+e));var o=n.document;return Promise.resolve(this.provider.provideDocumentFormattingEdits(o,t,i.createToken())).then(function(e){if(Array.isArray(e))return e.map(r.fromTextEdit)})},e}();t.DocumentFormattingAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideDocumentRangeFormattingEdits=function(e,t,n){var o=this.documents.getDocumentData(e);if(!o)return Promise.reject(new Error("There are no document for "+e));var s=o.document,a=r.toRange(t);return Promise.resolve(this.provider.provideDocumentRangeFormattingEdits(s,a,n,i.createToken())).then(function(e){if(Array.isArray(e))return e.map(r.fromTextEdit)})},e}();t.RangeFormattingAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideOnTypeFormattingEdits=function(e,t,n,o){var s=this.documents.getDocumentData(e);if(!s)return Promise.reject(new Error("There are no document for "+e));var a=s.document,u=r.toPosition(t);return Promise.resolve(this.provider.provideOnTypeFormattingEdits(a,u,n,o,i.createToken())).then(function(e){if(Array.isArray(e))return e.map(r.fromTextEdit)})},e}();t.OnTypeFormattingAdapter=o},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),s=n(4),a=n(20),u=function(){function e(e,t){this.delegate=e,this.documents=t}return e.prototype.provideDefinition=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There is no document for "+e));var u=n.document,c=o.toPosition(t);return Promise.resolve(this.delegate.provideDefinition(u,c,s.createToken())).then(function(e){var t,n,s,u;if(e){if(e instanceof i.Location)return o.fromLocation(e);if(a.isLocationArray(e)){var c=[];try{for(var l=r(e),f=l.next();!f.done;f=l.next()){var d=f.value;c.push(o.fromLocation(d))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c}if(a.isDefinitionLinkArray(e)){var h=[];try{for(var p=r(e),g=p.next();!g.done;g=p.next()){var m=g.value;h.push(o.fromDefinitionLink(m))}}catch(e){s={error:e}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return h}}})},e}();t.DefinitionAdapter=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),s=n(4),a=n(20),u=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideImplementation=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There is no document for "+e));var u=n.document,c=o.toPosition(t);return Promise.resolve(this.provider.provideImplementation(u,c,s.createToken())).then(function(e){var t,n,s,u;if(e){if(e instanceof i.Location)return o.fromLocation(e);if(a.isLocationArray(e)){var c=[];try{for(var l=r(e),f=l.next();!f.done;f=l.next()){var d=f.value;c.push(o.fromLocation(d))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c}if(a.isDefinitionLinkArray(e)){var h=[];try{for(var p=r(e),g=p.next();!g.done;g=p.next()){var m=g.value;h.push(o.fromDefinitionLink(m))}}catch(e){s={error:e}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return h}}})},e}();t.ImplementationAdapter=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),s=n(4),a=n(20),u=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideTypeDefinition=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There is no document for "+e));var u=n.document,c=o.toPosition(t);return Promise.resolve(this.provider.provideTypeDefinition(u,c,s.createToken())).then(function(e){var t,n,s,u;if(e){if(e instanceof i.Location)return o.fromLocation(e);if(a.isLocationArray(e)){var c=[];try{for(var l=r(e),f=l.next();!f.done;f=l.next()){var d=f.value;c.push(o.fromLocation(d))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c}if(a.isDefinitionLinkArray(e)){var h=[];try{for(var p=r(e),g=p.next();!g.done;g=p.next()){var m=g.value;h.push(o.fromDefinitionLink(m))}}catch(e){s={error:e}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return h}}})},e}();t.TypeDefinitionAdapter=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(4),s=n(2),a=function(){function e(e,t,n,r){this.provider=e,this.document=t,this.diagnostics=n,this.pluginId=r}return e.prototype.provideCodeAction=function(t,n,a){var u,c,l=this,f=this.document.getDocumentData(t);if(!f)return Promise.reject(new Error("There are no document for "+t));var d=f.document,h=e._isSelection(n)?i.toSelection(n):i.toRange(n),p=[];try{for(var g=r(this.diagnostics.getDiagnostics(t)),m=g.next();!m.done;m=g.next()){var v=m.value;h.intersection(v.range)&&p.push(v)}}catch(e){u={error:e}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}var y={diagnostics:p,only:a.only?new s.CodeActionKind(a.only):void 0};return Promise.resolve(this.provider.provideCodeActions(d,h,y,o.createToken())).then(function(t){var n,o;if(Array.isArray(t)&&0!==t.length){var s=[];try{for(var a=r(t),u=a.next();!u.done;u=a.next()){var c=u.value;c&&(e._isCommand(c)?s.push({title:c.label||"",command:i.toInternalCommand(c)}):(y.only&&(c.kind?y.only.contains(c.kind)||console.warn(l.pluginId+" - Code actions of kind '"+y.only.value+"' requested but returned code action is of kind '"+c.kind.value+"'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code action."):console.warn(l.pluginId+" - Code actions of kind '"+y.only.value+"' requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.")),s.push({title:c.title,command:c.command&&i.toInternalCommand(c.command),diagnostics:c.diagnostics&&c.diagnostics.map(i.convertDiagnosticToMarkerData),edit:c.edit&&i.fromWorkspaceEdit(c.edit),kind:c.kind&&c.kind.value})))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return s}})},e._isCommand=function(e){return"string"==typeof e.id},e._isSelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},e}();t.CodeActionAdapter=a},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),s=n(4),a=function(){function e(e,t){this.provider=e,this.documents=t,this.cacheId=0,this.cache=new Map}return e.prototype.provideLinks=function(e){var t=this,n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There is no document for "+e));var a=n.document;return Promise.resolve(this.provider.provideDocumentLinks(a,s.createToken())).then(function(e){var n,s;if(Array.isArray(e)){var a=[];try{for(var u=r(e),c=u.next();!c.done;c=u.next()){var l=c.value,f=i.fromDocumentLink(l),d=t.cacheId++;o.ObjectIdentifier.mixin(f,d),t.cache.set(d,l),a.push(f)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}return a}})},e.prototype.resolveLink=function(e){if("function"!=typeof this.provider.resolveDocumentLink)return Promise.resolve(void 0);var t=o.ObjectIdentifier.of(e),n=this.cache.get(t);return n?Promise.resolve(this.provider.resolveDocumentLink(n,void 0)).then(function(e){if(e)return i.fromDocumentLink(e)}):Promise.resolve(void 0)},e}();t.LinkProviderAdapter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(17),o=n(4),s=function(){function e(e,t,n){this.provider=e,this.documents=t,this.commands=n,this.cacheId=0,this.cache=new Map}return e.prototype.provideCodeLenses=function(e){var t=this,n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There is no document for "+e));var s=n.document;return Promise.resolve(this.provider.provideCodeLenses(s,o.createToken())).then(function(e){if(Array.isArray(e))return e.map(function(e){var n=t.cacheId++,o=i.ObjectIdentifier.mixin({range:r.fromRange(e.range),command:t.commands.toInternal(e.command)},n);return t.cache.set(n,e),o})})},e.prototype.resolveCodeLens=function(t,n){var r=this,s=this.cache.get(i.ObjectIdentifier.of(n));return s?("function"!=typeof this.provider.resolveCodeLens||s.isResolved?Promise.resolve(s):Promise.resolve(this.provider.resolveCodeLens(s,o.createToken()))).then(function(t){return t=t||s,n.command=r.commands.toInternal(t.command||e.BAD_CMD),n}):Promise.resolve(void 0)},e.BAD_CMD={id:"missing",label:"<<MISSING COMMAND>>"},e}();t.CodeLensAdapter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(2),s=function(){function e(e,t){this.documents=e,this.provider=t}return e.prototype.provideDocumentSymbols=function(t){var n=this.documents.getDocumentData(t);if(!n)return Promise.reject(new Error("There is no document for "+t));var s=n.document;return Promise.resolve(this.provider.provideDocumentSymbols(s,i.createToken())).then(function(n){if(n&&0!==n.length)return n[0]instanceof o.DocumentSymbol?n.map(r.fromDocumentSymbol):e.asDocumentSymbolTree(t,n)})},e.asDocumentSymbolTree=function(t,n){n=n.slice(0).sort(function(e,t){var n=e.location.range.start.compareTo(t.location.range.start);return 0===n&&(n=t.location.range.end.compareTo(e.location.range.end)),n});for(var i=[],o=[],s=0;s<n.length;s++)for(var a={name:n[s].name,detail:"",kind:r.SymbolKind.fromSymbolKind(n[s].kind),containerName:n[s].containerName,range:r.fromRange(n[s].location.range),selectionRange:r.fromRange(n[s].location.range),children:[]};;){if(0===o.length){o.push(a),i.push(a);break}var u=o[o.length-1];if(e.containsRange(u.range,a.range)&&!e.equalsRange(u.range,a.range)){u.children.push(a),o.push(a);break}o.pop()}return i},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e}();t.OutlineAdapter=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(4),s=n(20),a=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideReferences=function(e,t,n){var a=this.documents.getDocumentData(e);if(!a)return Promise.reject(new Error("There is no document for "+e));var u=a.document,c=i.toPosition(t);return Promise.resolve(this.provider.provideReferences(u,c,n,o.createToken())).then(function(e){var t,n;if(e&&s.isLocationArray(e)){var o=[];try{for(var a=r(e),u=a.next();!u.done;u=a.next()){var c=u.value;o.push(i.fromLocation(c))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}})},e}();t.ReferenceAdapter=a},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(4),s=function(){function e(e){this.provider=e}return e.prototype.provideWorkspaceSymbols=function(e){return Promise.resolve(this.provider.provideWorkspaceSymbols(e,o.createToken())).then(function(e){var t,n;if(!e)return[];var o=[];try{for(var s=r(e),a=s.next();!a.done;a=s.next()){var u=a.value,c=i.fromSymbolInformation(u);c&&o.push(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o})},e.prototype.resolveWorkspaceSymbol=function(e){if(this.provider.resolveWorkspaceSymbol&&"function"==typeof this.provider.resolveWorkspaceSymbol){var t=i.toSymbolInformation(e);return t?Promise.resolve(this.provider.resolveWorkspaceSymbol(t,void 0)).then(function(t){if(!t)return e;var n=i.fromSymbolInformation(t);return n||e}):Promise.resolve(e)}return Promise.resolve(e)},e}();t.WorkspaceSymbolAdapter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=function(){function e(e,t){this.provider=e,this.documents=t}return e.prototype.provideFoldingRanges=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There are no document for "+e));var o=n.document;return Promise.resolve(this.provider.provideFoldingRanges(o,t,i.createToken())).then(function(e){if(Array.isArray(e))return e.map(r.fromFoldingRange)})},e}();t.FoldingProviderAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(1),o=function(){function e(e,t){this.documents=e,this.provider=t}return e.prototype.provideColors=function(e){var t=this.documents.getDocumentData(e);if(!t)return Promise.reject(new Error("There are no document for "+e));var n=t.document;return Promise.resolve(this.provider.provideDocumentColors(n,r.createToken())).then(function(e){return Array.isArray(e)?e.map(function(e){return{color:i.fromColor(e.color),range:i.fromRange(e.range)}}):[]})},e.prototype.provideColorPresentations=function(e,t){var n=this.documents.getDocumentData(e);if(!n)return Promise.reject(new Error("There are no document for "+e));var o=n.document,s=i.toRange(t.range),a=i.toColor(t.color);return Promise.resolve(this.provider.provideColorPresentations(a,{document:o,range:s},r.createToken())).then(function(e){return Array.isArray(e)?e.map(i.fromColorPresentation):[]})},e}();t.ColorProviderAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=function(){function e(e){this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.DIALOGS_MAIN)}return e.prototype.showOpenDialog=function(e){var t=this,n={openLabel:e.openLabel,defaultUri:e.defaultUri?e.defaultUri.path:void 0,canSelectFiles:e.canSelectFiles,canSelectFolders:e.canSelectFolders,canSelectMany:e.canSelectMany,filters:e.filters};return new Promise(function(e,r){t.proxy.$showOpenDialog(n).then(function(t){if(t){for(var n=[],r=0;r<t.length;r++){var o=i.default.parse("file://"+t[r]);n.push(o)}e(n)}else e(void 0)}).catch(function(e){r(e)})})},e.prototype.showSaveDialog=function(e){var t=this,n={saveLabel:e.saveLabel,defaultUri:e.defaultUri?e.defaultUri.path:void 0,filters:e.filters};return new Promise(function(e,r){t.proxy.$showSaveDialog(n).then(function(t){e(t?i.default.parse("file://"+t):void 0)}).catch(function(e){r(e)})})},e}();t.DialogsExtImpl=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(3),a=n(18),u=function(){function e(e){this.onCancelEmitter=new s.Emitter,this.onCancel=this.onCancelEmitter.event,this.proxy=e.getProxy(o.PLUGIN_RPC_CONTEXT.NOTIFICATION_MAIN)}return e.prototype.withProgress=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,s;return i(this,function(i){switch(i.label){case 0:return n=e.title?e.title:"",[4,this.proxy.$startProgress(n)];case 1:return(r=i.sent())?(o=new l(r,this.onCancel),[4,t(new c(r,this.proxy),o)]):[3,3];case 2:return s=i.sent(),this.proxy.$stopProgress(r),o.dispose(),[2,s];case 3:throw new Error("Failed to create progress notification")}})})},e.prototype.$onCancel=function(e){this.onCancelEmitter.fire(e)},e}();t.NotificationExtImpl=u;var c=function(){function e(e,t){this.id=e,this.proxy=t}return e.prototype.report=function(e){this.id&&this.proxy.$updateProgress(this.id,e)},e}(),l=function(){function e(e,t){var n=this;this.disposableCollection=new a.DisposableCollection,this.onCancellationRequestedEmitter=new s.Emitter,this.isCancellationRequested=!1,this.onCancellationRequested=this.onCancellationRequestedEmitter.event,this.disposableCollection.push(t(function(t){t===e&&(n.onCancellationRequestedEmitter.fire(t),n.isCancellationRequested=!0,n.dispose())}))}return e.prototype.dispose=function(){this.disposableCollection.dispose()},e}()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(3),a=n(18),u=function(){function e(e){this.onCancelEmitter=new s.Emitter,this.onCancel=this.onCancelEmitter.event,this.proxy=e.getProxy(o.PLUGIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_MAIN)}return e.prototype.withProgress=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,s;return i(this,function(i){switch(i.label){case 0:return n=e.title?"$(refresh~spin) "+e.title:"",r=new l(this.onCancel),[4,this.proxy.$setMessage(n,1,1,void 0,void 0,void 0)];case 1:return o=i.sent(),[4,s=t(new c(o,n,this.proxy),r)];case 2:return i.sent(),this.proxy.$dispose(o),r.dispose(),[2,s]}})})},e}();t.StatusBarExtImpl=u;var c=function(){function e(e,t,n){this.id=e,this.message=t,this.proxy=n}return e.prototype.report=function(e){this.proxy.$update(this.id,this.message+(e.message?":  "+e.message:""))},e}(),l=function(){function e(e){var t=this;this.disposableCollection=new a.DisposableCollection,this.onCancellationRequestedEmitter=new s.Emitter,this.isCancellationRequested=!1,this.onCancellationRequested=this.onCancellationRequestedEmitter.event,this.disposableCollection.push(e(function(){t.onCancellationRequestedEmitter.fire(void 0),t.isCancellationRequested=!0,t.dispose()}))}return e.prototype.dispose=function(){this.disposableCollection.dispose()},e}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=n(2),c=n(0),l=function(){function e(e,t){this.commandRegistry=t,this.treeViews=new Map,this.proxy=e.getProxy(c.PLUGIN_RPC_CONTEXT.TREE_VIEWS_MAIN)}return e.prototype.registerTreeDataProvider=function(e,t){var n=this,r=this.createTreeView(e,{treeDataProvider:t});return u.Disposable.create(function(){n.treeViews.delete(e),r.dispose()})},e.prototype.createTreeView=function(e,t){var n=this;if(!t||!t.treeDataProvider)throw new Error("Options with treeDataProvider is mandatory");var r=new f(e,t.treeDataProvider,this.proxy,this.commandRegistry);return this.treeViews.set(e,r),{get onDidExpandElement(){return r.onDidExpandElement},get onDidCollapseElement(){return r.onDidCollapseElement},get selection(){return r.selectedElements},reveal:function(e,t){return r.reveal(e,t)},dispose:function(){n.treeViews.delete(e),r.dispose()}}},e.prototype.$getChildren=function(e,t){return o(this,void 0,void 0,function(){var n;return s(this,function(r){if(!(n=this.treeViews.get(e)))throw new Error("No tree view with id"+e);return[2,n.getChildren(t)]})})},e.prototype.$setExpanded=function(e,t,n){return o(this,void 0,void 0,function(){var r;return s(this,function(i){if(!(r=this.treeViews.get(e)))throw new Error("No tree view with id"+e);return n?[2,r.onExpanded(t)]:[2,r.onCollapsed(t)]})})},e.prototype.$setSelection=function(e,t){return o(this,void 0,void 0,function(){var n;return s(this,function(r){if(!(n=this.treeViews.get(e)))throw new Error("No tree view with id"+e);return n.onSelectionChanged(t),[2]})})},e}();t.TreeViewsExtImpl=l;var f=function(e){function t(t,n,r,i){var o=e.call(this,function(){o.dispose()})||this;return o.treeViewId=t,o.treeDataProvider=n,o.proxy=r,o.commandRegistry=i,o.onDidExpandElementEmmiter=new a.Emitter,o.onDidExpandElement=o.onDidExpandElementEmmiter.event,o.onDidCollapseElementEmmiter=new a.Emitter,o.onDidCollapseElement=o.onDidCollapseElementEmmiter.event,o.selection=[],o.cache=new Map,o.idCounter=0,r.$registerTreeDataProvider(t),n.onDidChangeTreeData&&n.onDidChangeTreeData(function(e){r.$refresh(t)}),o}return i(t,e),Object.defineProperty(t.prototype,"selectedElements",{get:function(){return this.selection},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){},t.prototype.reveal=function(e,t){return o(this,void 0,void 0,function(){var t;return s(this,function(n){return this.cache.forEach(function(n,r){Object.is(n,e)&&(t=r)}),t?[2,this.proxy.$reveal(this.treeViewId,t)]:[2]})})},t.prototype.generateId=function(e){return"item-"+this.idCounter+++"/"+(e.contextValue||"")},t.prototype.getChildren=function(e){return o(this,void 0,void 0,function(){var t,n,r,i,a=this;return s(this,function(u){switch(u.label){case 0:return t=this.cache.get(e),[4,this.treeDataProvider.getChildren(t)];case 1:return(n=u.sent())?(r=[],i=n.map(function(e){return o(a,void 0,void 0,function(){var t,n,i,o,a;return s(this,function(s){switch(s.label){case 0:return[4,this.treeDataProvider.getTreeItem(e)];case 1:return t=s.sent(),n=this.generateId(t),this.cache.set(n,e),!(i=t.label)&&t.resourceUri&&(i=t.resourceUri.path.toString(),(i=decodeURIComponent(i)).indexOf("/")>=0&&(i=i.substring(i.lastIndexOf("/")+1))),i||(i=n),o=void 0,"string"==typeof t.iconPath&&(o=t.iconPath),a={id:n,label:i,icon:o,tooltip:t.tooltip,collapsibleState:t.collapsibleState},r.push(a),[2]}})})}),[4,Promise.all(i)]):[3,3];case 2:return u.sent(),[2,r];case 3:return[2,void 0]}})})},t.prototype.onExpanded=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(n){return(t=this.cache.get(e))&&this.onDidExpandElementEmmiter.fire({element:t}),[2]})})},t.prototype.onCollapsed=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(n){return(t=this.cache.get(e))&&this.onDidCollapseElementEmmiter.fire({element:t}),[2]})})},t.prototype.onSelectionChanged=function(e){return o(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return(t=this.cache.get(e))?(this.selection=[t],[4,this.treeDataProvider.getTreeItem(t)]):[3,2];case 1:(n=r.sent()).command&&this.commandRegistry.executeCommand(n.command.id,n.command.arguments?n.command.arguments:[]),r.label=2;case 2:return[2]}})})},t}(u.Disposable)},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(6),a=n(19),u=n(2),c=n(110),l=n(125),f=function(){function t(e,t){this.connectionExt=t,this.serverConnections=new Map,this.proxy=e.getProxy(o.PLUGIN_RPC_CONTEXT.LANGUAGES_CONTRIBUTION_MAIN)}return t.prototype.registerLanguageServerProvider=function(e){var t=this;return this.proxy.$registerLanguageServerProvider(e),u.Disposable.create(function(){t.stop(e.id)})},t.prototype.stop=function(e){var t=this.serverConnections.get(e);t&&(t.dispose(),this.serverConnections.delete(e),this.proxy.$stop(e))},t.prototype.$start=function(e){return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return[4,this.connectionExt.ensureConnection(e.id)];case 1:if(t=i.sent(),!e.command)throw new Error("The command to start language server has to be set");return n=this.spawnProcess(e.command,e.args),r=d(n),this.serverConnections.set(e.id,r),t.forward(r,this.map.bind(this)),r.forward(t,this.map.bind(this)),[2]}})})},t.prototype.spawnProcess=function(e,t,n){return s.spawn(e,t,n)},t.prototype.map=function(t){l.isRequestMessage(t)&&(t.method===c.InitializeRequest.type.method&&(t.params.processId=e.pid));return t},t}();function d(e){var t=new a.StreamMessageReader(e.stdout),n=new a.StreamMessageWriter(e.stdin);return{reader:t,writer:n,forward:function(e,n){void 0===n&&(n=function(e){return e}),t.listen(function(t){var r=n(t);e.writer.write(r)})},dispose:function(){e.kill(),t.dispose(),n.dispose()}}}t.LanguagesContributionExtImpl=f,t.createConnection=d}).call(this,n(5))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(8);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(39)),r(n(116)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s;t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(21),i=n(16);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze(function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(45),o=n(6),s=n(6),a=n(30),u=n(31);t.generateRandomPipeName=function(){const t=o.randomBytes(21).toString("hex");return"win32"===e.platform?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:r.join(i.tmpdir(),`vscode-${t}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let c=s.createServer(e=>{c.close(),n([new a.SocketMessageReader(e,t),new u.SocketMessageWriter(e,t)])});c.on("error",o),c.listen(e,()=>{c.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new u.SocketMessageWriter(n,t)]}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(30),o=n(31);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,u)=>{let c=r.createServer(e=>{c.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});c.on("error",u),c.listen(e,"127.0.0.1",()=>{c.removeListener("error",u),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(117),i=n(8),o=n(118);t.ImplementationRequest=o.ImplementationRequest;const s=n(119);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(120);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const u=n(121);t.ConfigurationRequest=u.ConfigurationRequest;const c=n(122);t.DocumentColorRequest=c.DocumentColorRequest,t.ColorPresentationRequest=c.ColorPresentationRequest;const l=n(123);t.FoldingRangeRequest=l.FoldingRangeRequest;const f=n(124);t.DeclarationRequest=f.DeclarationRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(19)),r(n(44)),r(n(126)),r(n(46)),r(n(49)),r(n(128))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);t.Disposable=r.Disposable;var i=function(){function e(){this.disposables=[]}return e.prototype.dispose=function(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()},e.prototype.push=function(e){var t=this.disposables;return t.push(e),{dispose:function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},e}();t.DisposableCollection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(47),o=n(48);t.createWebSocketConnection=function(e,t){var n=new i.WebSocketMessageReader(e),s=new o.WebSocketMessageWriter(e),a=r.createMessageConnection(n,s,t);return a.onClose(function(){return a.dispose()}),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=n(49);function o(e){return{send:function(t){return e.send(t)},onMessage:function(t){return e.onmessage=function(e){return t(e.data)}},onError:function(t){return e.onerror=function(e){"message"in e&&t(e.message)}},onClose:function(t){return e.onclose=function(e){return t(e.code,e.reason)}},dispose:function(){return e.close()}}}t.listen=function(e){var t=e.webSocket,n=e.onConnection,s=e.logger||new i.ConsoleLogger;t.onopen=function(){var e=o(t),i=r.createWebSocketConnection(e,s);n(i)}},t.toSocket=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(50),a=n(130),u=n(131),c=function(){function e(e){this.connections=new Map,this.proxy=e.getProxy(o.PLUGIN_RPC_CONTEXT.CONNECTION_MAIN)}return e.prototype.$sendMessage=function(e,t){return r(this,void 0,void 0,function(){return i(this,function(n){return this.connections.has(e)?this.connections.get(e).reader.readMessage(t):console.warn("It is not possible to read message. Connection missed."),[2]})})},e.prototype.$createConnection=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.doEnsureConnection(e)];case 1:return t.sent(),[2]}})})},e.prototype.$deleteConnection=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return this.connections.delete(e),[2]})})},e.prototype.ensureConnection=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this.doEnsureConnection(e)];case 1:return t=n.sent(),this.proxy.$createConnection(e),[2,t]}})})},e.prototype.doEnsureConnection=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return(n=this.connections.get(e))?[3,2]:[4,this.doCreateConnection(e)];case 1:n=r.sent(),r.label=2;case 2:return t=n,this.connections.set(e,t),[2,t]}})})},e.prototype.doCreateConnection=function(e){return r(this,void 0,void 0,function(){var t,n,r=this;return i(this,function(i){return t=new a.PluginMessageReader,n=new u.PluginMessageWriter(e,this.proxy),[2,new s.PluginConnection(t,n,function(){r.connections.delete(e),r.proxy.$deleteConnection(e)})]})})},e}();t.ConnectionExtImpl=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t.state="initial",t.events=[],t}return i(t,e),t.prototype.listen=function(e){if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){var t=this.events.pop();t.message?this.readMessage(t.message):t.error?this.fireError(t.error):this.fireClose()}},t.prototype.readMessage=function(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){var t=JSON.parse(e);this.callback(t)}},t.prototype.fireError=function(t){"initial"===this.state?this.events.splice(0,0,{error:t}):"listening"===this.state&&e.prototype.fireError.call(this,t)},t.prototype.fireClose=function(){"initial"===this.state?this.events.splice(0,0,{}):"listening"===this.state&&e.prototype.fireClose.call(this),this.state="closed"},t}(n(12).AbstractMessageReader);t.PluginMessageReader=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this)||this;return r.id=t,r.proxy=n,r}return i(t,e),t.prototype.write=function(e){var t=JSON.stringify(e);this.proxy.$sendMessage(this.id,t)},t}(n(15).AbstractMessageWriter);t.PluginMessageWriter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(42),o=n(3),s=n(1),a=n(41),u=n(2),c=function(){function e(e){this.idGenerator=new a.IdGenerator("v"),this.webviewPanels=new Map,this.serializers=new Map,this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.WEBVIEWS_MAIN)}return e.prototype.$onMessage=function(e,t){var n=this.getWebviewPanel(e);n&&n.webview.onMessageEmitter.fire(t)},e.prototype.$onDidChangeWebviewPanelViewState=function(e,t){var n=this.getWebviewPanel(e);if(n){var r=s.toViewColumn(t.position);n.active===t.active&&n.visible===t.visible&&n.viewColumn===r||(n.setActive(t.active),n.setVisible(t.visible),n.setViewColumn(r),n.onDidChangeViewStateEmitter.fire({webviewPanel:n}))}},e.prototype.$onDidDisposeWebviewPanel=function(e){var t=this.getWebviewPanel(e);return t&&(t.dispose(),this.webviewPanels.delete(e)),Promise.resolve()},e.prototype.$deserializeWebviewPanel=function(e,t,n,r,i,o){var a=this.serializers.get(t);if(!a)return Promise.reject(new Error("No serializer found for '"+t+"'"));var u=new l(e,this.proxy,o),c=new f(e,this.proxy,t,n,s.toViewColumn(i),o,u);return this.webviewPanels.set(e,c),a.deserializeWebviewPanel(c,r)},e.prototype.createWebview=function(e,t,n,r,i){var o="object"==typeof n?n.viewColumn:n,a={viewColumn:s.fromViewColumn(o),preserveFocus:"object"==typeof n&&!!n.preserveFocus},u=this.idGenerator.nextId();this.proxy.$createWebviewPanel(u,e,t,a,r,i);var c=new l(u,this.proxy,r),d=new f(u,this.proxy,e,t,o,r,c);return this.webviewPanels.set(u,d),d},e.prototype.registerWebviewPanelSerializer=function(e,t){var n=this;if(this.serializers.has(e))throw new Error("Serializer for '"+e+"' already registered");return this.serializers.set(e,t),this.proxy.$registerSerializer(e),new u.Disposable(function(){n.serializers.delete(e),n.proxy.$unregisterSerializer(e)})},e.prototype.getWebviewPanel=function(e){return this.webviewPanels.get(e)},e}();t.WebviewsExtImpl=c;var l=function(){function e(e,t,n){this.viewId=e,this.proxy=t,this.isDisposed=!1,this.onMessageEmitter=new o.Emitter,this.onDidReceiveMessage=this.onMessageEmitter.event,this._options=n}return e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.onMessageEmitter.dispose())},e.prototype.postMessage=function(e){return this.checkIsDisposed(),this.proxy.$postMessage(this.viewId,e)},Object.defineProperty(e.prototype,"options",{get:function(){return this.checkIsDisposed(),this._options},set:function(e){this.checkIsDisposed(),this.proxy.$setOptions(this.viewId,e),this._options=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.checkIsDisposed(),this._html},set:function(e){this.checkIsDisposed(),this._html!==e&&(this._html=e,this.proxy.$setHtml(this.viewId,e))},enumerable:!0,configurable:!0}),e.prototype.checkIsDisposed=function(){if(this.isDisposed)throw new Error("This Webview is disposed!")},e}();t.WebviewImpl=l;var f=function(){function e(e,t,n,r,i,s,a){this.viewId=e,this.proxy=t,this._viewType=n,this._title=r,this._viewColumn=i,this._options=s,this._webview=a,this.isDisposed=!1,this._active=!0,this._visible=!0,this.onDisposeEmitter=new o.Emitter,this.onDidDispose=this.onDisposeEmitter.event,this.onDidChangeViewStateEmitter=new o.Emitter,this.onDidChangeViewState=this.onDidChangeViewStateEmitter.event}return e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.onDisposeEmitter.fire(void 0),this.proxy.$disposeWebview(this.viewId),this._webview.dispose(),this.onDisposeEmitter.dispose(),this.onDidChangeViewStateEmitter.dispose())},Object.defineProperty(e.prototype,"viewType",{get:function(){return this.checkIsDisposed(),this._viewType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.checkIsDisposed(),this._title},set:function(e){this.checkIsDisposed(),this._title!==e&&(this._title=e,this.proxy.$setTitle(this.viewId,e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconPath",{set:function(e){this.checkIsDisposed(),i.default.isUri(e)?this.proxy.$setIconPath(this.viewId,e.path):this.proxy.$setIconPath(this.viewId,{light:e.light.path,dark:e.dark.path})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"webview",{get:function(){return this.checkIsDisposed(),this._webview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkIsDisposed(),this._options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewColumn",{get:function(){return this.checkIsDisposed(),this._viewColumn},enumerable:!0,configurable:!0}),e.prototype.setViewColumn=function(e){this.checkIsDisposed(),this._viewColumn=e},Object.defineProperty(e.prototype,"active",{get:function(){return this.checkIsDisposed(),this._active},enumerable:!0,configurable:!0}),e.prototype.setActive=function(e){this.checkIsDisposed(),this._active=e},Object.defineProperty(e.prototype,"visible",{get:function(){return this.checkIsDisposed(),this._visible},enumerable:!0,configurable:!0}),e.prototype.setVisible=function(e){this.checkIsDisposed(),this._visible=e},e.prototype.reveal=function(e,t){this.checkIsDisposed(),this.proxy.$reveal(this.viewId,{viewColumn:e?s.fromViewColumn(e):void 0,preserveFocus:!!t})},e.prototype.postMessage=function(e){return this.checkIsDisposed(),this.proxy.$postMessage(this.viewId,e)},e.prototype.checkIsDisposed=function(){if(this.isDisposed)throw new Error("This WebviewPanel is disposed!")},e}();t.WebviewPanelImpl=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),s=n(134),a=n(3),u=function(){function e(e){this.callId=0,this.adaptersMap=new Map,this.taskExecutions=new Map,this.onDidExecuteTask=new a.Emitter,this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.TASKS_MAIN)}return Object.defineProperty(e.prototype,"onDidStartTask",{get:function(){return this.onDidExecuteTask.event},enumerable:!0,configurable:!0}),e.prototype.$onDidStartTask=function(e){this.onDidExecuteTask.fire({execution:this.getTaskExecution(e)})},e.prototype.registerTaskProvider=function(e,t){var n=this.addNewAdapter(new s.TaskProviderAdapter(t));return this.proxy.$registerTaskProvider(n,e),this.createDisposable(n)},e.prototype.$provideTasks=function(e){var t=this.adaptersMap.get(e);return t?t.provideTasks():Promise.reject(new Error("No adapter found to provide tasks"))},e.prototype.$resolveTask=function(e,t){var n=this.adaptersMap.get(e);return n?n.resolveTask(t):Promise.reject(new Error("No adapter found to resolve task"))},e.prototype.addNewAdapter=function(e){var t=this.nextCallId();return this.adaptersMap.set(t,e),t},e.prototype.nextCallId=function(){return this.callId++},e.prototype.createDisposable=function(e){var t=this;return new o.Disposable(function(){t.adaptersMap.delete(e),t.proxy.$unregister(e)})},e.prototype.getTaskExecution=function(e){var t=this,n=e.id,r=this.taskExecutions.get(n);return r||(r={task:i.toTask(e.task),terminate:function(){t.proxy.$terminateTask(n)}},this.taskExecutions.set(n,r),r)},e}();t.TasksExtImpl=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),s=n(4),a=function(){function e(e){this.provider=e,this.cacheId=0,this.cache=new Map}return e.prototype.provideTasks=function(){var e=this;return Promise.resolve(this.provider.provideTasks(s.createToken())).then(function(t){var n,s;if(Array.isArray(t)){var a=[];try{for(var u=r(t),c=u.next();!c.done;c=u.next()){var l=c.value,f=i.fromTask(l);if(f){var d=e.cacheId++;o.ObjectIdentifier.mixin(f,d),e.cache.set(d,l),a.push(f)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}return a}})},e.prototype.resolveTask=function(e){if("function"!=typeof this.provider.resolveTask)return Promise.resolve(void 0);var t=o.ObjectIdentifier.of(e),n=this.cache.get(t);return n?Promise.resolve(this.provider.resolveTask(n,s.createToken())).then(function(e){if(e)return i.fromTask(e)}):Promise.resolve(void 0)},e}();t.TaskProviderAdapter=a},function(e){e.exports={name:"@theia/plugin-ext",version:"0.4.0-next.c5d44a81",description:"Theia - Plugin Extension",main:"lib/common/index.js",typings:"lib/common/index.d.ts",dependencies:{"@theia/core":"0.4.0-next.c5d44a81","@theia/debug":"0.4.0-next.c5d44a81","@theia/editor":"0.4.0-next.c5d44a81","@theia/file-search":"0.4.0-next.c5d44a81","@theia/filesystem":"0.4.0-next.c5d44a81","@theia/messages":"0.4.0-next.c5d44a81","@theia/monaco":"0.4.0-next.c5d44a81","@theia/navigator":"0.4.0-next.c5d44a81","@theia/plugin":"0.4.0-next.c5d44a81","@theia/preferences":"0.4.0-next.c5d44a81","@theia/task":"0.4.0-next.c5d44a81","@theia/workspace":"0.4.0-next.c5d44a81",decompress:"^4.2.0","jsonc-parser":"^2.0.2","lodash.clonedeep":"^4.5.0","ps-tree":"1.1.0",uuid:"^3.2.1","vscode-debugprotocol":"^1.32.0","vscode-uri":"^1.0.1"},publishConfig:{access:"public"},theiaExtensions:[{backend:"lib/plugin-ext-backend-module",backendElectron:"lib/plugin-ext-backend-electron-module",frontend:"lib/plugin-ext-frontend-module"}],keywords:["theia-extension"],license:"EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0",repository:{type:"git",url:"https://github.com/theia-ide/theia.git"},bugs:{url:"https://github.com/theia-ide/theia/issues"},homepage:"https://github.com/theia-ide/theia",files:["lib","src"],scripts:{prepare:"yarn run clean && yarn run build",clean:"theiaext clean",build:"theiaext build",watch:"theiaext watch",test:"theiaext test",docs:"theiaext docs"},devDependencies:{"@theia/ext-scripts":"0.4.0-next.c5d44a81","@types/decompress":"^4.2.2","@types/lodash.clonedeep":"^4.5.3"},nyc:{extends:"../../configs/nyc.json"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hostedServicePath="/services/hostedPlugin",t.PluginScanner=Symbol("PluginScanner"),t.PluginDeployer=Symbol("PluginDeployer"),t.PluginDeployerResolver=Symbol("PluginDeployerResolver"),t.PluginDeployerDirectoryHandler=Symbol("PluginDeployerDirectoryHandler"),t.PluginDeployerFileHandler=Symbol("PluginDeployerFileHandler"),function(e){e[e.FRONTEND=0]="FRONTEND",e[e.BACKEND=1]="BACKEND"}(t.PluginDeployerEntryType||(t.PluginDeployerEntryType={})),t.MetadataProcessor=Symbol("MetadataProcessor"),t.getPluginId=function(e){return(e.publisher+"_"+e.name).replace(/\W/g,"_")},t.buildFrontendModuleName=function(e){return(e.publisher+"_"+e.name).replace(/\W/g,"_")},t.HostedPluginClient=Symbol("HostedPluginClient"),t.HostedPluginServer=Symbol("HostedPluginServer"),t.pluginServerJsonRpcPath="/services/plugin-ext",t.PluginServer=Symbol("PluginServer"),t.ServerPluginRunner=Symbol("ServerPluginRunner")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.proxy=e.getProxy(r.PLUGIN_RPC_CONTEXT.ENV_MAIN)}return e.prototype.getEnvVariable=function(e){return this.proxy.$getEnvVariable(e).then(function(e){if(null!==e)return e})},e.prototype.getQueryParameter=function(e){return this.queryParameters[e]},e.prototype.getQueryParameters=function(){return this.queryParameters},e.prototype.setQueryParameters=function(e){this.queryParameters=e},e}();t.EnvExtImpl=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(43),s=n(139);function a(e,t){if(t){for(var n=t.split("."),r=e,i=0;r&&i<n.length;i++)r=r[n[i]];return r}}var u=function(){function e(e){this._onDidChangeConfiguration=new r.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this.proxy=e.getProxy(i.PLUGIN_RPC_CONTEXT.PREFERENCE_REGISTRY_MAIN)}return e.prototype.init=function(e){this._preferences=this.parse(e)},e.prototype.$acceptConfigurationChanged=function(e,t){this.init(e),this._onDidChangeConfiguration.fire(this.toConfigurationChangeEvent(t))},e.prototype.getConfiguration=function(e,t,n){var r=this,i=this.toReadonlyValue(e?a(this._preferences,e):this._preferences);return{has:function(e){return void 0!==a(i,e)},get:function(e,t){var n=a(i,e);if(void 0===n)return t;var r=void 0,u=function(e,t){var n=void 0,c=function(){r=r||s(i),n=n?c:a(r,t)};return o.isObject(e)?new Proxy(e,{get:function(e,i){if("string"==typeof i&&"tojson"===i.toLowerCase())return c(),function(){return n};if(r)return(n=c||a(r,t))[i];var o=e[i];return"string"==typeof i?u(o,t+"."+i):o},set:function(e,t,r){return c(),n[t]=r,!0},deleteProperty:function(e,t){return c(),delete n[t],!0},defineProperty:function(e,t,r){return c(),Object.defineProperty(n,t,r),!0}}):e};return u(n,e)},update:function(n,i,o){return n=e?e+"."+n:n,void 0!==i?r.proxy.$updateConfigurationOption(o,n,i,t):r.proxy.$removeConfigurationOption(o,n,t)},inspect:function(e){throw new Error("Not implemented yet.")}}},e.prototype.toReadonlyValue=function(e){var t=function(e){return o.isObject(e)?new Proxy(e,{get:function(e,n){return t(e[n])},set:function(e,t,n){throw new Error("TypeError: Cannot assign to read only property '"+t+"' of object")},deleteProperty:function(e,t){throw new Error("TypeError: Cannot delete read only property '"+t+"' of object")},defineProperty:function(e,t){throw new Error("TypeError: Cannot define property '"+t+"' of a readonly object")},setPrototypeOf:function(e){throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:function(){return!1},preventExtensions:function(){return!0}}):e};return t(e)},e.prototype.parse=function(e){return Object.keys(e).reduce(function(t,n){for(var r=n.split("."),i=t,o=0;o<r.length;o++)o!==r.length-1?(i[r[o]]||(i[r[o]]={}),i=i[r[o]]):i[r[o]]=e[n];return t},{})},e.prototype.toConfigurationChangeEvent=function(e){return Object.freeze({affectsConfiguration:function(t,n){return!!a(e.preferenceName.split(".").reverse().reduce(function(e,t){var n;return(n={})[t]=e,n},e.newValue),t)}})},e}();t.PreferenceRegistryExtImpl=u},function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",S="[object Uint16Array]",D="[object Uint32Array]",R=/\w*$/,I=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,k={};k[s]=k["[object Array]"]=k[y]=k[b]=k[a]=k[u]=k[w]=k[_]=k[C]=k[E]=k[x]=k[f]=k[d]=k[h]=k[p]=k[g]=k[m]=k[v]=k[T]=k[P]=k[S]=k[D]=!0,k["[object Error]"]=k[c]=k["[object WeakMap]"]=!1;var A="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,N=A||M||Function("return this")(),L=t&&!t.nodeType&&t,j=L&&"object"==typeof n&&n&&!n.nodeType&&n,q=j&&j.exports===L;function F(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function $(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function B(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var H,G=Array.prototype,z=Function.prototype,X=Object.prototype,Y=N["__core-js_shared__"],J=(H=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Q=z.toString,Z=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=q?N.Buffer:void 0,re=N.Symbol,ie=N.Uint8Array,oe=B(Object.getPrototypeOf,Object),se=Object.create,ae=X.propertyIsEnumerable,ue=G.splice,ce=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=B(Object.keys,Object),de=je(N,"DataView"),he=je(N,"Map"),pe=je(N,"Promise"),ge=je(N,"Set"),me=je(N,"WeakMap"),ve=je(Object,"create"),ye=Ue(de),be=Ue(he),we=Ue(pe),_e=Ue(ge),Ce=Ue(me),Ee=re?re.prototype:void 0,xe=Ee?Ee.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){this.__data__=new Pe(e)}function Re(e,t){var n=Be(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ve(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==s)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Z.call(e,o)||i&&("length"==o||We(o,r))||n.push(o);return n}function Ie(e,t,n){var r=e[t];Z.call(e,t)&&Ke(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if(Ke(e[n][0],t))return n;return-1}function ke(e,t,n,r,i,o,I){var O;if(r&&(O=o?r(e,i,o,I):r(e)),void 0!==O)return O;if(!ze(e))return e;var A=Be(e);if(A){if(O=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,O)}else{var M=Fe(e),N=M==c||M==l;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(M==h||M==s||N&&!o){if(U(e))return o?e:{};if(O=function(e){return"function"!=typeof e.constructor||$e(e)?{}:(t=oe(e),ze(t)?se(t):{});var t}(N?{}:e),!t)return function(e,t){return Ne(e,qe(e),t)}(e,function(e,t){return e&&Ne(t,Xe(t),e)}(O,e))}else{if(!k[M])return o?e:{};O=function(e,t,n,r){var i=e.constructor;switch(t){case y:return Me(e);case a:case u:return new i(+e);case b:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case _:case C:case E:case x:case T:case P:case S:case D:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return $(t?n(K(e),!0):K(e),F,new e.constructor)}(e,r,n);case d:case m:return new i(e);case p:return(c=new(s=e).constructor(s.source,R.exec(s))).lastIndex=s.lastIndex,c;case g:return function(e,t,n){return $(t?n(V(e),!0):V(e),W,new e.constructor)}(e,r,n);case v:return o=e,xe?Object(xe.call(o)):{}}var o;var s,c}(e,M,ke,t)}}I||(I=new De);var L=I.get(e);if(L)return L;if(I.set(e,O),!A)var j=n?function(e){return function(e,t,n){var r=t(e);return Be(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,qe)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,function(i,o){j&&(i=e[o=i]),Ie(O,o,ke(i,t,n,r,o,e,I))}),O}function Ae(e){return!(!ze(e)||(t=e,J&&J in t))&&(Ge(e)||U(e)?te:I).test(Ue(e));var t}function Me(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Ne(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;Ie(n,s,void 0===a?e[s]:a)}return n}function Le(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}Te.prototype.clear=function(){this.__data__=ve?ve(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===i?void 0:n}return Z.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:Z.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?i:t,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},Pe.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Pe.prototype.has=function(e){return Oe(this.__data__,e)>-1},Pe.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Se.prototype.clear=function(){this.__data__={hash:new Te,map:new(he||Pe),string:new Te}},Se.prototype.delete=function(e){return Le(this,e).delete(e)},Se.prototype.get=function(e){return Le(this,e).get(e)},Se.prototype.has=function(e){return Le(this,e).has(e)},Se.prototype.set=function(e,t){return Le(this,e).set(e,t),this},De.prototype.clear=function(){this.__data__=new Pe},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pe){var i=n.__data__;if(!he||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new Se(i)}return n.set(e,t),this};var qe=ce?B(ce,Object):function(){return[]},Fe=function(e){return ee.call(e)};function We(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function $e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Ue(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ke(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=b||he&&Fe(new he)!=f||pe&&"[object Promise]"!=Fe(pe.resolve())||ge&&Fe(new ge)!=g||me&&"[object WeakMap]"!=Fe(new me))&&(Fe=function(e){var t=ee.call(e),n=t==h?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return b;case be:return f;case we:return"[object Promise]";case _e:return g;case Ce:return"[object WeakMap]"}return t});var Be=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ge(e)}var He=le||function(){return!1};function Ge(e){var t=ze(e)?ee.call(e):"";return t==c||t==l}function ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ve(e)?Re(e):function(e){if(!$e(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return ke(e,!0,!0)}}).call(this,n(9),n(140)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142);t.createDebugExtStub=function(e){return new Proxy(new r.DebugExtImpl(e),{apply:function(e,t,n){console.error("Debug API works only in plugin container")}})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),a=n(2),u=n(0),c=n(143),l=n(50),f=n(146),d=n(148),h=n(149),p=n(7),g=n(38),m=function(){function e(e){var t=this;this.sessions=new Map,this.configurationProviders=new Map,this.debuggersContributions=new Map,this.onDidChangeBreakpointsEmitter=new s.Emitter,this.onDidChangeActiveDebugSessionEmitter=new s.Emitter,this.onDidTerminateDebugSessionEmitter=new s.Emitter,this.onDidStartDebugSessionEmitter=new s.Emitter,this.onDidReceiveDebugSessionCustomEmitter=new s.Emitter,this.breakpoints=[],this.proxy=e.getProxy(u.PLUGIN_RPC_CONTEXT.DEBUG_MAIN),this.activeDebugConsole={append:function(e){return t.proxy.$appendToDebugConsole(e)},appendLine:function(e){return t.proxy.$appendLineToDebugConsole(e)}}}return e.prototype.assistedInject=function(e,t){this.connectionExt=e,this.commandRegistryExt=t},e.prototype.registerDebuggersContributions=function(e,t){var n=this;this.pluginFolder=e,t.forEach(function(e){n.debuggersContributions.set(e.type,e),n.proxy.$registerDebuggerContribution({type:e.type,label:e.label||e.type}),console.log("Debugger contribution has been registered: "+e.type)})},Object.defineProperty(e.prototype,"onDidReceiveDebugSessionCustomEvent",{get:function(){return this.onDidReceiveDebugSessionCustomEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeActiveDebugSession",{get:function(){return this.onDidChangeActiveDebugSessionEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidTerminateDebugSession",{get:function(){return this.onDidTerminateDebugSessionEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidStartDebugSession",{get:function(){return this.onDidStartDebugSessionEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeBreakpoints",{get:function(){return this.onDidChangeBreakpointsEmitter.event},enumerable:!0,configurable:!0}),e.prototype.addBreakpoints=function(e){this.proxy.$addBreakpoints(e)},e.prototype.removeBreakpoints=function(e){this.proxy.$removeBreakpoints(e)},e.prototype.startDebugging=function(e,t){return this.proxy.$startDebugging(e,t)},e.prototype.registerDebugConfigurationProvider=function(e,t){var n=this;console.log("Debug configuration provider has been registered: "+e);var r=this.configurationProviders.get(e)||new Set;return this.configurationProviders.set(e,r),r.add(t),a.Disposable.create(function(){var r=n.configurationProviders.get(e);r&&(r.delete(t),0===r.size&&n.configurationProviders.delete(e))})},e.prototype.$onSessionCustomEvent=function(e,t,n){return r(this,void 0,void 0,function(){var r;return i(this,function(i){return(r=this.sessions.get(e))&&this.onDidReceiveDebugSessionCustomEmitter.fire({event:t,body:n,session:r}),[2]})})},e.prototype.$sessionDidCreate=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return(t=this.sessions.get(e))&&this.onDidStartDebugSessionEmitter.fire(t),[2]})})},e.prototype.$sessionDidDestroy=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return(t=this.sessions.get(e))&&this.onDidTerminateDebugSessionEmitter.fire(t),[2]})})},e.prototype.$sessionDidChange=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return t=e?this.sessions.get(e):void 0,this.onDidChangeActiveDebugSessionEmitter.fire(t),[2]})})},e.prototype.$breakpointsDidChange=function(e,t,n,o){return r(this,void 0,void 0,function(){return i(this,function(r){return this.breakpoints=e,this.onDidChangeBreakpointsEmitter.fire({added:t,removed:n,changed:o}),[2]})})},e.prototype.$createDebugSession=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,s,a=this;return i(this,function(i){switch(i.label){case 0:return[4,this.getExecutable(e)];case 1:return t=i.sent(),n=d.startDebugAdapter(t),r=c.v4(),o=new f.PluginDebugAdapterSession(r,e,n,function(e,t){return a.proxy.$customRequest(e,t)}),this.sessions.set(r,o),[4,this.connectionExt.ensureConnection(r)];case 2:return s=i.sent(),o.start(new l.PluginWebSocketChannel(s)),[2,r]}})})},e.prototype.$terminateDebugSession=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return(t=this.sessions.get(e))?[4,t.stop()]:[3,2];case 1:n.sent(),this.sessions.delete(e),n.label=2;case 2:return[2]}})})},e.prototype.$getSupportedLanguages=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return[2,(t=this.debuggersContributions.get(e))&&t.languages||[]]})})},e.prototype.$getSchemaAttributes=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return[2,(t=this.debuggersContributions.get(e))&&t.configurationAttributes||[]]})})},e.prototype.$getConfigurationSnippets=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){return[2,(t=this.debuggersContributions.get(e))&&t.configurationSnippets||[]]})})},e.prototype.$provideDebugConfigurations=function(e,t){return r(this,void 0,void 0,function(){var n,r,s,a,u,c,l,f,d,h;return i(this,function(i){switch(i.label){case 0:if(s=[],!(a=this.configurationProviders.get(e)))return[3,8];i.label=1;case 1:i.trys.push([1,6,7,8]),u=o(a),c=u.next(),i.label=2;case 2:return c.done?[3,5]:(l=c.value).provideDebugConfigurations?(d=(f=s).concat,[4,l.provideDebugConfigurations(this.toWorkspaceFolder(t))]):[3,4];case 3:s=d.apply(f,[i.sent()||[]]),i.label=4;case 4:return c=u.next(),[3,2];case 5:return[3,8];case 6:return h=i.sent(),n={error:h},[3,8];case 7:try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}return[7];case 8:return[2,s]}})})},e.prototype.$resolveDebugConfigurations=function(e,t){return r(this,void 0,void 0,function(){var n,r,s,a,u,c,l,f,d,h;return i(this,function(i){switch(i.label){case 0:if(s=e,!(a=this.configurationProviders.get(e.type)))return[3,10];i.label=1;case 1:i.trys.push([1,8,9,10]),u=o(a),c=u.next(),i.label=2;case 2:if(c.done)return[3,7];if(!(l=c.value).resolveDebugConfiguration)return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,l.resolveDebugConfiguration(this.toWorkspaceFolder(t),s)];case 4:return(f=i.sent())?(s=f,[3,6]):[2,s];case 5:return d=i.sent(),console.error(d),[3,6];case 6:return c=u.next(),[3,2];case 7:return[3,10];case 8:return h=i.sent(),n={error:h},[3,10];case 9:try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}return[7];case 10:return[2,s]}})})},e.prototype.getExecutable=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return(t=this.debuggersContributions.get(e.type))?t.adapterExecutableCommand?[4,this.commandRegistryExt.executeCommand(t.adapterExecutableCommand,[])]:[3,2]:[3,3];case 1:return[2,n.sent()];case 2:return[2,h.resolveDebugAdapterExecutable(this.pluginFolder,t)];case 3:throw new Error("It is not possible to provide debug adapter executable for '"+e.type+"'.")}})})},e.prototype.toWorkspaceFolder=function(e){if(e){var t=p.default.parse(e);return{uri:t,name:new g.Path(t.path).base,index:0}}},e}();t.DebugExtImpl=m},function(e,t,n){var r=n(144),i=n(145),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i,o=n(51),s=n(52),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=p-a+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=g,i=d;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||s(l)}},function(e,t,n){var r=n(51),i=n(52);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i){var o=e.call(this,t,r)||this;return o.id=t,o.configuration=n,o.communicationProvider=r,o.customRequest=i,o.type=n.type,o.name=n.name,o}return i(t,e),t}(n(147).DebugAdapterSessionImpl);t.PluginDebugAdapterSession=o},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),s=function(){function t(t,n){var r=this;this.id=t,this.communicationProvider=n,this.toDispose=new o.DisposableCollection,this.contentLength=-1,this.buffer=new e(0),this.toDispose.pushAll([this.communicationProvider,o.Disposable.create(function(){return r.write(JSON.stringify({seq:-1,type:"request",command:"disconnect"}))}),o.Disposable.create(function(){return r.write(JSON.stringify({seq:-1,type:"request",command:"terminate"}))})])}return t.prototype.start=function(e){return r(this,void 0,void 0,function(){var t=this;return i(this,function(n){if(this.channel)throw new Error("The session has already been started, id: "+this.id);return this.channel=e,this.channel.onMessage(function(e){return t.write(e)}),this.channel.onClose(function(){return t.channel=void 0}),this.communicationProvider.output.on("data",function(e){return t.handleData(e)}),this.communicationProvider.output.on("close",function(){return t.fireExited()}),this.communicationProvider.output.on("error",function(e){return t.onDebugAdapterError(e)}),this.communicationProvider.input.on("error",function(e){return t.onDebugAdapterError(e)}),[2]})})},t.prototype.fireExited=function(){this.send(JSON.stringify({type:"event",event:"exited",seq:-1,body:{exitCode:1}}))},t.prototype.onDebugAdapterError=function(e){var t={type:"event",event:"error",seq:-1,body:e};this.send(JSON.stringify(t))},t.prototype.handleData=function(n){for(this.buffer=e.concat([this.buffer,n]);;){if(this.contentLength>=0){if(this.buffer.length>=this.contentLength){var r=this.buffer.toString("utf8",0,this.contentLength);this.buffer=this.buffer.slice(this.contentLength),this.contentLength=-1,r.length>0&&this.send(r);continue}}else{var i=this.buffer.indexOf(t.CONTENT_LENGTH);if(i>0){var o=this.buffer.slice(0,i);console.log(o.toString("utf-8")),this.buffer=this.buffer.slice(i)}if(-1!==(i=this.buffer.indexOf(t.TWO_CRLF))){for(var s=this.buffer.toString("utf8",0,i).split("\r\n"),a=0;a<s.length;a++){var u=s[a].split(/: +/);u[0]===t.CONTENT_LENGTH&&(this.contentLength=+u[1])}this.buffer=this.buffer.slice(i+t.TWO_CRLF.length);continue}}break}},t.prototype.send=function(e){this.channel&&this.channel.send(e)},t.prototype.write=function(t){this.communicationProvider.input.write("Content-Length: "+e.byteLength(t,"utf8")+"\r\n\r\n"+t,"utf8")},t.prototype.stop=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this.toDispose.dispose(),[2]})})},t.TWO_CRLF="\r\n\r\n",t.CONTENT_LENGTH="Content-Length",t}();t.DebugAdapterSessionImpl=s}).call(this,n(13).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.startDebugAdapter=function(e){var t;if("command"in e){var n=e.command,i=e.args;t=r.spawn(n,i,{stdio:["pipe","pipe",2]})}else{if(!("modulePath"in e))throw new Error("It is not possible to launch debug adapter with the command: "+JSON.stringify(e));var o=e.modulePath;i=e.args,t=r.fork(o,i,{stdio:["pipe","pipe",2,"ipc"]})}return{input:t.stdin,output:t.stdout,dispose:function(){return t.kill()}}}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),u=n(36);t.resolveDebugAdapterExecutable=function(t,n){return r(this,void 0,void 0,function(){var r,o,c,l,f,d,h;return i(this,function(i){if(p=n,r=u.isWindows&&!e.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?p.winx86||p.win||p.windows:u.isWindows?p.win||p.windows:u.isOSX?p.osx:p.linux,!(o=r&&r.program||n.program))throw new Error("It is not possible to provide debug adapter executable. Program not found.");var p;return o=a.join(t,o),c=r&&r.args||n.args||[],(l=r&&r.runtime||n.runtime)&&0===l.indexOf("./")&&(l=a.join(t,l)),f=r&&r.runtimeArgs||n.runtimeArgs||[],d=l||o,h=l?s(f,[o],c):c,[2,{command:d,args:h}]})})}}).call(this,n(5))}]);
//# sourceMappingURL=worker-ext.005cdb1d881cebb8f072.js.map