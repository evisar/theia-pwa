{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@theia/plugin-ext/src/api/plugin-api.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/type-converters.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/types-impl.ts","webpack:///./node_modules/@theia/core/src/common/event.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/token-provider.ts","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/vscode-uri/lib/esm/index.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/main.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/vscode-jsonrpc/lib/is.js","webpack:///./node_modules/vscode-jsonrpc/lib/messageReader.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///./node_modules/vscode-jsonrpc/lib/events.js","webpack:///./node_modules/vscode-jsonrpc/lib/messageWriter.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/is.js","webpack:///./node_modules/@theia/plugin-ext/src/common/object-identifier.ts","webpack:///./node_modules/@theia/core/src/common/disposable.ts","webpack:///./node_modules/vscode-jsonrpc/lib/main.js","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/util.ts","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/events.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/@theia/core/src/common/promise-util.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/paths.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/strings.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/markdown-string.ts","webpack:///./node_modules/@theia/plugin-ext/src/api/model.ts","webpack:///./node_modules/@theia/core/src/common/cancellation.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/assert.ts","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messageReader.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messageWriter.js","webpack:///./node_modules/@theia/plugin-ext/src/api/rpc-protocol.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/disposable-util.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/errors.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/paths-util.ts","webpack:///./node_modules/@theia/core/src/common/os.ts","webpack:///./node_modules/@theia/plugin-ext/src/api/async-util.ts","webpack:///./node_modules/@theia/core/src/common/path.ts","webpack:///./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/@theia/plugin-ext/src/plugin/document-data.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/id-generator.ts","webpack:///./node_modules/vscode-uri/lib/umd/index.js","webpack:///./node_modules/@theia/plugin-ext/src/common/types.ts","webpack:///./node_modules/vscode-jsonrpc/lib/messages.js","webpack:///./node_modules/os-browserify/browser.js","webpack:///./node_modules/vscode-ws-jsonrpc/src/socket/index.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/socket/reader.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/socket/writer.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/logger.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/connection.ts","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/@theia/plugin-ext/src/hosted/browser/worker/worker-main.ts","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/@theia/plugin-ext/src/plugin/plugin-manager.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/plugin-storage.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/plugin-context.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/command-registry.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/quick-open.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/message-registry.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/status-bar-message-registry.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/status-bar/status-bar-item.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/status-bar/vscolor-const.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/window-state.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/workspace.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/in-plugin-filesystem-watcher-proxy.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/editors-and-documents.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/text-editor.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/prefix-sum-computer.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/word-helper.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/text-editors.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/documents.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/editor-options.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/output-channel-registry.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/output-channel/output-channel-item.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/terminal-ext.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/glob.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/completion.ts","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/vscode-jsonrpc/lib/cancellation.js","webpack:///./node_modules/vscode-jsonrpc/lib/linkedMap.js","webpack:///./node_modules/vscode-jsonrpc/lib/pipeSupport.js","webpack:///./node_modules/vscode-jsonrpc/lib/socketSupport.js","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/diagnostics.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/signature.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/hover.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/document-highlight.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/document-formatting.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/range-formatting.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/on-type-formatting.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/definition.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/implementation.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/type-definition.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/code-action.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/link-provider.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/lens.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/outline.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/reference.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/workspace-symbol.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/folding.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages/color.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/dialogs.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/notification.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/statusBar.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/tree/tree-views.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/languages-contribution-ext.ts","webpack:///./node_modules/vscode-languageserver-protocol/lib/main.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messages.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/cancellation.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/linkedMap.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/pipeSupport.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/socketSupport.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/utils/is.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","webpack:///./node_modules/vscode-ws-jsonrpc/src/index.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/disposable.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/socket/connection.ts","webpack:///./node_modules/vscode-ws-jsonrpc/src/connection.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/connection-ext.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-message-reader.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-message-writer.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/webviews.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/tasks/tasks.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/tasks/task-provider.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-protocol.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/env.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/preference-registry.ts","webpack:///./node_modules/lodash.clonedeep/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/@theia/plugin-ext/src/hosted/browser/worker/debug-stub.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/node/debug/debug.ts","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/@theia/plugin-ext/src/plugin/node/debug/plugin-debug-adapter-session.ts","webpack:///./node_modules/@theia/debug/src/node/debug-adapter-session.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/node/debug/plugin-debug-adapter-starter.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/node/debug/plugin-debug-adapter-executable-resolver.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","rpc_protocol_1","emptyPlugin","lifecycle","startMethod","stopMethod","model","id","publisher","version","displayName","description","engine","type","entryPoint","pluginPath","pluginFolder","rawModel","engines","packagePath","TreeViewItem","TreeViewItemCollapsibleState","EditorPosition","TextEditorRevealType","TrackedRangeStickiness","PLUGIN_RPC_CONTEXT","COMMAND_REGISTRY_MAIN","createProxyIdentifier","QUICK_OPEN_MAIN","DIALOGS_MAIN","WORKSPACE_MAIN","MESSAGE_REGISTRY_MAIN","TEXT_EDITORS_MAIN","DOCUMENTS_MAIN","STATUS_BAR_MESSAGE_REGISTRY_MAIN","ENV_MAIN","NOTIFICATION_MAIN","TERMINAL_MAIN","TREE_VIEWS_MAIN","PREFERENCE_REGISTRY_MAIN","OUTPUT_CHANNEL_REGISTRY_MAIN","LANGUAGES_MAIN","CONNECTION_MAIN","WEBVIEWS_MAIN","STORAGE_MAIN","TASKS_MAIN","LANGUAGES_CONTRIBUTION_MAIN","DEBUG_MAIN","MAIN_RPC_CONTEXT","HOSTED_PLUGIN_MANAGER_EXT","COMMAND_REGISTRY_EXT","QUICK_OPEN_EXT","WINDOW_STATE_EXT","NOTIFICATION_EXT","WORKSPACE_EXT","TEXT_EDITORS_EXT","EDITORS_AND_DOCUMENTS_EXT","DOCUMENTS_EXT","TERMINAL_EXT","TREE_VIEWS_EXT","PREFERENCE_REGISTRY_EXT","LANGUAGES_EXT","CONNECTION_EXT","WEBVIEWS_EXT","STORAGE_EXT","TASKS_EXT","LANGUAGES_CONTRIBUTION_EXT","DEBUG_EXT","SymbolKind","plugin_api_1","types","markdown_string_1","vscode_uri_1","SIDE_GROUP","ACTIVE_GROUP","vscode_languageserver_types_1","fromRange","range","start","end","startLineNumber","line","startColumn","character","endLineNumber","endColumn","isDecorationOptionsArr","something","length","isDecorationOptions","fromManyMarkdown","markup","map","fromMarkdown","thing","language","isMarkdownString","fromGlobPattern","pattern","rp","base","RelativePattern","fromTextEdit","edit","text","newText","convertCode","code","String","convertSeverity","severity","DiagnosticSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","convertRelatedInformation","diagnosticsRelatedInformation","relatedInformation","diagnosticsRelatedInformation_1","__values","diagnosticsRelatedInformation_1_1","next","done","item","push","resource","location","uri","message","convertTags","tags","markerTags","tags_1","tags_1_1","DiagnosticTag","Unnecessary","MarkerTag","fromDocumentHighlightKind","kind","DocumentHighlightKind","Text","Read","Write","fromProcessExecution","execution","processTaskDto","command","process","args","options","cwd","fromShellExecution","getShellExecutionOptions","commandLine","split","taskCommand","shift","getShellArgs","getProcessExecution","processArgs","getShellExecution","result","forEach","arg","env","executable","shellQuoting","shellArgs","fromFoldingRangeKind","FoldingRangeKind","Comment","Imports","Region","toViewColumn","ep","ONE","ViewColumn","One","TWO","Two","THREE","Three","fromViewColumn","column","Beside","toSelection","selection","selectionStartLineNumber","selectionStartColumn","positionLineNumber","positionColumn","Position","Selection","fromSelection","active","anchor","toRange","Range","fromPosition","position","lineNumber","toPosition","fromRangeOrRangeWithMessage","ranges","hoverMessage","Array","isArray","undefined","renderOptions","fromDocumentSelector","selector","scheme","fromCompletionItemKind","CompletionItemKind","Method","Function","Constructor","Field","Variable","Class","Interface","Struct","Module","Property","Unit","Value","Constant","Enum","EnumMember","Keyword","Snippet","Color","File","Reference","Folder","Event","Operator","TypeParameter","toCompletionItemKind","fromLanguageSelector","convertDiagnosticToMarkerData","diagnostic","source","fromHover","hover","contents","fromLocation","fromDefinitionLink","definitionLink","targetUri","targetRange","origin","originSelectionRange","selectionRange","targetSelectionRange","fromDocumentLink","url","target","toString","fromDocumentHighlight","documentHighlight","toInternalCommand","title","label","tooltip","arguments","fromWorkspaceEdit","documents","edits","_b","_allEntries","_c","entry","_d","__read","uriOrEdits","doc","getDocument","modelVersionId","oldUri","newUri","fromMapping","Namespace","Package","Number","Boolean","Key","Null","fromSymbolKind","toSymbolKind","k","fromDocumentSymbol","info","detail","children","toWorkspaceFolder","folder","default","revive","index","fromTask","task","taskDto","taskDefinition","definition","properties","toTask","taskType","fromSymbolInformation","symbolInformation","p1","p2","SymbolInformation","containerName","toSymbolInformation","parse","fromFoldingRange","foldingRange","fromColor","color","red","green","blue","alpha","toColor","fromColorPresentation","colorPresentation","textEdit","additionalTextEdits","errors_1","crypto","paths_util_1","strings_1","model_1","Disposable","func","this","disposable","from","disposables","_i","disposables_1","disposables_1_1","dispose","StatusBarAlignment","TextEditorLineNumbersStyle","TextEditorSelectionChangeKind","fromValue","Keyboard","Mouse","Command","char","_line","_character","isBefore","other","isBeforeOrEqual","isAfter","isAfterOrEqual","isEqual","compareTo","translate","lineDeltaOrChange","characterDelta","illegalArgument","lineDelta","with","lineOrChange","Min","positions","pop","positions_1","positions_1_1","Max","positions_2","positions_2_1","isPosition","_a","startLineOrStart","startColumnOrEnd","endLine","_start","_end","contains","positionOrRange","intersection","union","startOrChange","isRange","_super","anchorLineOrAnchor","anchorColumnOrActive","activeLine","activeColumn","_this","_anchor","_active","__extends","EndOfLine","SnippetString","_tabstop","isSnippetString","_escape","replace","appendText","string","appendTabstop","number","appendPlaceholder","nested","appendVariable","defaultValue","ThemeColor","ThemeIcon","DecorationRangeBehavior","OverviewRulerLane","ConfigurationTarget","isUri","fsPath","pathToRelative","to","relative","IndentAction","TextEdit","_range","_newText","_newEol","isTextEdit","insert","delete","setEndOfLine","eol","ret","newEol","CompletionTriggerKind","CompletionItem","CompletionList","items","isIncomplete","DiagnosticRelatedInformation","Location","rangeOrPosition","Diagnostic","ParameterInformation","documentation","SignatureInformation","SignatureHelp","Hover","DocumentHighlight","DocumentLink","isEmpty","CodeLens","CodeActionTrigger","CodeActionKind","append","parts","sep","startsWithIgnoreCase","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","TextDocumentSaveReason","CodeAction","WorkspaceEdit","_edits","renameFile","_type","createFile","deleteFile","has","set","edits_1","edits_1_1","element","filter","e","res","candidate","entries","textEdits","Map","v","toJSON","TreeItemCollapsibleState","TreeItem","arg1","collapsibleState","None","resourceUri","rangeOrContainer","locationOrUri","validate","DocumentSymbol","FileChangeType","FileType","ProgressOptions","cancellable","Progress","report","ProgressLocation","ProcessExecution","varg1","varg2","executionProcess","executionOptions","computeId","hash","createHash","update","digest","ShellQuoting","TaskPanelKind","TaskRevealKind","ShellExecution","arg0","arg2","shellCommand","shellOptions","shellCommandLine","TaskGroup","groupId","Clean","Build","Rebuild","Test","TaskScope","Task","scope","problemMatchers","taskProblemMatchers","hasTaskProblemMatchers","isTaskBackground","clear","taskScope","taskName","taskExecution","taskSource","taskGroup","taskPresentationOptions","Breakpoint","enabled","condition","hitCondition","logMessage","SourceBreakpoint","FunctionBreakpoint","functionName","ColorInformation","ColorPresentation","ColorFormat","FoldingRange","_disposable","assign","maxListeners","event","mapFunc","listener","thisArgs","CallbackList","_callbacks","add","callback","context","bucket","_contexts","remove","foundCallbackWithDifferentContext","splice","invoke","callbacks","slice","contexts","apply","console","error","Emitter","_options","_disposed","_event","onFirstListenerAdd","checkMaxListeners","_noop","onLastListenerRemove","warn","fire","vscode_jsonrpc_1","createToken","freeze","isCancellationRequested","onCancellationRequested","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","__webpack_exports__","extendStatics","isWindows","setPrototypeOf","__proto__","b","__","constructor","platform","navigator","userAgent","indexOf","_schemePattern","_singleSlashStart","_doubleSlashStart","_empty","_slash","_regexp","URI","schemeOrData","authority","path","query","fragment","_referenceResolution","test","_validateUri","_makeFsPath","configurable","change","_URI","match","exec","decodeURIComponent","file","idx","substring","components","skipEncoding","_asFormatted","data","_fsPath","_formatted","external","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","pos","charCodeAt","encodeURIComponent","charAt","substr","escaped","encodeURIComponentMinimal","toLowerCase","encoder","userinfo","fromCharCode","setImmediate","__export","Is","messages_1","RequestType","RequestType0","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","ResponseError","ErrorCodes","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","MessageReader","StreamMessageReader","IPCMessageReader","SocketMessageReader","messageWriter_1","MessageWriter","StreamMessageWriter","IPCMessageWriter","SocketMessageWriter","events_1","cancellation_1","CancellationTokenSource","CancellationToken","linkedMap_1","CancelNotification","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionState","NullLogger","log","fromString","Off","Messages","Verbose","JSON","ConnectionError","[object Object]","super","_createMessageConnection","messageReader","messageWriter","logger","strategy","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","timer","tracer","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","isRequestMessage","isResponseMessage","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","replyError","params","stringify","logLSPMessage","traceReceivedRequest","requestHandler","handler","Date","now","cancellationSource","tokenKey","handlerResult","promise","numberOfParams","token","then","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","cancel","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","response","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","connection","sendNotification","messageParams","notificationMessage","traceSendingNotification","onNotification","sendRequest","throwIfNotListening","is","last","Promise","traceSendingRequest","MessageWriteError","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","boolean","onUnhandledNotification","onDispose","keys","listen","AlreadyListening","throwIfListening","inspect","verbose","ConnectionStrategy","createMessageConnection","input","output","read","isMessageWriter","g","window","normalizeArray","allowAboveRoot","up","unshift","splitPathRe","splitPath","filename","xs","f","resolvedPath","resolvedAbsolute","TypeError","join","normalize","isAbsolute","trailingSlash","paths","trim","arr","fromParts","toParts","Math","min","samePartsLength","outputParts","delimiter","dirname","root","basename","ext","extname","str","stringArray","every","elem","Buffer","DefaultSize","CR","LF","MessageBuffer","encoding","buffer","chunk","toAppend","bufferLen","byteLength","copy","newSize","ceil","tryReadHeaders","current","header","nextStart","tryReadContent","onPartialMessage","AbstractMessageReader","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","readable","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimer","onData","headers","contentLength","parseInt","isNaN","msg","setPartialMessageTimer","clearPartialMessageTimer","json","waitingTime","eventEmitter","socket","global","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","isEncoding","actual","obj","isBuffer","checked","val","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","swap","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","fromByteArray","utf8Slice","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","max","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","out","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","AbstractMessageWriter","count","writable","errorCount","sending","doWriteMessage","send","handleError","ObjectIdentifier","mixin","of","event_1","NULL","DisposableCollection","toDispose","onDisposeEmitter","disposingElements","checkDisposed","disposed","originalDispose","toRemove","pushAll","tokenKey_1","traceSendNotification","isLocationArray","isDefinitionLinkArray","self","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","clearImmediate","Deferred","os_1","nativeSep","_posixBadPath","_winBadPath","streql","getRoot","pos_1","toOSPath","wantsBackslash","win","_isNormal","skip","prev_start","prev_part","part","isEqualOrParent","ignoreCase","sepOffset","isLowerAsciiLetter","isUpperAsciiLetter","isAsciiLetter","doEqualsIgnoreCase","stopAt","codeA","codeB","diff","abs","endsWith","haystack","needle","equalsIgnoreCase","escapeRegExpCharacters","candidateLength","MarkdownString","appendMarkdown","appendCodeblock","isTrusted","IdObject","shortcutEvent","handle","Cancelled","MutableToken","_isCancelled","_emitter","_token","cancelledMessage","cancelled","isCancelled","err","checkCancelled","ok","CRLF","numberOfBytes","partialMessageTimeout","ContentLength","promise_util_1","ProxyIdentifier","isMain","identifier","RPCProtocolImpl","remoteHostID","locals","proxies","lastMessageId","invokedHandlers","pendingRPCReplies","multiplexor","RPCMultiplexer","receiveOneMessage","getProxy","proxyId","createProxy","instance","myArgs","remoteCall","Proxy","methodName","callId","MessageFactory","request","messageToSendHostId","rawmsg","setHostID","hostID","receiveRequest","receiveReply","receiveReplyErr","invokeHandler","replyOK","replyErr","pendingReply","$isError","stack","doInvokeHandler","actor","onMessage","remoteHostId","sendAccumulatedBound","sendAccumulated","messagesToSend","tmp","req","rpcId","prefix","transformErrorForSerialization","stacktrace","first","rest","readonly","what","paths_1","replaceRegex","RegExp","processed","paths_2","paths_2_1","resolved","absolute","removeDuplicateSeparators","goodComponents","components_1","components_1_1","fromSegments","toSegments","upCount","downSegments","rv","isOSX","cmd","__spread","OS","Type","Windows","OSX","Linux","hookCancellationToken","catch","anyPromise","promises","Path","raw","normalizeDrive","firstIndex","separator","lastIndex","isRoot","isDrive","computeRoot","extIndex","segment","_dir","computeDir","relativePath","startsWith","LocationLink","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceChange","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","InsertTextFormat","MarkedString","CodeActionContext","FormattingOptions","EOL","TextDocument","objectLiteral","one","two","three","four","defined","typedArray","startLine","startCharacter","endCharacter","del","textDocument","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","changes","documentChanges","TextEditChangeImpl","all","workspaceEdit","_textEditChanges","_workspaceEdit","textEditChange","getTextEditChange","textDocumentEdit","checkDocumentChanges","languageId","PlainText","Markdown","fromPlainText","plainText","parameters","deprecated","diagnostics","only","commandOrEdit","tabSize","insertSpaces","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","mergeSort","left","right","leftIdx","rightIdx","lastModifiedOffset","startOffset","endOffset","Manual","AfterDelay","FocusOut","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","ch","low","high","mid","lineOffset","nextLineOffset","check","assert_1","types_impl_1","prefix_sum_computer_1","word_helper_1","_modeId2WordDefinition","getWordDefinitionFor","modeId","setWordDefinitionFor","wordDefinition","DocumentDataExt","proxy","lines","versionId","isDirty","textLines","dirty","onEvents","lineStarts","acceptDeleteRange","acceptInsertText","acceptIsDirty","acceptLanguageId","langId","_document","that_1","fileName","isUntitled","save","getTextInRange","lineAt","lineOrPos","validateRange","ran","validatePosition","getWordRangeAtPosition","regexp","insertText","insertLines","setLineText","newLengths","Uint32Array","insertValues","removeValues","lineIndex","newValue","changeValue","$trySaveDocument","isSingleLine","lineEnding","startLineIndex","endLineIndex","resultLines","hasChanged","maxCharacter","lineOrPosition","firstNonWhitespaceCharacterIndex","rangeIncludingLineBreak","isEmptyOrWhitespace","ensureLineStarts","getAccumulatedValue","eolLength","linesLength","lineStartValues","PrefixSumComputer","getIndexOf","lineLength","remainder","_position","regExpLeadsToEndlessLoop","wordAtText","getWordAtText","ensureValidWordDefinition","IdGenerator","lastId","nextId","isObject","destination","LogType","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","MessageReadError","AbstractMessageType","_method","_numberOfParams","_","endianness","hostname","loadavg","uptime","freemem","MAX_VALUE","totalmem","cpus","release","appVersion","networkInterfaces","getNetworkInterfaces","arch","tmpdir","tmpDir","homedir","WebSocketMessageReader","events","readMessage","reason","WebSocketMessageWriter","ConsoleLogger","debug","PluginConnection","reader","writer","forward","PluginWebSocketChannel","cb","getRandomValues","msCrypto","rnds8","rnds","random","byteToHex","bth","plugin_manager_1","plugin_context_1","plugin_protocol_1","env_1","preference_registry_1","debug_stub_1","ctx","pluginsApiImpl","pluginsModulesNames","emitter","rpc","postMessage","addEventListener","defaultApi","envExt","EnvExtImpl","preferenceRegistryExt","PreferenceRegistryExtImpl","debugExt","createDebugExtStub","pluginManager","PluginManagerExtImpl","loadPlugin","plugin","isElectron","importScripts","getPluginId","frontendModuleName","init","rawPluginData","contextPath","foreign","rawPluginData_1","rawPluginData_1_1","plg","pluginModel","pluginLifecycle","frontend","frontendInitPath","apiImpl","apiFactory","backend","initExtApi","extApi","extApi_1","extApi_1_1","api","frontendExtApi","initPath","initVariable","initFunction","createAPIFactory","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","getPrototypeOf","runIfPresent","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","attachEvent","path_1","disposable_util_1","plugin_storage_1","ActivatedPlugin","pluginContext","stopFn","host","preferencesManager","registry","activatedPlugins","pluginActivationPromises","pluginContextsMap","$stopPlugin","subscriptions","$init","pluginInit","configStorage","storageProxy","KeyValueStorageProxy","globalState","workspaceState","setQueryParameters","queryParams","preferences","plugins","foreignPlugins","foreignPlugins_1","foreignPlugins_1_1","plugins_1","plugins_1_1","plugins_2","plugins_2_1","pluginMain","startPlugin","$updateStoragePath","pluginId","storagePath","logPath","hostLogPath","hostStoragePath","extensionPath","Memento","asAbsolutePath","pluginExport","getAllPlugins","values","getPluginExport","activePlugin","getPluginById","isRunning","activatePlugin","deferred","isPluginGlobalData","storage","cache","getPerPluginData","storageDataChangedEvent","setPerPluginData","initGlobalData","initWorkspaceData","storageDataChangedEmitter","globalDataCache","workspaceDataCache","isGlobal","$set","$updatePluginsWorkspaceData","workspaceData","command_registry_1","quick_open_1","message_registry_1","status_bar_message_registry_1","window_state_1","workspace_1","editors_and_documents_1","text_editors_1","documents_1","editor_options_1","output_channel_registry_1","terminal_ext_1","languages_1","type_converters_1","dialogs_1","notification_1","statusBar_1","tree_views_1","languages_contribution_ext_1","connection_ext_1","webviews_1","tasks_1","commandRegistry","CommandRegistryImpl","quickOpenExt","QuickOpenExtImpl","dialogsExt","DialogsExtImpl","messageRegistryExt","MessageRegistryExt","windowStateExt","WindowStateExtImpl","notificationExt","NotificationExtImpl","statusBarExt","StatusBarExtImpl","editorsAndDocuments","EditorsAndDocumentsExtImpl","editors","TextEditorsExtImpl","DocumentsExtImpl","workspaceExt","WorkspaceExtImpl","statusBarMessageRegistryExt","StatusBarMessageRegistryExt","terminalExt","TerminalServiceExtImpl","outputChannelRegistryExt","OutputChannelRegistryExt","languagesExt","LanguagesExtImpl","treeViewsExt","TreeViewsExtImpl","webviewExt","WebviewsExtImpl","tasksExt","TasksExtImpl","connectionExt","ConnectionExtImpl","languagesContributionExt","LanguagesContributionExtImpl","commands","registerCommand","executeCommand","commandId","registerTextEditorCommand","registerHandler","activeTextEditor","getActiveEditor","visibleTextEditors","getVisibleTextEditors","onDidChangeActiveTextEditor","thisArg","onDidChangeVisibleTextEditors","onDidChangeTextEditorSelection","onDidChangeTextEditorOptions","onDidChangeTextEditorViewColumn","onDidChangeTextEditorVisibleRanges","showTextDocument","documentArg","optionsArg","preserveFocus","optionsAny","preview","viewColumn","documentOptions","openDocument","sent","textEditor","find","editor","showQuickPick","coreEvent","coreCancellationToken","showWorkspaceFolderPick","pickWorkspaceFolder","showInformationMessage","optionsOrFirstItem","showWarningMessage","showErrorMessage","showOpenDialog","showSaveDialog","setStatusBarMessage","showInputBox","showInput","createStatusBarItem","alignment","priority","createOutputChannel","createWebviewPanel","viewType","showOptions","createWebview","registerWebviewPanelSerializer","serializer","getWindowState","onDidChangeWindowState","createTerminal","nameOrOptions","shellPath","onDidCloseTerminal","createTextEditorDecorationType","registerTreeDataProvider","viewId","treeDataProvider","createTreeView","withProgress","Notification","Window","SourceControl","workspace","workspaceFolders","onDidChangeWorkspaceFolders","textDocuments","getAllDocumentData","onDidChangeTextDocument","onDidChangeDocument","onDidCloseTextDocument","onDidRemoveDocument","onDidOpenTextDocument","onDidAddDocument","onDidSaveTextDocument","getConfiguration","section","onDidChangeConfiguration","openTextDocument","uriOrFileNameOrOptions","createDocumentData","createFileSystemWatcher","globPattern","ignoreCreateEvents","ignoreChangeEvents","ignoreDeleteEvents","findFiles","include","exclude","maxResults","registerTextDocumentContentProvider","provider","registerFileSystemProvider","getWorkspaceFolder","asRelativePath","pathOrUri","includeWorkspace","getRelativePath","getEnvVariable","envVarName","getQueryParameter","queryParamName","getQueryParameters","languageServer","registerLanguageServerProvider","languageServerInfo","stop","languages","getLanguages","score","onDidChangeDiagnostics","getDiagnostics","createDiagnosticCollection","setLanguageConfiguration","configuration","registerCompletionItemProvider","triggerCharacters","registerDefinitionProvider","registerSignatureHelpProvider","registerTypeDefinitionProvider","registerImplementationProvider","registerHoverProvider","registerDocumentHighlightProvider","registerWorkspaceSymbolProvider","registerDocumentFormattingEditProvider","registerDocumentRangeFormattingEditProvider","registerOnTypeFormattingEditProvider","firstTriggerCharacter","moreTriggerCharacters","registerDocumentLinkProvider","registerLinkProvider","registerCodeActionsProvider","metadata","registerCodeLensProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerColorProvider","registerFoldingRangeProvider","Plugin","getPlugin","debuggersContributions","contributes","debuggers","assistedInject","registerDebuggersContributions","activeDebugSession","activeDebugConsole","breakpoints","onDidChangeActiveDebugSession","onDidStartDebugSession","onDidReceiveDebugSessionCustomEvent","onDidTerminateDebugSession","onDidChangeBreakpoints","registerDebugConfigurationProvider","debugType","startDebugging","nameOrConfiguration","addBreakpoints","removeBreakpoints","tasks","registerTaskProvider","onDidStartTask","EventEmitter","Uri","TextEditorCursorStyle","packageJSON","isActive","pluginType","activate","object_identifier_1","converter","CommandsConverter","EMPTY_HANDLER","getConverter","$registerCommand","$unregisterCommand","$executeCommand","executeLocalCommand","cacheId","delegatingCommandId","executeConvertedCommand","toInternal","isFalsyOrEmpty","fromInternal","actualCmd","async_util_1","async_util_2","$onItemSelected","selectItemHandler","$validateInput","validateInputHandler","promiseOrItems","itemPromise","widgetPromise","$show","canSelectMany","canPickMany","placeHolder","autoFocus","autoFocusFirstEntry","matchOnDescription","machOnDescription","matchOnDetail","machOnDetail","ignoreFocusLost","ignoreFocusOut","pickItems","picked","onDidSelectItem","$setItems","h","$setError","validateInput","$input","$showInformationMessage","$showWarningMessage","$showErrorMessage","status_bar_item_1","$setMessage","messageId","$dispose","StatusBarItemImpl","vscolor_const_1","_proxy","Left","_alignment","_priority","_text","_tooltip","_color","_command","show","_isVisible","hide","_timeoutHandle","_messageId","getColor","colorId","VS_COLORS","statusBar.foreground","editorOverviewRuler.errorForeground","editorOverviewRuler.warningForeground","editorOverviewRuler.infoForeground","windowStateChangedEmitter","windowStateCached","focused","$onWindowStateChanged","in_plugin_filesystem_watcher_proxy_1","workspaceFoldersChangedEmitter","documentContentProviders","fileSystemWatcherManager","InPluginFileSystemWatcherProxy","folders","$onWorkspaceFoldersChanged","newFolders","roots","added","foldersDiff","removed","folder1","folder2","optionsMain","$pickWorkspaceFolder","includePattern","excludePatternOrDisregardExcludes","$startFileSearch","$fileChanged","onFileSystemEvent","subscriberId","onDidChangeSubscription","$registerTextDocumentContentProvider","onDidChange","__awaiter","$provideTextDocumentContent","$onTextDocumentContentChange","$unregisterTextDocumentContentProvider","documentURI","provideTextDocumentContent","resolveParent","hasFolder","workspaceFolder","resourcePath","folderPath","some","subscribers","perSubscriberEventEmitter","subscriberPrivateData","fileWatcherSubscriberOptions","$registerFileSystemWatcher","unsubscribe","$unregisterFileSystemWatcher","FileSystemWatcher","subscriberData","isIgnoreCreateEvents","isIgnoreChangeEvents","isIgnoreDeleteEvents","onDidCreateEmitter","onDidChangeEmitter","onDidDeleteEmitter","text_editor_1","document_data_1","Converter","_onDidAddDocuments","_onDidRemoveDocuments","_onDidChangeVisibleTextEditors","_onDidChangeActiveTextEditors","onDidAddDocuments","onDidRemoveDocuments","$acceptEditorsAndDocumentsDelta","delta","removedDocuments","addedDocuments","removedEditors","_e","_f","_g","_h","documentData","_j","_k","addedEditors","_l","_m","documentUri","TextEditorExt","selections","visibleRanges","editorPosition","newActiveEditor","activeEditorId","allEditors","activeEditor","allDocuments","getEditor","_selections","_visibleRanges","TextEditorOptionsExt","_viewColumn","acceptViewColumn","acceptOptions","accept","trySetSelection","runOnProxy","$trySetSelections","acceptSelections","acceptVisibleRanges","_acceptViewColumn","undoStopBefore","undoStopAfter","TextEditorEdit","applyEdit","insertSnippet","snippet","location_1","location_1_1","posOrRange","$tryInsertSnippet","setDecorations","decorationType","rangesOrOptions","$trySetDecorations","$trySetDecorationsFast","revealRange","revealType","$tryRevealRange","Default","editData","finalize","editRanges","sort","rangeEnd","forceMoveMarkers","$tryApplyEdits","documentVersionId","_tabSize","_insertSpace","_cursorStyle","cursorStyle","_lineNumbers","lineNumbers","validateTabSize","warnOnError","$trySetOptions","validateInsertSpaces","newOptions","configurationUpdate","hasUpdate","collectedEdits","addEdit","endOfLine","moveMarkers","validatedRange","MAX_UINT_32","toUint32","PrefixSumIndexOfResult","prefixSum","prefixSumValidIndex","Int32Array","getCount","insertIndex","oldValues","oldPrefixSum","insertValuesLen","startIndex","cnt","maxCnt","getTotalValue","_getAccumulatedValue","accumulatedValue","midStop","midStart","USUAL_WORD_SEPARATORS","DEFAULT_WORD_REGEXP","allowInWords","createWordRegExp","flags","multiline","textOffset","word","getWordAtPosSlow","getWordAtPosFast","Converters","id_generator_1","_onDidChangeTextEditorSelection","_onDidChangeTextEditorOptions","_onDidChangeTextEditorVisibleRanges","_onDidChangeTextEditorViewColumn","_onDidChangeActiveTextEditor","$acceptEditorPropertiesChanged","props","$acceptEditorPositionData","TextEditorDecorationType","Keys","$registerTextEditorDecorationType","$removeTextEditorDecorationType","disposable_1","_onDidAddDocument","_onDidRemoveDocument","_onDidChangeDocument","_onDidSaveTextDocument","loadingDocuments","documents_1_1","document_1","documents_2","documents_2_1","$acceptModelModeChanged","startUrl","oldModeId","newModeId","uriString","$acceptModelSaved","strUrl","$acceptDirtyStateChanged","contentChanges","$acceptModelChanged","rangeOffset","rangeLength","getDocumentData","cached","loadingDocument","document_2","loadDocument","error_1","$tryOpenDocument","$tryCreateDocument","cursorStyleToString","Line","Block","Underline","LineThin","BlockOutline","UnderlineThin","output_channel_item_1","OutputChannelImpl","$append","appendLine","$clear","$reveal","$close","terminals","onDidCloseTerminalEmitter","terminal","TerminalExtImpl","processId","$terminalClosed","termProcessId","$createTerminal","sendText","addNewLine","$sendText","$hide","umd_1","glob_1","completion_1","diagnostics_1","signature_1","hover_1","document_highlight_1","document_formatting_1","range_formatting_1","on_type_formatting_1","definition_1","implementation_1","type_definition_1","code_action_1","link_provider_1","lens_1","outline_1","reference_1","workspace_symbol_1","folding_1","color_1","adaptersMap","Diagnostics","$getLanguages","wordPattern","nextCallId","config","brackets","comments","onEnterRules","serializeEnterRules","serializeRegExp","indentationRules","serializeIndentation","$setLanguageConfiguration","createDisposable","$unregister","addNewAdapter","adapter","withAdapter","ctor","transformDocumentSelector","sel","doTransformDocumentSelector","$serialized","$provideCompletionItems","CompletionAdapter","provideCompletionItems","$resolveCompletionItem","completion","resolveCompletionItem","$releaseCompletionItems","releaseCompletionItems","$registerCompletionSupport","hasResolveSupport","$provideDefinition","DefinitionAdapter","provideDefinition","$registerDefinitionProvider","$provideSignatureHelp","SignatureHelpAdapter","provideSignatureHelp","$registerSignatureHelpProvider","$provideImplementation","ImplementationAdapter","provideImplementation","$registerImplementationProvider","$provideTypeDefinition","TypeDefinitionAdapter","provideTypeDefinition","$registerTypeDefinitionProvider","HoverAdapter","$registerHoverProvider","$provideHover","provideHover","DocumentHighlightAdapter","$registerDocumentHighlightProvider","$provideDocumentHighlights","provideDocumentHighlights","WorkspaceSymbolAdapter","$registerWorkspaceSymbolProvider","$provideWorkspaceSymbols","provideWorkspaceSymbols","$resolveWorkspaceSymbol","symbol","resolveWorkspaceSymbol","DocumentFormattingAdapter","$registerDocumentFormattingSupport","$provideDocumentFormattingEdits","provideDocumentFormattingEdits","RangeFormattingAdapter","$registerRangeFormattingProvider","$provideDocumentRangeFormattingEdits","provideDocumentRangeFormattingEdits","OnTypeFormattingAdapter","$registerOnTypeFormattingProvider","$provideOnTypeFormattingEdits","provideOnTypeFormattingEdits","$provideDocumentLinks","LinkProviderAdapter","provideLinks","$resolveDocumentLink","link","resolveLink","$registerDocumentLinkProvider","CodeActionAdapter","$registerQuickFixProvider","providedCodeActionKinds","$provideCodeActions","rangeOrSelection","provideCodeAction","CodeLensAdapter","eventHandle","onDidChangeCodeLenses","$registerCodeLensSupport","subscription","$emitCodeLensEvent","$provideCodeLenses","provideCodeLenses","$resolveCodeLens","resolveCodeLens","$provideReferences","ReferenceAdapter","provideReferences","$registeReferenceProvider","OutlineAdapter","$registerOutlineSupport","$provideDocumentSymbols","provideDocumentSymbols","ColorProviderAdapter","$registerDocumentColorProvider","$provideDocumentColors","provideColors","$provideColorPresentations","colorInfo","provideColorPresentations","FoldingProviderAdapter","$registerFoldingRangeProvider","$provideFoldingRange","provideFoldingRanges","rules","action","beforeText","afterText","increaseIndentPattern","decreaseIndentPattern","indentNextLinePattern","unIndentedLinePattern","candidateUri","candidateLanguage","candidateIsSynchronized","selector_1","selector_1_1","hasAccessToAllModels","strings","getEmptyExpression","GLOBSTAR","GLOB_SPLIT","PATH_REGEX","NO_PATH_REGEX","ALL_FORWARD_SLASHES","starsToRegExp","starCount","splitGlobAware","splitChar","segments","inBraces","inBrackets","curVal","T1","T2","T3","T3_2","T4","T5","CACHE","FALSE","parsePattern","patternKey","trimForExclusions","parsedPattern","wrapRelativePattern","base_1","originalPattern","slashBase","backslashBase","basenames","patterns","allBasenames","trivia2","parsedPatterns","aggregateBasenameMatches","n_1","withBasenames","allPaths","reduce","trivia3","trivia4and5","regExp_1","parseRegExp","regEx","previousSegmentWasGlobStar_1","braceVal","bracketVal","braceRegExp","toRegExp","matchPathEnds","nativePath","nativePathEnd","isRelativePattern","parsedPattern_1","resultPattern","expression","getOwnPropertyNames","when_1","when","hasSibling","clausePattern","matched","requiresSiblings","parseExpressionPattern","resultExpression_1","n_2","withBasenames_1","allPaths_1","resultExpression","n_3","parsedExpression","listToMap","list_1","list_1_1","basenamePatterns","aggregate","aggregatedPatterns","hasSiblingPromiseFn","siblingsFn","siblings","hasSiblingFn","parseToAsync","getBasenameTerms","patternOrExpression","getPathTerms","types_1","token_provider_1","delegate","completions","incomplete","wordRangeBeforePos","suggestion","convertCompletionItem","parentId","resolvedItem","newCompletion","defaultRange","filterText","sortText","preselect","commitCharacters","snippetType","overwriteBefore","overwriteAfter","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","Touch","First","Last","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","forEachReverse","crypto_1","net_1","generateRandomPipeName","randomSuffix","randomBytes","createClientPipeTransport","pipeName","connectResolve","connected","_reject","server","createServer","onConnected","createServerPipeTransport","createConnection","createClientSocketTransport","port","createServerSocketTransport","DiagnosticCollection","maxCountPerFile","onDidChangeDiagnosticsEmitter","collectionName","diagnosticsLimitPerResource","onDisposeCallback","ensureNotDisposed","setDiagnosticsForUri","setDiagnostics","fireDiagnosticChangeEvent","sendChangesToEditor","entries_1","entries_1_1","entries_2","entries_2_1","existedDiagnostics","$changeDiagnostics","getAllResourcesUris","$clearDiagnostics","getDiagnosticsByUri","setOnDisposeCallback","resourcesUris","uris","toUrisArray","markers","uriMarkers","uriDiagnostics","this_1","DIAGNOSTICS_PRIORITY","uriDiagnostics_1","uriDiagnostics_1_1","lastMarker","nextUri","uris_1","uris_1_1","diagnosticsChangedEmitter","diagnosticCollections","getAllDiagnisticsForResource","getAllDiagnostics","GENERATED_DIAGNOSTIC_COLLECTION_NAME_PREFIX","getNextId","diagnosticCollection","MAX_DIAGNOSTICS_PER_FILE","urisIndexes","nextIndex","diagnosticsCollection","uriIndex","zeroBasedPosition","documentHighlights","isDocumentHighlightArray","highlights","documentHighlights_1","documentHighlights_1_1","highlight","util_1","locations","definition_1_1","definitionLinks","definition_2","definition_2_1","_isSelection","allDiagnostics","codeActionContext","provideCodeActions","commandsOrActions","commandsOrActions_1","commandsOrActions_1_1","_isCommand","smth","provideDocumentLinks","links","links_1","links_1_1","resolveDocumentLink","lenses","lensSymbol","isResolved","newLens","BAD_CMD","asDocumentSymbolTree","parentStack","parent_1","containsRange","equalsRange","otherRange","reference","reference_1_1","workspaceSymbols","newSymbols","workspaceSymbols_1","workspaceSymbols_1_1","sym","convertedSymbol","theiaSymbol","workspaceSymbol","converted","provideDocumentColors","colors","openLabel","defaultUri","canSelectFiles","canSelectFolders","filters","$showOpenDialog","saveLabel","$showSaveDialog","onCancelEmitter","onCancel","$startProgress","CancellationTokenImpl","ProgressCallback","$stopProgress","$onCancel","$updateProgress","disposableCollection","onCancellationRequestedEmitter","cancelId","$update","oncCancel","treeViews","treeViewId","treeView","TreeViewExtImpl","onDidExpandElement","onDidCollapseElement","selectedElements","reveal","selectionOptions","$getChildren","treeItemId","getChildren","$setExpanded","expanded","onExpanded","onCollapsed","$setSelection","onSelectionChanged","onDidExpandElementEmmiter","onDidCollapseElementEmmiter","idCounter","$registerTreeDataProvider","onDidChangeTreeData","$refresh","el","elementId","generateId","contextValue","cachedElement","treeItems_1","getTreeItem","treeItem","icon","iconPath","treeViewItem","child_process_1","vscode_languageserver_protocol_1","vscode_ws_jsonrpc_1","serverConnections","$registerLanguageServerProvider","$stop","$start","ensureConnection","clientConnection","childProcess","spawnProcess","serverConnection","spawn","InitializeRequest","pid","stdout","stdin","kill","createProtocolConnection","protocol_implementation_1","ImplementationRequest","protocol_typeDefinition_1","TypeDefinitionRequest","protocol_workspaceFolders_1","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","protocol_configuration_1","ConfigurationRequest","protocol_colorProvider_1","DocumentColorRequest","ColorPresentationRequest","protocol_foldingRange_1","FoldingRangeRequest","protocol_declaration_1","DeclarationRequest","DocumentFilter","RegistrationRequest","UnregistrationRequest","ResourceOperationKind","Create","Rename","Delete","FailureHandlingKind","Abort","Transactional","TextOnlyTransactional","Undo","TextDocumentSyncKind","Full","Incremental","InitializeError","unknownProtocolVersion","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","MessageType","Log","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","DidOpenTextDocumentNotification","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidChangeWatchedFilesNotification","Created","Changed","Deleted","WatchKind","Change","PublishDiagnosticsNotification","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","WorkspaceSymbolRequest","CodeActionRequest","CodeLensRequest","CodeLensResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentOnTypeFormattingRequest","RenameRequest","PrepareRenameRequest","DocumentLinkRequest","DocumentLinkResolveRequest","ExecuteCommandRequest","ApplyWorkspaceEditRequest","thenable","reader_1","writer_1","createWebSocketConnection","socket_1","logger_1","toSocket","webSocket","onerror","onclose","onConnection","onopen","connection_1","plugin_message_reader_1","plugin_message_writer_1","connections","$sendMessage","$createConnection","doEnsureConnection","$deleteConnection","doCreateConnection","PluginMessageReader","PluginMessageWriter","idGenerator","webviewPanels","serializers","$onMessage","panel","getWebviewPanel","webview","onMessageEmitter","$onDidChangeWebviewPanelViewState","newState","visible","setActive","setVisible","setViewColumn","onDidChangeViewStateEmitter","webviewPanel","$onDidDisposeWebviewPanel","$deserializeWebviewPanel","WebviewImpl","revivedPanel","WebviewPanelImpl","deserializeWebviewPanel","extensionLocation","webviewShowOptions","$createWebviewPanel","$registerSerializer","$unregisterSerializer","onDidReceiveMessage","checkIsDisposed","$postMessage","$setOptions","_html","newHtml","$setHtml","_viewType","_title","_webview","_visible","onDidDispose","onDidChangeViewState","$disposeWebview","newTitle","$setTitle","$setIconPath","light","dark","task_provider_1","taskExecutions","onDidExecuteTask","$onDidStartTask","getTaskExecution","TaskProviderAdapter","$registerTaskProvider","$provideTasks","provideTasks","$resolveTask","resolveTask","executionId","terminate","$terminateTask","tasks_1_1","hostedServicePath","PluginScanner","PluginDeployer","PluginDeployerResolver","PluginDeployerDirectoryHandler","PluginDeployerFileHandler","PluginDeployerEntryType","MetadataProcessor","buildFrontendModuleName","HostedPluginClient","HostedPluginServer","pluginServerJsonRpcPath","PluginServer","ServerPluginRunner","$getEnvVariable","queryParameters","cloneDeep","lookUp","tree","node","_onDidChangeConfiguration","_preferences","$acceptConfigurationChanged","eventData","toConfigurationChangeEvent","extensionId","toReadonlyValue","clonedConfig_1","cloneOnWriteProxy_1","accessor","clonedTarget","cloneTarget","targ","prop","deleteProperty","descr","$updateConfigurationOption","$removeConfigurationOption","readonlyProxy","isExtensible","preventExtensions","branch","affectsConfiguration","preferenceName","reverse","prevValue","curValue","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","addSetEntry","arrayReduce","iteratee","accumulator","initAccum","isHostObject","mapToArray","overArg","transform","setToArray","uid","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","IE_PROTO","funcToString","objectToString","reIsNative","getPrototype","objectCreate","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeKeys","DataView","getNative","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","baseTimes","skipIndexes","isIndex","assignValue","objValue","eq","assocIndexOf","baseClone","isDeep","isFull","customizer","isArr","initCloneArray","copyArray","tag","getTag","isFunc","cloneBuffer","isPrototype","proto","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","cloneDataView","cloneTypedArray","cloneMap","cloneSet","initCloneByTag","stacked","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","baseIsNative","isFunction","arrayBuffer","getMapData","getValue","pairs","ctorString","isLength","baseKeys","webpackPolyfill","deprecate","debug_1","DebugExtImpl","uuid","plugin_debug_adapter_session_1","plugin_debug_adapter_starter_1","plugin_debug_adapter_executable_resolver_1","sessions","configurationProviders","onDidChangeBreakpointsEmitter","onDidChangeActiveDebugSessionEmitter","onDidTerminateDebugSessionEmitter","onDidStartDebugSessionEmitter","onDidReceiveDebugSessionCustomEmitter","$appendToDebugConsole","$appendLineToDebugConsole","commandRegistryExt","contributions","contribution","$registerDebuggerContribution","$addBreakpoints","$removeBreakpoints","$startDebugging","providers","$onSessionCustomEvent","sessionId","body","session","$sessionDidCreate","$sessionDidDestroy","$sessionDidChange","$breakpointsDidChange","changed","$createDebugSession","debugConfiguration","getExecutable","communicationProvider","startDebugAdapter","v4","debugAdapterSession","PluginDebugAdapterSession","$customRequest","$terminateDebugSession","$getSupportedLanguages","$getSchemaAttributes","configurationAttributes","$getConfigurationSnippets","configurationSnippets","$provideDebugConfigurations","workspaceFolderUri","providers_1","providers_1_1","provideDebugConfigurations","$resolveDebugConfigurations","providers_2","providers_2_1","resolveDebugConfiguration","e_3","adapterExecutableCommand","resolveDebugAdapterExecutable","v1","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","getTime","nsecs","dt","tl","tmh","ii","customRequest","DebugAdapterSessionImpl","seq","handleData","fireExited","onDebugAdapterError","exitCode","CONTENT_LENGTH","TWO_CRLF","stdio","modulePath","fork","debuggerContribution","winx86","windows","osx","linux","program","programArgs","runtime","runtimeArgs"],"mappings":"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","file":"worker-ext.005cdb1d881cebb8f072.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 53);\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* tslint:disable:no-any */\n\nimport { createProxyIdentifier, ProxyIdentifier } from './rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { PluginLifecycle, PluginModel, PluginMetadata, PluginPackage } from '../common/plugin-protocol';\nimport { QueryParameters } from '../common/env';\nimport { TextEditorCursorStyle } from '../common/editor-options';\nimport { TextEditorLineNumbersStyle, EndOfLine, OverviewRulerLane, IndentAction, FileOperationOptions } from '../plugin/types-impl';\nimport { UriComponents } from '../common/uri-components';\nimport { PreferenceChange } from '@theia/core/lib/browser';\nimport { ConfigurationTarget } from '../plugin/types-impl';\nimport {\n    SerializedDocumentFilter,\n    CompletionContext,\n    MarkdownString,\n    Range,\n    Completion,\n    CompletionResultDto,\n    MarkerData,\n    SignatureHelp,\n    Hover,\n    DocumentHighlight,\n    FormattingOptions,\n    SingleEditOperation as ModelSingleEditOperation,\n    Definition,\n    DefinitionLink,\n    DocumentLink,\n    CodeLensSymbol,\n    Command,\n    TextEdit,\n    DocumentSymbol,\n    ReferenceContext,\n    FileWatcherSubscriberOptions,\n    FileChangeEvent,\n    TextDocumentShowOptions,\n    WorkspaceRootsChangeEvent,\n    Location,\n    Breakpoint,\n    ColorPresentation,\n} from './model';\nimport { ExtPluginApi } from '../common/plugin-ext-api-contribution';\nimport { KeysToAnyValues, KeysToKeysToAnyValue } from '../common/types';\nimport { CancellationToken, Progress, ProgressOptions } from '@theia/plugin';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { DebuggerDescription } from '@theia/debug/lib/common/debug-service';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { SymbolInformation } from 'vscode-languageserver-types';\n\nexport interface PluginInitData {\n    plugins: PluginMetadata[];\n    preferences: { [key: string]: any };\n    globalState: KeysToKeysToAnyValue;\n    workspaceState: KeysToKeysToAnyValue;\n    env: EnvInit;\n    extApi?: ExtPluginApi[];\n}\n\nexport interface Plugin {\n    pluginPath: string;\n    pluginFolder: string;\n    model: PluginModel;\n    rawModel: PluginPackage;\n    lifecycle: PluginLifecycle;\n}\n\nexport interface ConfigStorage {\n    hostLogPath: string;\n    hostStoragePath: string,\n}\n\nexport interface EnvInit {\n    queryParams: QueryParameters;\n}\n\nexport interface PluginAPI {\n\n}\n\nexport interface PluginManager {\n    getAllPlugins(): Plugin[];\n    getPluginById(pluginId: string): Plugin | undefined;\n    getPluginExport(pluginId: string): PluginAPI | undefined;\n    isRunning(pluginId: string): boolean;\n    activatePlugin(pluginId: string): PromiseLike<void>;\n}\n\nexport interface PluginAPIFactory {\n    (plugin: Plugin): typeof theia;\n}\n\nexport const emptyPlugin: Plugin = {\n    lifecycle: {\n        startMethod: 'empty',\n        stopMethod: 'empty'\n    },\n    model: {\n        id: 'emptyPlugin',\n        name: 'emptyPlugin',\n        publisher: 'Theia',\n        version: 'empty',\n        displayName: 'empty',\n        description: 'empty',\n        engine: {\n            type: 'empty',\n            version: 'empty'\n        },\n        entryPoint: {\n\n        }\n    },\n    pluginPath: 'empty',\n    pluginFolder: 'empty',\n    rawModel: {\n        name: 'emptyPlugin',\n        publisher: 'Theia',\n        version: 'empty',\n        displayName: 'empty',\n        description: 'empty',\n        engines: {\n            type: 'empty',\n            version: 'empty'\n        },\n        packagePath: 'empty'\n    }\n};\n\nexport interface PluginManagerExt {\n    $stopPlugin(contextPath: string): PromiseLike<void>;\n\n    $init(pluginInit: PluginInitData, configStorage: ConfigStorage): PromiseLike<void>;\n\n    $updateStoragePath(path: string | undefined): PromiseLike<void>;\n}\n\nexport interface CommandRegistryMain {\n    $registerCommand(command: theia.Command): void;\n\n    $unregisterCommand(id: string): void;\n    $executeCommand<T>(id: string, args: any[]): PromiseLike<T | undefined>;\n    $getCommands(): PromiseLike<string[]>;\n}\n\nexport interface CommandRegistryExt {\n    $executeCommand<T>(id: string, ...ars: any[]): PromiseLike<T>;\n}\n\nexport interface TerminalServiceExt {\n    $terminalClosed(id: number): void;\n}\n\nexport interface ConnectionMain {\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>;\n    $sendMessage(id: string, message: string): void;\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>;\n}\n\nexport interface ConnectionExt {\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>\n    $sendMessage(id: string, message: string): void;\n}\n\nexport interface TerminalServiceMain {\n    /**\n     * Create new Terminal with Terminal options.\n     * @param options - object with parameters to create new terminal.\n     */\n    $createTerminal(options: theia.TerminalOptions): PromiseLike<number>;\n\n    /**\n     * Send text to the terminal by id.\n     * @param id - terminal id.\n     * @param text - text content.\n     * @param addNewLine - in case true - add new line after the text, otherwise - don't apply new line.\n     */\n    $sendText(id: number, text: string, addNewLine?: boolean): void;\n\n    /**\n     * Show terminal on the UI panel.\n     * @param id - terminal id.\n     * @param preserveFocus - set terminal focus in case true value, and don't set focus otherwise.\n     */\n    $show(id: number, preserveFocus?: boolean): void;\n\n    /**\n     * Hide UI panel where is located terminal widget.\n     * @param id - terminal id.\n     */\n    $hide(id: number): void;\n\n    /**\n     * Distroy terminal.\n     * @param id - terminal id.\n     */\n    $dispose(id: number): void;\n}\n\nexport interface AutoFocus {\n    autoFocusFirstEntry?: boolean;\n    // TODO\n}\n\nexport interface PickOptions {\n    placeHolder?: string;\n    autoFocus?: AutoFocus;\n    matchOnDescription?: boolean;\n    matchOnDetail?: boolean;\n    ignoreFocusLost?: boolean;\n    quickNavigationConfiguration?: {}; // TODO\n    contextKey?: string;\n    canSelectMany?: boolean;\n}\n\nexport interface PickOpenItem {\n    handle: number;\n    id?: string;\n    label: string;\n    description?: string;\n    detail?: string;\n    picked?: boolean;\n}\n\nexport interface MessageRegistryMain {\n    $showInformationMessage(message: string,\n        optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n        items: string[] | theia.MessageItem[]): PromiseLike<string | theia.MessageItem | undefined>;\n    $showWarningMessage(message: string,\n        optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n        items: string[] | theia.MessageItem[]): PromiseLike<string | theia.MessageItem | undefined>;\n    $showErrorMessage(message: string,\n        optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n        items: string[] | theia.MessageItem[]): PromiseLike<string | theia.MessageItem | undefined>;\n}\n\nexport interface StatusBarMessageRegistryMain {\n    $setMessage(text: string,\n        priority: number,\n        alignment: theia.StatusBarAlignment,\n        color: string | undefined,\n        tooltip: string | undefined,\n        command: string | undefined): PromiseLike<string>;\n    $update(id: string, message: string): void;\n    $dispose(id: string): void;\n}\n\nexport interface QuickOpenExt {\n    $onItemSelected(handle: number): void;\n    $validateInput(input: string): PromiseLike<string | undefined> | undefined;\n}\n\n/**\n * Options to configure the behaviour of a file open dialog.\n */\nexport interface OpenDialogOptionsMain {\n    /**\n     * The resource the dialog shows when opened.\n     */\n    defaultUri?: string;\n\n    /**\n     * A human-readable string for the open button.\n     */\n    openLabel?: string;\n\n    /**\n     * Allow to select files, defaults to `true`.\n     */\n    canSelectFiles?: boolean;\n\n    /**\n     * Allow to select folders, defaults to `false`.\n     */\n    canSelectFolders?: boolean;\n\n    /**\n     * Allow to select many files or folders.\n     */\n    canSelectMany?: boolean;\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     * \t'Images': ['png', 'jpg']\n     * \t'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: { [name: string]: string[] };\n}\n\n/**\n * Options to configure the behaviour of a file save dialog.\n */\nexport interface SaveDialogOptionsMain {\n    /**\n     * The resource the dialog shows when opened.\n     */\n    defaultUri?: string;\n\n    /**\n     * A human-readable string for the save button.\n     */\n    saveLabel?: string;\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     * \t'Images': ['png', 'jpg']\n     * \t'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: { [name: string]: string[] };\n}\n\n/**\n * Options to configure the behaviour of the [workspace folder](#WorkspaceFolder) pick UI.\n */\nexport interface WorkspaceFolderPickOptionsMain {\n    /**\n     * An optional string to show as place holder in the input box to guide the user what to pick on.\n     */\n    placeHolder?: string;\n\n    /**\n     * Set to `true` to keep the picker open when focus moves to another part of the editor or to another window.\n     */\n    ignoreFocusOut?: boolean;\n}\n\nexport interface QuickOpenMain {\n    $show(options: PickOptions): Promise<number | number[]>;\n    $setItems(items: PickOpenItem[]): Promise<any>;\n    $setError(error: Error): Promise<any>;\n    $input(options: theia.InputBoxOptions, validateInput: boolean): Promise<string | undefined>;\n}\n\nexport interface WorkspaceMain {\n    $pickWorkspaceFolder(options: WorkspaceFolderPickOptionsMain): Promise<theia.WorkspaceFolder | undefined>;\n    $startFileSearch(includePattern: string, excludePatternOrDisregardExcludes: string | false,\n        maxResults: number | undefined, token: theia.CancellationToken): PromiseLike<UriComponents[]>;\n    $registerTextDocumentContentProvider(scheme: string): Promise<void>;\n    $unregisterTextDocumentContentProvider(scheme: string): void;\n    $onTextDocumentContentChange(uri: string, content: string): void;\n    $registerFileSystemWatcher(options: FileWatcherSubscriberOptions): Promise<string>;\n    $unregisterFileSystemWatcher(watcherId: string): Promise<void>;\n}\n\nexport interface WorkspaceExt {\n    $onWorkspaceFoldersChanged(event: WorkspaceRootsChangeEvent): void;\n    $provideTextDocumentContent(uri: string): Promise<string | undefined>;\n    $fileChanged(event: FileChangeEvent): void;\n}\n\nexport interface DialogsMain {\n    $showOpenDialog(options: OpenDialogOptionsMain): Promise<string[] | undefined>;\n    $showSaveDialog(options: SaveDialogOptionsMain): Promise<string | undefined>;\n}\n\nexport interface TreeViewsMain {\n    $registerTreeDataProvider(treeViewId: string): void;\n    $refresh(treeViewId: string): void;\n    $reveal(treeViewId: string, treeItemId: string): Promise<any>;\n}\n\nexport interface TreeViewsExt {\n    $getChildren(treeViewId: string, treeItemId: string | undefined): Promise<TreeViewItem[] | undefined>;\n    $setExpanded(treeViewId: string, treeItemId: string, expanded: boolean): Promise<any>;\n    $setSelection(treeViewId: string, treeItemId: string): Promise<any>;\n}\n\nexport class TreeViewItem {\n\n    id: string;\n\n    label: string;\n\n    icon?: string;\n\n    tooltip?: string;\n\n    collapsibleState?: TreeViewItemCollapsibleState;\n\n}\n\n/**\n * Collapsible state of the tree item\n */\nexport enum TreeViewItemCollapsibleState {\n    /**\n     * Determines an item can be neither collapsed nor expanded. Implies it has no children.\n     */\n    None = 0,\n    /**\n     * Determines an item is collapsed\n     */\n    Collapsed = 1,\n    /**\n     * Determines an item is expanded\n     */\n    Expanded = 2\n}\n\nexport interface WindowStateExt {\n    $onWindowStateChanged(focus: boolean): void;\n}\n\nexport interface NotificationExt {\n    withProgress<R>(\n        options: ProgressOptions,\n        task: (progress: Progress<{ message?: string; increment?: number }>, token: CancellationToken) => PromiseLike<R>\n    ): PromiseLike<R>;\n    $onCancel(id: string): void;\n}\n\nexport interface NotificationMain {\n    $startProgress(message: string): Promise<string | undefined>;\n    $stopProgress(id: string): void;\n    $updateProgress(message: string, item: { message?: string, increment?: number }): void;\n}\n\nexport interface StatusBarExt {\n    withProgress<R>(\n        options: ProgressOptions,\n        task: (progress: Progress<{ message?: string; increment?: number }>, token: CancellationToken) => PromiseLike<R>\n    ): PromiseLike<R>;\n}\n\nexport enum EditorPosition {\n    ONE = 0,\n    TWO = 1,\n    THREE = 2\n}\n\nexport interface Position {\n    readonly lineNumber: number;\n    readonly column: number;\n}\n\nexport interface Selection {\n    /**\n     * The line number on which the selection has started.\n     */\n    readonly selectionStartLineNumber: number;\n    /**\n     * The column on `selectionStartLineNumber` where the selection has started.\n     */\n    readonly selectionStartColumn: number;\n    /**\n     * The line number on which the selection has ended.\n     */\n    readonly positionLineNumber: number;\n    /**\n     * The column on `positionLineNumber` where the selection has ended.\n     */\n    readonly positionColumn: number;\n}\n\nexport interface TextEditorConfiguration {\n    tabSize: number;\n    insertSpaces: boolean;\n    cursorStyle: TextEditorCursorStyle;\n    lineNumbers: TextEditorLineNumbersStyle;\n}\n\nexport interface TextEditorConfigurationUpdate {\n    tabSize?: number | 'auto';\n    insertSpaces?: boolean | 'auto';\n    cursorStyle?: TextEditorCursorStyle;\n    lineNumbers?: TextEditorLineNumbersStyle;\n}\n\nexport enum TextEditorRevealType {\n    Default = 0,\n    InCenter = 1,\n    InCenterIfOutsideViewport = 2,\n    AtTop = 3\n}\n\nexport interface SelectionChangeEvent {\n    selections: Selection[];\n    source?: string;\n}\n\nexport interface EditorChangedPropertiesData {\n    options?: TextEditorConfiguration;\n    selections?: SelectionChangeEvent;\n    visibleRanges?: Range[];\n}\n\nexport interface TextEditorPositionData {\n    [id: string]: EditorPosition;\n}\n\nexport interface TextEditorsExt {\n    $acceptEditorPropertiesChanged(id: string, props: EditorChangedPropertiesData): void;\n    $acceptEditorPositionData(data: TextEditorPositionData): void;\n}\n\nexport interface SingleEditOperation {\n    range: Range;\n    text?: string;\n    forceMoveMarkers?: boolean;\n}\n\nexport interface UndoStopOptions {\n    undoStopBefore: boolean;\n    undoStopAfter: boolean;\n}\n\nexport interface ApplyEditsOptions extends UndoStopOptions {\n    setEndOfLine: EndOfLine;\n}\n\nexport interface ThemeColor {\n    id: string;\n}\n\n/**\n * Describes the behavior of decorations when typing/editing near their edges.\n */\nexport enum TrackedRangeStickiness {\n    AlwaysGrowsWhenTypingAtEdges = 0,\n    NeverGrowsWhenTypingAtEdges = 1,\n    GrowsOnlyWhenTypingBefore = 2,\n    GrowsOnlyWhenTypingAfter = 3,\n}\nexport interface ContentDecorationRenderOptions {\n    contentText?: string;\n    contentIconPath?: string | UriComponents;\n\n    border?: string;\n    borderColor?: string | ThemeColor;\n    fontStyle?: string;\n    fontWeight?: string;\n    textDecoration?: string;\n    color?: string | ThemeColor;\n    backgroundColor?: string | ThemeColor;\n\n    margin?: string;\n    width?: string;\n    height?: string;\n}\n\nexport interface ThemeDecorationRenderOptions {\n    backgroundColor?: string | ThemeColor;\n\n    outline?: string;\n    outlineColor?: string | ThemeColor;\n    outlineStyle?: string;\n    outlineWidth?: string;\n\n    border?: string;\n    borderColor?: string | ThemeColor;\n    borderRadius?: string;\n    borderSpacing?: string;\n    borderStyle?: string;\n    borderWidth?: string;\n\n    fontStyle?: string;\n    fontWeight?: string;\n    textDecoration?: string;\n    cursor?: string;\n    color?: string | ThemeColor;\n    opacity?: number;\n    letterSpacing?: string;\n\n    gutterIconPath?: string | UriComponents;\n    gutterIconSize?: string;\n\n    overviewRulerColor?: string | ThemeColor;\n\n    before?: ContentDecorationRenderOptions;\n    after?: ContentDecorationRenderOptions;\n}\n\nexport interface DecorationRenderOptions extends ThemeDecorationRenderOptions {\n    isWholeLine?: boolean;\n    rangeBehavior?: TrackedRangeStickiness;\n    overviewRulerLane?: OverviewRulerLane;\n\n    light?: ThemeDecorationRenderOptions;\n    dark?: ThemeDecorationRenderOptions;\n}\n\nexport interface ThemeDecorationInstanceRenderOptions {\n    before?: ContentDecorationRenderOptions;\n    after?: ContentDecorationRenderOptions;\n}\n\nexport interface DecorationInstanceRenderOptions extends ThemeDecorationInstanceRenderOptions {\n    light?: ThemeDecorationInstanceRenderOptions;\n    dark?: ThemeDecorationInstanceRenderOptions;\n}\n\nexport interface DecorationOptions {\n    range: Range;\n    hoverMessage?: MarkdownString | MarkdownString[];\n    renderOptions?: DecorationInstanceRenderOptions;\n}\n\nexport interface TextEditorsMain {\n    // $tryShowTextDocument(resource: UriComponents, options: TextDocumentShowOptions): Promise<string>;\n    $registerTextEditorDecorationType(key: string, options: DecorationRenderOptions): void;\n    $removeTextEditorDecorationType(key: string): void;\n    // $tryShowEditor(id: string, position: EditorPosition): Promise<void>;\n    // $tryHideEditor(id: string): Promise<void>;\n    $trySetOptions(id: string, options: TextEditorConfigurationUpdate): Promise<void>;\n    $trySetDecorations(id: string, key: string, ranges: DecorationOptions[]): Promise<void>;\n    $trySetDecorationsFast(id: string, key: string, ranges: number[]): Promise<void>;\n    $tryRevealRange(id: string, range: Range, revealType: TextEditorRevealType): Promise<void>;\n    $trySetSelections(id: string, selections: Selection[]): Promise<void>;\n    $tryApplyEdits(id: string, modelVersionId: number, edits: SingleEditOperation[], opts: ApplyEditsOptions): Promise<boolean>;\n    // $tryApplyWorkspaceEdit(workspaceEditDto: WorkspaceEditDto): Promise<boolean>;\n    $tryInsertSnippet(id: string, template: string, selections: Range[], opts: UndoStopOptions): Promise<boolean>;\n    // $getDiffInformation(id: string): Promise<editorCommon.ILineChange[]>;\n}\n\nexport interface ModelAddedData {\n    uri: UriComponents;\n    versionId: number;\n    lines: string[];\n    EOL: string;\n    modeId: string;\n    isDirty: boolean;\n}\n\nexport interface TextEditorAddData {\n    id: string;\n    documentUri: UriComponents;\n    options: TextEditorConfiguration;\n    selections: Selection[];\n    visibleRanges: Range[];\n    editorPosition?: EditorPosition;\n}\n\nexport interface EditorsAndDocumentsDelta {\n    removedDocuments?: UriComponents[];\n    addedDocuments?: ModelAddedData[];\n    removedEditors?: string[];\n    addedEditors?: TextEditorAddData[];\n    newActiveEditor?: string;\n}\n\nexport interface EditorsAndDocumentsExt {\n    $acceptEditorsAndDocumentsDelta(delta: EditorsAndDocumentsDelta): void;\n}\n\nexport interface ModelContentChange {\n    readonly range: Range;\n    readonly rangeOffset: number;\n    readonly rangeLength: number;\n    readonly text: string;\n}\nexport interface ModelChangedEvent {\n    readonly changes: ModelContentChange[];\n\n    readonly eol: string;\n\n    readonly versionId: number;\n}\n\nexport interface DocumentsExt {\n    $acceptModelModeChanged(startUrl: UriComponents, oldModeId: string, newModeId: string): void;\n    $acceptModelSaved(strUrl: UriComponents): void;\n    $acceptDirtyStateChanged(strUrl: UriComponents, isDirty: boolean): void;\n    $acceptModelChanged(strUrl: UriComponents, e: ModelChangedEvent, isDirty: boolean): void;\n}\n\nexport interface DocumentsMain {\n    $tryCreateDocument(options?: { language?: string; content?: string; }): Promise<UriComponents>;\n    $tryOpenDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void>;\n    $trySaveDocument(uri: UriComponents): Promise<boolean>;\n}\n\nexport interface EnvMain {\n    $getEnvVariable(envVarName: string): Promise<string | undefined>;\n}\n\nexport interface PreferenceRegistryMain {\n    $updateConfigurationOption(\n        target: boolean | ConfigurationTarget | undefined,\n        key: string,\n        value: any,\n        resource: any | undefined\n    ): PromiseLike<void>;\n    $removeConfigurationOption(\n        target: boolean | ConfigurationTarget | undefined,\n        key: string,\n        resource: any | undefined\n    ): PromiseLike<void>;\n}\nexport interface PreferenceRegistryExt {\n    $acceptConfigurationChanged(data: { [key: string]: any }, eventData: PreferenceChange): void;\n}\n\nexport interface OutputChannelRegistryMain {\n    $append(channelName: string, value: string): PromiseLike<void>;\n    $clear(channelName: string): PromiseLike<void>;\n    $dispose(channelName: string): PromiseLike<void>;\n    $reveal(channelName: string, preserveFocus: boolean): PromiseLike<void>;\n    $close(channelName: string): PromiseLike<void>;\n}\n\nexport type CharacterPair = [string, string];\n\nexport interface CommentRule {\n    lineComment?: string;\n    blockComment?: CharacterPair;\n}\n\nexport interface SerializedRegExp {\n    pattern: string;\n    flags?: string;\n}\n\nexport interface SerializedIndentationRule {\n    decreaseIndentPattern?: SerializedRegExp;\n    increaseIndentPattern?: SerializedRegExp;\n    indentNextLinePattern?: SerializedRegExp;\n    unIndentedLinePattern?: SerializedRegExp;\n}\n\nexport interface EnterAction {\n    indentAction: IndentAction;\n    outdentCurrentLine?: boolean;\n    appendText?: string;\n    removeText?: number;\n}\n\nexport interface SerializedOnEnterRule {\n    beforeText: SerializedRegExp;\n    afterText?: SerializedRegExp;\n    action: EnterAction;\n}\n\nexport interface SerializedLanguageConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    wordPattern?: SerializedRegExp;\n    indentationRules?: SerializedIndentationRule;\n    onEnterRules?: SerializedOnEnterRule[];\n}\n\nexport interface CodeActionDto {\n    title: string;\n    edit?: WorkspaceEditDto;\n    diagnostics?: MarkerData[];\n    command?: Command;\n    kind?: string;\n}\n\nexport interface ResourceFileEditDto {\n    oldUri: UriComponents;\n    newUri: UriComponents;\n    options: FileOperationOptions;\n}\n\nexport interface ResourceTextEditDto {\n    resource: UriComponents;\n    modelVersionId?: number;\n    edits: TextEdit[];\n}\n\nexport interface WorkspaceEditDto {\n    edits: (ResourceFileEditDto | ResourceTextEditDto)[];\n    rejectReason?: string;\n}\n\nexport interface LanguagesContributionExt {\n    $start(languageServerInfo: theia.LanguageServerInfo): void;\n}\n\nexport interface LanguagesContributionMain {\n    $registerLanguageServerProvider(languageServerInfo: theia.LanguageServerInfo): void\n    $stop(id: string): void\n}\n\nexport interface CommandProperties {\n    command: string;\n    args?: string[];\n    options?: { [key: string]: any };\n}\n\nexport interface TaskDto {\n    type: string;\n    label: string;\n    // tslint:disable-next-line:no-any\n    properties?: { [key: string]: any };\n}\n\nexport interface TaskExecutionDto {\n    id: number;\n    task: TaskDto;\n}\n\nexport interface ProcessTaskDto extends TaskDto, CommandProperties {\n    windows?: CommandProperties;\n    cwd?: string;\n}\n\nexport interface LanguagesExt {\n    $provideCompletionItems(handle: number, resource: UriComponents, position: Position, context: CompletionContext): Promise<CompletionResultDto | undefined>;\n    $resolveCompletionItem(handle: number, resource: UriComponents, position: Position, completion: Completion): Promise<Completion>;\n    $releaseCompletionItems(handle: number, id: number): void;\n    $provideImplementation(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined>;\n    $provideTypeDefinition(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined>;\n    $provideDefinition(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined>;\n    $provideReferences(handle: number, resource: UriComponents, position: Position, context: ReferenceContext): Promise<Location[] | undefined>;\n    $provideSignatureHelp(handle: number, resource: UriComponents, position: Position): Promise<SignatureHelp | undefined>;\n    $provideHover(handle: number, resource: UriComponents, position: Position): Promise<Hover | undefined>;\n    $provideDocumentHighlights(handle: number, resource: UriComponents, position: Position): Promise<DocumentHighlight[] | undefined>;\n    $provideDocumentFormattingEdits(handle: number, resource: UriComponents, options: FormattingOptions): Promise<ModelSingleEditOperation[] | undefined>;\n    $provideDocumentRangeFormattingEdits(handle: number, resource: UriComponents, range: Range, options: FormattingOptions): Promise<ModelSingleEditOperation[] | undefined>;\n    $provideOnTypeFormattingEdits(\n        handle: number,\n        resource: UriComponents,\n        position: Position,\n        ch: string,\n        options: FormattingOptions\n    ): Promise<ModelSingleEditOperation[] | undefined>;\n    $provideDocumentLinks(handle: number, resource: UriComponents): Promise<DocumentLink[] | undefined>;\n    $resolveDocumentLink(handle: number, link: DocumentLink): Promise<DocumentLink | undefined>;\n    $provideCodeLenses(handle: number, resource: UriComponents): Promise<CodeLensSymbol[] | undefined>;\n    $resolveCodeLens(handle: number, resource: UriComponents, symbol: CodeLensSymbol): Promise<CodeLensSymbol | undefined>;\n    $provideCodeActions(\n        handle: number,\n        resource: UriComponents,\n        rangeOrSelection: Range | Selection,\n        context: monaco.languages.CodeActionContext\n    ): Promise<monaco.languages.CodeAction[]>;\n    $provideDocumentSymbols(handle: number, resource: UriComponents): Promise<DocumentSymbol[] | undefined>;\n    $provideWorkspaceSymbols(handle: number, query: string): PromiseLike<SymbolInformation[]>;\n    $resolveWorkspaceSymbol(handle: number, symbol: SymbolInformation): PromiseLike<SymbolInformation>;\n    $provideFoldingRange(\n        handle: number,\n        resource: UriComponents,\n        context: monaco.languages.FoldingContext\n    ): PromiseLike<monaco.languages.FoldingRange[] | undefined>;\n    $provideDocumentColors(handle: number, resource: UriComponents): PromiseLike<RawColorInfo[]>;\n    $provideColorPresentations(handle: number, resource: UriComponents, colorInfo: RawColorInfo): PromiseLike<ColorPresentation[]>;\n}\n\nexport interface LanguagesMain {\n    $getLanguages(): Promise<string[]>;\n    $setLanguageConfiguration(handle: number, languageId: string, configuration: SerializedLanguageConfiguration): void;\n    $unregister(handle: number): void;\n    $registerCompletionSupport(handle: number, selector: SerializedDocumentFilter[], triggerCharacters: string[], supportsResolveDetails: boolean): void;\n    $registerImplementationProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerTypeDefinitionProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerDefinitionProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registeReferenceProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerSignatureHelpProvider(handle: number, selector: SerializedDocumentFilter[], triggerCharacters: string[]): void;\n    $registerHoverProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerDocumentHighlightProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerQuickFixProvider(handle: number, selector: SerializedDocumentFilter[], codeActionKinds?: string[]): void;\n    $clearDiagnostics(id: string): void;\n    $changeDiagnostics(id: string, delta: [UriComponents, MarkerData[]][]): void;\n    $registerDocumentFormattingSupport(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerRangeFormattingProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerOnTypeFormattingProvider(handle: number, selector: SerializedDocumentFilter[], autoFormatTriggerCharacters: string[]): void;\n    $registerDocumentLinkProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerCodeLensSupport(handle: number, selector: SerializedDocumentFilter[], eventHandle?: number): void;\n    $emitCodeLensEvent(eventHandle: number, event?: any): void;\n    $registerOutlineSupport(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerWorkspaceSymbolProvider(handle: number): void;\n    $registerFoldingRangeProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n    $registerDocumentColorProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n}\n\nexport interface WebviewPanelViewState {\n    readonly active: boolean;\n    readonly visible: boolean;\n    readonly position: number;\n}\n\nexport interface WebviewPanelShowOptions {\n    readonly viewColumn?: number;\n    readonly preserveFocus?: boolean;\n}\n\nexport interface WebviewsExt {\n    $onMessage(handle: string, message: any): void;\n    $onDidChangeWebviewPanelViewState(handle: string, newState: WebviewPanelViewState): void;\n    $onDidDisposeWebviewPanel(handle: string): PromiseLike<void>;\n    $deserializeWebviewPanel(newWebviewHandle: string,\n        viewType: string,\n        title: string,\n        state: any,\n        position: number,\n        options: theia.WebviewOptions & theia.WebviewPanelOptions): PromiseLike<void>;\n}\n\nexport interface WebviewsMain {\n    $createWebviewPanel(handle: string,\n        viewType: string,\n        title: string,\n        showOptions: WebviewPanelShowOptions,\n        options: theia.WebviewPanelOptions & theia.WebviewOptions | undefined,\n        pluginLocation: UriComponents): void;\n    $disposeWebview(handle: string): void;\n    $reveal(handle: string, showOptions: WebviewPanelShowOptions): void;\n    $setTitle(handle: string, value: string): void;\n    $setIconPath(handle: string, value: { light: string, dark: string } | string | undefined): void;\n    $setHtml(handle: string, value: string): void;\n    $setOptions(handle: string, options: theia.WebviewOptions): void;\n    $postMessage(handle: string, value: any): Thenable<boolean>;\n\n    $registerSerializer(viewType: string): void;\n    $unregisterSerializer(viewType: string): void;\n}\n\nexport interface StorageMain {\n    $set(key: string, value: KeysToAnyValues, isGlobal: boolean): Promise<boolean>;\n    $get(key: string, isGlobal: boolean): Promise<KeysToAnyValues>;\n    $getAll(isGlobal: boolean): Promise<KeysToKeysToAnyValue>;\n}\n\nexport interface StorageExt {\n    $updatePluginsWorkspaceData(data: KeysToKeysToAnyValue): void;\n}\n\nexport interface DebugExt {\n    $onSessionCustomEvent(sessionId: string, event: string, body?: any): void;\n    $breakpointsDidChange(all: Breakpoint[], added: Breakpoint[], removed: Breakpoint[], changed: Breakpoint[]): void;\n    $sessionDidCreate(sessionId: string): void;\n    $sessionDidDestroy(sessionId: string): void;\n    $sessionDidChange(sessionId: string | undefined): void;\n    $provideDebugConfigurations(debugType: string, workspaceFolder: string | undefined): Promise<theia.DebugConfiguration[]>;\n    $resolveDebugConfigurations(debugConfiguration: theia.DebugConfiguration, workspaceFolder: string | undefined): Promise<theia.DebugConfiguration | undefined>;\n    $getSupportedLanguages(debugType: string): Promise<string[]>;\n    $getSchemaAttributes(debugType: string): Promise<IJSONSchema[]>;\n    $getConfigurationSnippets(debugType: string): Promise<IJSONSchemaSnippet[]>;\n    $createDebugSession(debugConfiguration: theia.DebugConfiguration): Promise<string>;\n    $terminateDebugSession(sessionId: string): Promise<void>;\n}\n\nexport interface DebugMain {\n    $appendToDebugConsole(value: string): Promise<void>;\n    $appendLineToDebugConsole(value: string): Promise<void>;\n    $registerDebuggerContribution(description: DebuggerDescription): Promise<void>;\n    $unregisterDebuggerConfiguration(debugType: string): Promise<void>;\n    $addBreakpoints(breakpoints: Breakpoint[]): Promise<void>;\n    $removeBreakpoints(breakpoints: Breakpoint[]): Promise<void>;\n    $startDebugging(folder: theia.WorkspaceFolder | undefined, nameOrConfiguration: string | theia.DebugConfiguration): Promise<boolean>;\n    $customRequest(command: string, args?: any): Promise<DebugProtocol.Response>;\n}\n\nexport const PLUGIN_RPC_CONTEXT = {\n    COMMAND_REGISTRY_MAIN: <ProxyIdentifier<CommandRegistryMain>>createProxyIdentifier<CommandRegistryMain>('CommandRegistryMain'),\n    QUICK_OPEN_MAIN: createProxyIdentifier<QuickOpenMain>('QuickOpenMain'),\n    DIALOGS_MAIN: createProxyIdentifier<DialogsMain>('DialogsMain'),\n    WORKSPACE_MAIN: createProxyIdentifier<WorkspaceMain>('WorkspaceMain'),\n    MESSAGE_REGISTRY_MAIN: <ProxyIdentifier<MessageRegistryMain>>createProxyIdentifier<MessageRegistryMain>('MessageRegistryMain'),\n    TEXT_EDITORS_MAIN: createProxyIdentifier<TextEditorsMain>('TextEditorsMain'),\n    DOCUMENTS_MAIN: createProxyIdentifier<DocumentsMain>('DocumentsMain'),\n    STATUS_BAR_MESSAGE_REGISTRY_MAIN: <ProxyIdentifier<StatusBarMessageRegistryMain>>createProxyIdentifier<StatusBarMessageRegistryMain>('StatusBarMessageRegistryMain'),\n    ENV_MAIN: createProxyIdentifier<EnvMain>('EnvMain'),\n    NOTIFICATION_MAIN: createProxyIdentifier<NotificationMain>('NotificationMain'),\n    TERMINAL_MAIN: createProxyIdentifier<TerminalServiceMain>('TerminalServiceMain'),\n    TREE_VIEWS_MAIN: createProxyIdentifier<TreeViewsMain>('TreeViewsMain'),\n    PREFERENCE_REGISTRY_MAIN: createProxyIdentifier<PreferenceRegistryMain>('PreferenceRegistryMain'),\n    OUTPUT_CHANNEL_REGISTRY_MAIN: <ProxyIdentifier<OutputChannelRegistryMain>>createProxyIdentifier<OutputChannelRegistryMain>('OutputChannelRegistryMain'),\n    LANGUAGES_MAIN: createProxyIdentifier<LanguagesMain>('LanguagesMain'),\n    CONNECTION_MAIN: createProxyIdentifier<ConnectionMain>('ConnectionMain'),\n    WEBVIEWS_MAIN: createProxyIdentifier<WebviewsMain>('WebviewsMain'),\n    STORAGE_MAIN: createProxyIdentifier<StorageMain>('StorageMain'),\n    TASKS_MAIN: createProxyIdentifier<TasksMain>('TasksMain'),\n    LANGUAGES_CONTRIBUTION_MAIN: createProxyIdentifier<LanguagesContributionMain>('LanguagesContributionMain'),\n    DEBUG_MAIN: createProxyIdentifier<DebugMain>('DebugMain')\n};\n\nexport const MAIN_RPC_CONTEXT = {\n    HOSTED_PLUGIN_MANAGER_EXT: createProxyIdentifier<PluginManagerExt>('PluginManagerExt'),\n    COMMAND_REGISTRY_EXT: createProxyIdentifier<CommandRegistryExt>('CommandRegistryExt'),\n    QUICK_OPEN_EXT: createProxyIdentifier<QuickOpenExt>('QuickOpenExt'),\n    WINDOW_STATE_EXT: createProxyIdentifier<WindowStateExt>('WindowStateExt'),\n    NOTIFICATION_EXT: createProxyIdentifier<NotificationExt>('NotificationExt'),\n    WORKSPACE_EXT: createProxyIdentifier<WorkspaceExt>('WorkspaceExt'),\n    TEXT_EDITORS_EXT: createProxyIdentifier<TextEditorsExt>('TextEditorsExt'),\n    EDITORS_AND_DOCUMENTS_EXT: createProxyIdentifier<EditorsAndDocumentsExt>('EditorsAndDocumentsExt'),\n    DOCUMENTS_EXT: createProxyIdentifier<DocumentsExt>('DocumentsExt'),\n    TERMINAL_EXT: createProxyIdentifier<TerminalServiceExt>('TerminalServiceExt'),\n    TREE_VIEWS_EXT: createProxyIdentifier<TreeViewsExt>('TreeViewsExt'),\n    PREFERENCE_REGISTRY_EXT: createProxyIdentifier<PreferenceRegistryExt>('PreferenceRegistryExt'),\n    LANGUAGES_EXT: createProxyIdentifier<LanguagesExt>('LanguagesExt'),\n    CONNECTION_EXT: createProxyIdentifier<ConnectionExt>('ConnectionExt'),\n    WEBVIEWS_EXT: createProxyIdentifier<WebviewsExt>('WebviewsExt'),\n    STORAGE_EXT: createProxyIdentifier<StorageExt>('StorageExt'),\n    TASKS_EXT: createProxyIdentifier<TasksExt>('TasksExt'),\n    LANGUAGES_CONTRIBUTION_EXT: createProxyIdentifier<LanguagesContributionExt>('LanguagesContributionExt'),\n    DEBUG_EXT: createProxyIdentifier<DebugExt>('DebugExt')\n};\n\nexport interface TasksExt {\n    $provideTasks(handle: number): Promise<TaskDto[] | undefined>;\n    $resolveTask(handle: number, task: TaskDto): Promise<TaskDto | undefined>;\n    $onDidStartTask(execution: TaskExecutionDto): void;\n}\n\nexport interface TasksMain {\n    $registerTaskProvider(handle: number, type: string): void;\n    $unregister(handle: number): void;\n    $terminateTask(id: number): void;\n}\n\nexport interface RawColorInfo {\n    color: [number, number, number, number];\n    range: Range;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { EditorPosition, Selection, Position, DecorationOptions, WorkspaceEditDto, ResourceTextEditDto, ResourceFileEditDto, TaskDto, ProcessTaskDto } from '../api/plugin-api';\nimport * as model from '../api/model';\nimport * as theia from '@theia/plugin';\nimport * as types from './types-impl';\nimport { LanguageSelector, LanguageFilter, RelativePattern } from './languages';\nimport { isMarkdownString } from './markdown-string';\nimport URI from 'vscode-uri';\n\nconst SIDE_GROUP = -2;\nconst ACTIVE_GROUP = -1;\nimport { SymbolInformation, Range as R, Position as P, SymbolKind as S } from 'vscode-languageserver-types';\n\nexport function toViewColumn(ep?: EditorPosition): theia.ViewColumn | undefined {\n    if (typeof ep !== 'number') {\n        return undefined;\n    }\n\n    if (ep === EditorPosition.ONE) {\n        return <number>types.ViewColumn.One;\n    } else if (ep === EditorPosition.TWO) {\n        return <number>types.ViewColumn.Two;\n    } else if (ep === EditorPosition.THREE) {\n        return <number>types.ViewColumn.Three;\n    }\n\n    return undefined;\n}\n\nexport function fromViewColumn(column?: theia.ViewColumn): number {\n    if (typeof column === 'number' && column >= types.ViewColumn.One) {\n        return column - 1;\n    }\n\n    if (column! === <number>types.ViewColumn.Beside) {\n        return SIDE_GROUP;\n    }\n\n    return ACTIVE_GROUP;\n}\n\nexport function toSelection(selection: Selection): types.Selection {\n    const { selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn } = selection;\n    const start = new types.Position(selectionStartLineNumber - 1, selectionStartColumn - 1);\n    const end = new types.Position(positionLineNumber - 1, positionColumn - 1);\n    return new types.Selection(start, end);\n}\n\nexport function fromSelection(selection: types.Selection): Selection {\n    const { active, anchor } = selection;\n    return {\n        selectionStartLineNumber: anchor.line + 1,\n        selectionStartColumn: anchor.character + 1,\n        positionLineNumber: active.line + 1,\n        positionColumn: active.character + 1\n    };\n}\n\nexport function toRange(range: model.Range): types.Range {\n    // if (!range) {\n    //     return undefined;\n    // }\n\n    const { startLineNumber, startColumn, endLineNumber, endColumn } = range;\n    return new types.Range(startLineNumber - 1, startColumn - 1, endLineNumber - 1, endColumn - 1);\n}\n\nexport function fromRange(range: theia.Range | undefined): model.Range | undefined {\n    if (!range) {\n        return undefined;\n    }\n    const { start, end } = range;\n    return {\n        startLineNumber: start.line + 1,\n        startColumn: start.character + 1,\n        endLineNumber: end.line + 1,\n        endColumn: end.character + 1\n    };\n}\n\nexport function fromPosition(position: types.Position): Position {\n    return { lineNumber: position.line + 1, column: position.character + 1 };\n}\n\nexport function toPosition(position: Position): types.Position {\n    return new types.Position(position.lineNumber - 1, position.column - 1);\n}\n\n// tslint:disable-next-line:no-any\nfunction isDecorationOptions(something: any): something is theia.DecorationOptions {\n    return (typeof something.range !== 'undefined');\n}\n\nexport function isDecorationOptionsArr(something: theia.Range[] | theia.DecorationOptions[]): something is theia.DecorationOptions[] {\n    if (something.length === 0) {\n        return true;\n    }\n    return isDecorationOptions(something[0]) ? true : false;\n}\n\nexport function fromRangeOrRangeWithMessage(ranges: theia.Range[] | theia.DecorationOptions[]): DecorationOptions[] {\n\n    if (isDecorationOptionsArr(ranges)) {\n        return ranges.map(r => {\n            let hoverMessage;\n            if (Array.isArray(r.hoverMessage)) {\n                hoverMessage = fromManyMarkdown(r.hoverMessage);\n            } else if (r.hoverMessage) {\n                hoverMessage = fromMarkdown(r.hoverMessage);\n            } else {\n                hoverMessage = undefined;\n            }\n            return {\n                range: fromRange(r.range)!,\n                hoverMessage: hoverMessage,\n                // tslint:disable-next-line:no-any\n                renderOptions: <any> /* URI vs Uri */r.renderOptions\n            };\n        });\n    } else {\n        return ranges.map((r): DecorationOptions =>\n            ({\n                range: fromRange(r)!\n            }));\n    }\n}\n\nexport function fromManyMarkdown(markup: (theia.MarkdownString | theia.MarkedString)[]): model.MarkdownString[] {\n    return markup.map(fromMarkdown);\n}\n\ninterface Codeblock {\n    language: string;\n    value: string;\n}\n\n// tslint:disable-next-line:no-any\nfunction isCodeblock(thing: any): thing is Codeblock {\n    return thing && typeof thing === 'object'\n        && typeof (<Codeblock>thing).language === 'string'\n        && typeof (<Codeblock>thing).value === 'string';\n}\n\nexport function fromMarkdown(markup: theia.MarkdownString | theia.MarkedString): model.MarkdownString {\n    if (isCodeblock(markup)) {\n        const { language, value } = markup;\n        return { value: '```' + language + '\\n' + value + '\\n```\\n' };\n    } else if (isMarkdownString(markup)) {\n        return markup;\n    } else if (typeof markup === 'string') {\n        return { value: <string>markup };\n    } else {\n        return { value: '' };\n    }\n}\n\nexport function fromDocumentSelector(selector: theia.DocumentSelector | undefined): LanguageSelector | undefined {\n    if (!selector) {\n        return undefined;\n    } else if (Array.isArray(selector)) {\n        return <LanguageSelector>selector.map(fromDocumentSelector);\n    } else if (typeof selector === 'string') {\n        return selector;\n    } else {\n        return {\n            language: selector.language,\n            scheme: selector.scheme,\n            pattern: fromGlobPattern(selector.pattern!)\n        } as LanguageFilter;\n    }\n\n}\n\nexport function fromGlobPattern(pattern: theia.GlobPattern): string | RelativePattern {\n    if (typeof pattern === 'string') {\n        return pattern;\n    }\n\n    if (isRelativePattern(pattern)) {\n        return new types.RelativePattern(pattern.base, pattern.pattern);\n    }\n\n    return pattern;\n}\n\nfunction isRelativePattern(obj: {}): obj is theia.RelativePattern {\n    const rp = obj as theia.RelativePattern;\n    return rp && typeof rp.base === 'string' && typeof rp.pattern === 'string';\n}\n\nexport function fromCompletionItemKind(kind?: types.CompletionItemKind): model.CompletionType {\n    switch (kind) {\n        case types.CompletionItemKind.Method: return 'method';\n        case types.CompletionItemKind.Function: return 'function';\n        case types.CompletionItemKind.Constructor: return 'constructor';\n        case types.CompletionItemKind.Field: return 'field';\n        case types.CompletionItemKind.Variable: return 'variable';\n        case types.CompletionItemKind.Class: return 'class';\n        case types.CompletionItemKind.Interface: return 'interface';\n        case types.CompletionItemKind.Struct: return 'struct';\n        case types.CompletionItemKind.Module: return 'module';\n        case types.CompletionItemKind.Property: return 'property';\n        case types.CompletionItemKind.Unit: return 'unit';\n        case types.CompletionItemKind.Value: return 'value';\n        case types.CompletionItemKind.Constant: return 'constant';\n        case types.CompletionItemKind.Enum: return 'enum';\n        case types.CompletionItemKind.EnumMember: return 'enum-member';\n        case types.CompletionItemKind.Keyword: return 'keyword';\n        case types.CompletionItemKind.Snippet: return 'snippet';\n        case types.CompletionItemKind.Text: return 'text';\n        case types.CompletionItemKind.Color: return 'color';\n        case types.CompletionItemKind.File: return 'file';\n        case types.CompletionItemKind.Reference: return 'reference';\n        case types.CompletionItemKind.Folder: return 'folder';\n        case types.CompletionItemKind.Event: return 'event';\n        case types.CompletionItemKind.Operator: return 'operator';\n        case types.CompletionItemKind.TypeParameter: return 'type-parameter';\n    }\n    return 'property';\n}\n\nexport function toCompletionItemKind(type?: model.CompletionType): types.CompletionItemKind {\n    if (type) {\n        switch (type) {\n            case 'method': return types.CompletionItemKind.Method;\n            case 'function': return types.CompletionItemKind.Function;\n            case 'constructor': return types.CompletionItemKind.Constructor;\n            case 'field': return types.CompletionItemKind.Field;\n            case 'variable': return types.CompletionItemKind.Variable;\n            case 'class': return types.CompletionItemKind.Class;\n            case 'interface': return types.CompletionItemKind.Interface;\n            case 'struct': return types.CompletionItemKind.Struct;\n            case 'module': return types.CompletionItemKind.Module;\n            case 'property': return types.CompletionItemKind.Property;\n            case 'unit': return types.CompletionItemKind.Unit;\n            case 'value': return types.CompletionItemKind.Value;\n            case 'constant': return types.CompletionItemKind.Constant;\n            case 'enum': return types.CompletionItemKind.Enum;\n            case 'enum-member': return types.CompletionItemKind.EnumMember;\n            case 'keyword': return types.CompletionItemKind.Keyword;\n            case 'snippet': return types.CompletionItemKind.Snippet;\n            case 'text': return types.CompletionItemKind.Text;\n            case 'color': return types.CompletionItemKind.Color;\n            case 'file': return types.CompletionItemKind.File;\n            case 'reference': return types.CompletionItemKind.Reference;\n            case 'folder': return types.CompletionItemKind.Folder;\n            case 'event': return types.CompletionItemKind.Event;\n            case 'operator': return types.CompletionItemKind.Operator;\n            case 'type-parameter': return types.CompletionItemKind.TypeParameter;\n        }\n    }\n    return types.CompletionItemKind.Property;\n}\n\nexport function fromTextEdit(edit: theia.TextEdit): model.SingleEditOperation {\n    return <model.SingleEditOperation>{\n        text: edit.newText,\n        range: fromRange(edit.range)\n    };\n}\n\nexport function fromLanguageSelector(selector: theia.DocumentSelector): LanguageSelector | undefined {\n    if (!selector) {\n        return undefined;\n    } else if (Array.isArray(selector)) {\n        return <LanguageSelector>selector.map(fromLanguageSelector);\n    } else if (typeof selector === 'string') {\n        return selector;\n    } else {\n        return <LanguageFilter>{\n            language: selector.language,\n            scheme: selector.scheme,\n            pattern: fromGlobPattern(selector.pattern!)\n        };\n    }\n}\n\nexport function convertDiagnosticToMarkerData(diagnostic: theia.Diagnostic): model.MarkerData {\n    return {\n        code: convertCode(diagnostic.code),\n        severity: convertSeverity(diagnostic.severity),\n        message: diagnostic.message,\n        source: diagnostic.source,\n        startLineNumber: diagnostic.range.start.line + 1,\n        startColumn: diagnostic.range.start.character + 1,\n        endLineNumber: diagnostic.range.end.line + 1,\n        endColumn: diagnostic.range.end.character + 1,\n        relatedInformation: convertRelatedInformation(diagnostic.relatedInformation),\n        tags: convertTags(diagnostic.tags)\n    };\n}\n\nfunction convertCode(code: string | number | undefined): string | undefined {\n    if (typeof code === 'number') {\n        return String(code);\n    } else {\n        return code;\n    }\n}\n\nfunction convertSeverity(severity: types.DiagnosticSeverity): types.MarkerSeverity {\n    switch (severity) {\n        case types.DiagnosticSeverity.Error: return types.MarkerSeverity.Error;\n        case types.DiagnosticSeverity.Warning: return types.MarkerSeverity.Warning;\n        case types.DiagnosticSeverity.Information: return types.MarkerSeverity.Info;\n        case types.DiagnosticSeverity.Hint: return types.MarkerSeverity.Hint;\n    }\n}\n\nfunction convertRelatedInformation(diagnosticsRelatedInformation: theia.DiagnosticRelatedInformation[] | undefined): model.RelatedInformation[] | undefined {\n    if (!diagnosticsRelatedInformation) {\n        return undefined;\n    }\n\n    const relatedInformation: model.RelatedInformation[] = [];\n    for (const item of diagnosticsRelatedInformation) {\n        relatedInformation.push({\n            resource: item.location.uri,\n            message: item.message,\n            startLineNumber: item.location.range.start.line + 1,\n            startColumn: item.location.range.start.character + 1,\n            endLineNumber: item.location.range.end.line + 1,\n            endColumn: item.location.range.end.character + 1\n        });\n    }\n    return relatedInformation;\n}\n\nfunction convertTags(tags: types.DiagnosticTag[] | undefined): types.MarkerTag[] | undefined {\n    if (!tags) {\n        return undefined;\n    }\n\n    const markerTags: types.MarkerTag[] = [];\n    for (const tag of tags) {\n        switch (tag) {\n            case types.DiagnosticTag.Unnecessary: markerTags.push(types.MarkerTag.Unnecessary);\n        }\n    }\n    return markerTags;\n}\n\nexport function fromHover(hover: theia.Hover): model.Hover {\n    return <model.Hover>{\n        range: fromRange(hover.range),\n        contents: fromManyMarkdown(hover.contents)\n    };\n}\n\nexport function fromLocation(location: theia.Location): model.Location {\n    return <model.Location>{\n        uri: location.uri,\n        range: fromRange(location.range)\n    };\n}\n\nexport function fromDefinitionLink(definitionLink: theia.DefinitionLink): model.DefinitionLink {\n    return <model.DefinitionLink>{\n        uri: definitionLink.targetUri,\n        range: fromRange(definitionLink.targetRange),\n        origin: definitionLink.originSelectionRange ? fromRange(definitionLink.originSelectionRange) : undefined,\n        selectionRange: definitionLink.targetSelectionRange ? fromRange(definitionLink.targetSelectionRange) : undefined\n    };\n}\n\nexport function fromDocumentLink(definitionLink: theia.DocumentLink): model.DocumentLink {\n    return <model.DocumentLink>{\n        range: fromRange(definitionLink.range),\n        url: definitionLink.target && definitionLink.target.toString()\n    };\n}\n\nexport function fromDocumentHighlightKind(kind?: theia.DocumentHighlightKind): model.DocumentHighlightKind | undefined {\n    switch (kind) {\n        case types.DocumentHighlightKind.Text: return model.DocumentHighlightKind.Text;\n        case types.DocumentHighlightKind.Read: return model.DocumentHighlightKind.Read;\n        case types.DocumentHighlightKind.Write: return model.DocumentHighlightKind.Write;\n    }\n    return model.DocumentHighlightKind.Text;\n}\n\nexport function fromDocumentHighlight(documentHighlight: theia.DocumentHighlight): model.DocumentHighlight {\n    return <model.DocumentHighlight>{\n        range: fromRange(documentHighlight.range),\n        kind: fromDocumentHighlightKind(documentHighlight.kind)\n    };\n}\n\nexport function toInternalCommand(command: theia.Command): model.Command {\n    return {\n        id: command.id,\n        title: command.label || '',\n        tooltip: command.tooltip,\n        arguments: command.arguments\n    };\n}\n\n// tslint:disable-next-line:no-any\nexport function fromWorkspaceEdit(value: theia.WorkspaceEdit, documents?: any): WorkspaceEditDto {\n    const result: WorkspaceEditDto = {\n        edits: []\n    };\n    for (const entry of (value as types.WorkspaceEdit)._allEntries()) {\n        const [uri, uriOrEdits] = entry;\n        if (Array.isArray(uriOrEdits)) {\n            // text edits\n            const doc = documents ? documents.getDocument(uri.toString()) : undefined;\n            result.edits.push(<ResourceTextEditDto>{ resource: uri, modelVersionId: doc && doc.version, edits: uriOrEdits.map(fromTextEdit) });\n        } else {\n            // resource edits\n            result.edits.push(<ResourceFileEditDto>{ oldUri: uri, newUri: uriOrEdits, options: entry[2] });\n        }\n    }\n    return result;\n}\n\nexport namespace SymbolKind {\n    // tslint:disable-next-line:no-null-keyword\n    const fromMapping: { [kind: number]: model.SymbolKind } = Object.create(null);\n    fromMapping[model.SymbolKind.File] = model.SymbolKind.File;\n    fromMapping[model.SymbolKind.Module] = model.SymbolKind.Module;\n    fromMapping[model.SymbolKind.Namespace] = model.SymbolKind.Namespace;\n    fromMapping[model.SymbolKind.Package] = model.SymbolKind.Package;\n    fromMapping[model.SymbolKind.Class] = model.SymbolKind.Class;\n    fromMapping[model.SymbolKind.Method] = model.SymbolKind.Method;\n    fromMapping[model.SymbolKind.Property] = model.SymbolKind.Property;\n    fromMapping[model.SymbolKind.Field] = model.SymbolKind.Field;\n    fromMapping[model.SymbolKind.Constructor] = model.SymbolKind.Constructor;\n    fromMapping[model.SymbolKind.Enum] = model.SymbolKind.Enum;\n    fromMapping[model.SymbolKind.Interface] = model.SymbolKind.Interface;\n    fromMapping[model.SymbolKind.Function] = model.SymbolKind.Function;\n    fromMapping[model.SymbolKind.Variable] = model.SymbolKind.Variable;\n    fromMapping[model.SymbolKind.Constant] = model.SymbolKind.Constant;\n    fromMapping[model.SymbolKind.String] = model.SymbolKind.String;\n    fromMapping[model.SymbolKind.Number] = model.SymbolKind.Number;\n    fromMapping[model.SymbolKind.Boolean] = model.SymbolKind.Boolean;\n    fromMapping[model.SymbolKind.Array] = model.SymbolKind.Array;\n    fromMapping[model.SymbolKind.Object] = model.SymbolKind.Object;\n    fromMapping[model.SymbolKind.Key] = model.SymbolKind.Key;\n    fromMapping[model.SymbolKind.Null] = model.SymbolKind.Null;\n    fromMapping[model.SymbolKind.EnumMember] = model.SymbolKind.EnumMember;\n    fromMapping[model.SymbolKind.Struct] = model.SymbolKind.Struct;\n    fromMapping[model.SymbolKind.Event] = model.SymbolKind.Event;\n    fromMapping[model.SymbolKind.Operator] = model.SymbolKind.Operator;\n    fromMapping[model.SymbolKind.TypeParameter] = model.SymbolKind.TypeParameter;\n\n    export function fromSymbolKind(kind: theia.SymbolKind): model.SymbolKind {\n        return fromMapping[kind] || model.SymbolKind.Property;\n    }\n\n    export function toSymbolKind(kind: model.SymbolKind): theia.SymbolKind {\n        for (const k in fromMapping) {\n            if (fromMapping[k] === kind) {\n                return Number(k);\n            }\n        }\n        return model.SymbolKind.Property;\n    }\n}\n\nexport function fromDocumentSymbol(info: theia.DocumentSymbol): model.DocumentSymbol {\n    const result: model.DocumentSymbol = {\n        name: info.name,\n        detail: info.detail,\n        range: fromRange(info.range)!,\n        selectionRange: fromRange(info.selectionRange)!,\n        kind: SymbolKind.fromSymbolKind(info.kind)\n    };\n    if (info.children) {\n        result.children = info.children.map(fromDocumentSymbol);\n    }\n    return result;\n}\n\nexport function toWorkspaceFolder(folder: model.WorkspaceFolder): theia.WorkspaceFolder {\n    return {\n        uri: URI.revive(folder.uri),\n        name: folder.name,\n        index: folder.index\n    };\n}\n\nexport function fromTask(task: theia.Task): TaskDto | undefined {\n    if (!task) {\n        return undefined;\n    }\n\n    const taskDto = {} as TaskDto;\n    taskDto.label = task.name;\n\n    const taskDefinition = task.definition;\n    if (!taskDefinition) {\n        return taskDto;\n    }\n\n    taskDto.type = taskDefinition.type;\n    taskDto.properties = {};\n    for (const key in taskDefinition) {\n        if (key !== 'type' && taskDefinition.hasOwnProperty(key)) {\n            taskDto.properties[key] = taskDefinition[key];\n        }\n    }\n\n    const execution = task.execution;\n    if (!execution) {\n        return taskDto;\n    }\n\n    const processTaskDto = taskDto as ProcessTaskDto;\n    if (taskDefinition.type === 'shell') {\n        return fromShellExecution(execution, processTaskDto);\n    }\n\n    if (taskDefinition.type === 'process') {\n        return fromProcessExecution(<theia.ProcessExecution>execution, processTaskDto);\n    }\n\n    return processTaskDto;\n}\n\nexport function toTask(taskDto: TaskDto): theia.Task {\n    if (!taskDto) {\n        throw new Error('Task should be provided for converting');\n    }\n\n    const result = {} as theia.Task;\n    result.name = taskDto.label;\n\n    const taskType = taskDto.type;\n    const taskDefinition: theia.TaskDefinition = {\n        type: taskType\n    };\n\n    result.definition = taskDefinition;\n\n    if (taskType === 'process') {\n        result.execution = getProcessExecution(taskDto as ProcessTaskDto);\n    }\n\n    if (taskType === 'shell') {\n        result.execution = getShellExecution(taskDto as ProcessTaskDto);\n    }\n\n    const properties = taskDto.properties;\n    if (!properties) {\n        return result;\n    }\n\n    for (const key in properties) {\n        if (properties.hasOwnProperty(key)) {\n            taskDefinition[key] = properties[key];\n        }\n    }\n\n    return result;\n}\n\nexport function fromProcessExecution(execution: theia.ProcessExecution, processTaskDto: ProcessTaskDto): ProcessTaskDto {\n    processTaskDto.command = execution.process;\n    processTaskDto.args = execution.args;\n\n    const options = execution.options;\n    if (options) {\n        processTaskDto.cwd = options.cwd;\n        processTaskDto.options = options;\n    }\n    return processTaskDto;\n}\n\nexport function fromShellExecution(execution: theia.ShellExecution, processTaskDto: ProcessTaskDto): ProcessTaskDto {\n    const options = execution.options;\n    if (options) {\n        processTaskDto.cwd = options.cwd;\n        processTaskDto.options = getShellExecutionOptions(options);\n    }\n\n    const commandLine = execution.commandLine;\n    if (commandLine) {\n        const args = commandLine.split(' ');\n        const taskCommand = args.shift();\n\n        if (taskCommand) {\n            processTaskDto.command = taskCommand;\n        }\n\n        processTaskDto.args = args;\n        return processTaskDto;\n    }\n\n    const command = execution.command;\n    if (typeof command === 'string') {\n        processTaskDto.command = command;\n        processTaskDto.args = getShellArgs(execution.args);\n        return processTaskDto;\n    } else {\n        throw new Error('Converting ShellQuotedString command is not implemented');\n    }\n}\n\nexport function getProcessExecution(processTaskDto: ProcessTaskDto): theia.ProcessExecution {\n    const execution = {} as theia.ProcessExecution;\n\n    execution.process = processTaskDto.command;\n\n    const processArgs = processTaskDto.args;\n    execution.args = processArgs ? processArgs : [];\n\n    const options = processTaskDto.options;\n    execution.options = options ? options : {};\n    execution.options.cwd = processTaskDto.cwd;\n\n    return execution;\n}\n\nexport function getShellExecution(processTaskDto: ProcessTaskDto): theia.ShellExecution {\n    const execution = {} as theia.ShellExecution;\n\n    const options = processTaskDto.options;\n    execution.options = options ? options : {};\n    execution.options.cwd = processTaskDto.cwd;\n    execution.args = processTaskDto.args;\n\n    execution.command = processTaskDto.command;\n\n    return execution;\n}\n\nexport function getShellArgs(args: undefined | (string | theia.ShellQuotedString)[]): string[] {\n    if (!args || args.length === 0) {\n        return [];\n    }\n\n    const element = args[0];\n    if (typeof element === 'string') {\n        return args as string[];\n    }\n\n    const result: string[] = [];\n    const shellQuotedArgs = args as theia.ShellQuotedString[];\n\n    shellQuotedArgs.forEach(arg => {\n        result.push(arg.value);\n    });\n\n    return result;\n}\n\n// tslint:disable-next-line:no-any\nexport function getShellExecutionOptions(options: theia.ShellExecutionOptions): { [key: string]: any } {\n    // tslint:disable-next-line:no-any\n    const result = {} as { [key: string]: any };\n\n    const env = options.env;\n    if (env) {\n        result['env'] = env;\n    }\n\n    const executable = options.executable;\n    if (executable) {\n        result['executable'] = executable;\n    }\n\n    const shellQuoting = options.shellQuoting;\n    if (shellQuoting) {\n        result['shellQuoting'] = shellQuoting;\n    }\n\n    const shellArgs = options.shellArgs;\n    if (shellArgs) {\n        result['shellArgs'] = shellArgs;\n    }\n\n    return result;\n}\n\nexport function fromSymbolInformation(symbolInformation: theia.SymbolInformation): SymbolInformation | undefined {\n    if (!symbolInformation) {\n        return undefined;\n    }\n\n    if (symbolInformation.location && symbolInformation.location.range) {\n        const p1 = P.create(symbolInformation.location.range.start.line, symbolInformation.location.range.start.character);\n        const p2 = P.create(symbolInformation.location.range.end.line, symbolInformation.location.range.end.character);\n        return SymbolInformation.create(symbolInformation.name, symbolInformation.kind++ as S, R.create(p1, p2),\n            symbolInformation.location.uri.toString(), symbolInformation.containerName);\n    }\n\n    return <SymbolInformation>{\n        name: symbolInformation.name,\n        containerName: symbolInformation.containerName,\n        kind: symbolInformation.kind++ as S,\n        location: {\n            uri: symbolInformation.location.uri.toString()\n        }\n    };\n}\n\nexport function toSymbolInformation(symbolInformation: SymbolInformation): theia.SymbolInformation | undefined {\n    if (!symbolInformation) {\n        return undefined;\n    }\n\n    return <theia.SymbolInformation>{\n        name: symbolInformation.name,\n        containerName: symbolInformation.containerName,\n        kind: symbolInformation.kind,\n        location: {\n            uri: URI.parse(symbolInformation.location.uri),\n            range: symbolInformation.location.range\n        }\n    };\n}\n\nexport function fromFoldingRange(foldingRange: theia.FoldingRange): model.FoldingRange {\n    const range: model.FoldingRange = {\n        start: foldingRange.start + 1,\n        end: foldingRange.end + 1\n    };\n    if (foldingRange.kind) {\n        range.kind = fromFoldingRangeKind(foldingRange.kind);\n    }\n    return range;\n}\n\nexport function fromFoldingRangeKind(kind: theia.FoldingRangeKind | undefined): model.FoldingRangeKind | undefined {\n    if (kind) {\n        switch (kind) {\n            case types.FoldingRangeKind.Comment:\n                return model.FoldingRangeKind.Comment;\n            case types.FoldingRangeKind.Imports:\n                return model.FoldingRangeKind.Imports;\n            case types.FoldingRangeKind.Region:\n                return model.FoldingRangeKind.Region;\n        }\n    }\n    return undefined;\n}\n\nexport function fromColor(color: types.Color): [number, number, number, number] {\n    return [color.red, color.green, color.blue, color.alpha];\n}\n\nexport function toColor(color: [number, number, number, number]): types.Color {\n    return new types.Color(color[0], color[1], color[2], color[3]);\n}\n\nexport function fromColorPresentation(colorPresentation: theia.ColorPresentation): model.ColorPresentation {\n    return {\n        label: colorPresentation.label,\n        textEdit: colorPresentation.textEdit ? fromTextEdit(colorPresentation.textEdit) : undefined,\n        additionalTextEdits: colorPresentation.additionalTextEdits ? colorPresentation.additionalTextEdits.map(value  => fromTextEdit(value)) : undefined\n    };\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { illegalArgument } from '../common/errors';\nimport * as theia from '@theia/plugin';\nimport * as crypto from 'crypto';\nimport URI from 'vscode-uri';\nimport { relative } from '../common/paths-util';\nimport { startsWithIgnoreCase } from '../common/strings';\nimport { MarkdownString, isMarkdownString } from './markdown-string';\nimport { SymbolKind } from '../api/model';\n\nexport class Disposable {\n    private disposable: undefined | (() => void);\n\n    // tslint:disable-next-line:no-any\n    static from(...disposables: { dispose(): any }[]): Disposable {\n        return new Disposable(() => {\n            if (disposables) {\n                for (const disposable of disposables) {\n                    if (disposable && typeof disposable.dispose === 'function') {\n                        disposable.dispose();\n                    }\n                }\n            }\n        });\n    }\n\n    constructor(func: () => void) {\n        this.disposable = func;\n    }\n    /**\n     * Dispose this object.\n     */\n    dispose(): void {\n        if (this.disposable) {\n            this.disposable();\n            this.disposable = undefined;\n        }\n    }\n\n    static create(func: () => void): Disposable {\n        return new Disposable(func);\n    }\n}\n\nexport enum StatusBarAlignment {\n    Left = 1,\n    Right = 2\n}\n\nexport enum TextEditorLineNumbersStyle {\n    Off = 0,\n    On = 1,\n    Relative = 2\n}\n\n/**\n * Denotes a column in the editor window.\n * Columns are used to show editors side by side.\n */\nexport enum ViewColumn {\n    Active = -1,\n    Beside = -2,\n    One = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4,\n    Five = 5,\n    Six = 6,\n    Seven = 7,\n    Eight = 8,\n    Nine = 9\n}\n\n/**\n * Represents sources that can cause `window.onDidChangeEditorSelection`\n */\nexport enum TextEditorSelectionChangeKind {\n    Keyboard = 1,\n\n    Mouse = 2,\n\n    Command = 3\n}\n\nexport namespace TextEditorSelectionChangeKind {\n    export function fromValue(s: string | undefined) {\n        switch (s) {\n            case 'keyboard': return TextEditorSelectionChangeKind.Keyboard;\n            case 'mouse': return TextEditorSelectionChangeKind.Mouse;\n            case 'api': return TextEditorSelectionChangeKind.Command;\n        }\n        return undefined;\n    }\n}\n\nexport class Position {\n    private _line: number;\n    private _character: number;\n    constructor(line: number, char: number) {\n        if (line < 0) {\n            throw new Error('line number cannot be negative');\n        }\n        if (char < 0) {\n            throw new Error('char number cannot be negative');\n        }\n        this._line = line;\n        this._character = char;\n    }\n\n    get line(): number {\n        return this._line;\n    }\n\n    get character(): number {\n        return this._character;\n    }\n\n    isBefore(other: Position): boolean {\n        if (this._line < other._line) {\n            return true;\n        }\n        if (other._line < this._line) {\n            return false;\n        }\n        return this._character < other._character;\n    }\n\n    isBeforeOrEqual(other: Position): boolean {\n        if (this._line < other._line) {\n            return true;\n        }\n        if (other._line < this._line) {\n            return false;\n        }\n        return this._character <= other._character;\n    }\n\n    isAfter(other: Position): boolean {\n        return !this.isBeforeOrEqual(other);\n    }\n\n    isAfterOrEqual(other: Position): boolean {\n        return !this.isBefore(other);\n    }\n\n    isEqual(other: Position): boolean {\n        return this._line === other._line && this._character === other._character;\n    }\n\n    compareTo(other: Position): number {\n        if (this._line < other._line) {\n            return -1;\n        } else if (this._line > other.line) {\n            return 1;\n        } else {\n            // equal line\n            if (this._character < other._character) {\n                return -1;\n            } else if (this._character > other._character) {\n                return 1;\n            } else {\n                // equal line and character\n                return 0;\n            }\n        }\n    }\n\n    translate(change: { lineDelta?: number; characterDelta?: number; }): Position;\n    translate(lineDelta?: number, characterDelta?: number): Position;\n    translate(lineDeltaOrChange: number | { lineDelta?: number; characterDelta?: number; } | undefined, characterDelta: number = 0): Position {\n\n        if (lineDeltaOrChange === null || characterDelta === null) {\n            throw illegalArgument();\n        }\n\n        let lineDelta: number;\n        if (typeof lineDeltaOrChange === 'undefined') {\n            lineDelta = 0;\n        } else if (typeof lineDeltaOrChange === 'number') {\n            lineDelta = lineDeltaOrChange;\n        } else {\n            lineDelta = typeof lineDeltaOrChange.lineDelta === 'number' ? lineDeltaOrChange.lineDelta : 0;\n            characterDelta = typeof lineDeltaOrChange.characterDelta === 'number' ? lineDeltaOrChange.characterDelta : 0;\n        }\n\n        if (lineDelta === 0 && characterDelta === 0) {\n            return this;\n        }\n        return new Position(this.line + lineDelta, this.character + characterDelta);\n    }\n\n    with(change: { line?: number; character?: number; }): Position;\n    with(line?: number, character?: number): Position;\n    with(lineOrChange: number | { line?: number; character?: number; } | undefined, character: number = this.character): Position {\n\n        if (lineOrChange === null || character === null) {\n            throw illegalArgument();\n        }\n\n        let line: number;\n        if (typeof lineOrChange === 'undefined') {\n            line = this.line;\n\n        } else if (typeof lineOrChange === 'number') {\n            line = lineOrChange;\n\n        } else {\n            line = typeof lineOrChange.line === 'number' ? lineOrChange.line : this.line;\n            character = typeof lineOrChange.character === 'number' ? lineOrChange.character : this.character;\n        }\n\n        if (line === this.line && character === this.character) {\n            return this;\n        }\n        return new Position(line, character);\n    }\n\n    static Min(...positions: Position[]): Position {\n        let result = positions.pop();\n        for (const p of positions) {\n            if (p.isBefore(result!)) {\n                result = p;\n            }\n        }\n        return result!;\n    }\n\n    static Max(...positions: Position[]): Position {\n        let result = positions.pop();\n        for (const p of positions) {\n            if (p.isAfter(result!)) {\n                result = p;\n            }\n        }\n        return result!;\n    }\n\n    static isPosition(other: {}): other is Position {\n        if (!other) {\n            return false;\n        }\n        if (other instanceof Position) {\n            return true;\n        }\n        const { line, character } = <Position>other;\n        if (typeof line === 'number' && typeof character === 'number') {\n            return true;\n        }\n        return false;\n    }\n}\n\nexport class Range {\n    protected _start: Position;\n    protected _end: Position;\n\n    constructor(start: Position, end: Position);\n    constructor(startLine: number, startColumn: number, endLine: number, endColumn: number);\n    constructor(startLineOrStart: number | Position, startColumnOrEnd: number | Position, endLine?: number, endColumn?: number) {\n        let start: Position | undefined = undefined;\n        let end: Position | undefined = undefined;\n\n        if (typeof startLineOrStart === 'number' && typeof startColumnOrEnd === 'number' && typeof endLine === 'number' && typeof endColumn === 'number') {\n            start = new Position(startLineOrStart, startColumnOrEnd);\n            end = new Position(endLine, endColumn);\n        } else if (startLineOrStart instanceof Position && startColumnOrEnd instanceof Position) {\n            start = startLineOrStart;\n            end = startColumnOrEnd;\n        }\n\n        if (!start || !end) {\n            throw new Error('Invalid arguments');\n        }\n\n        if (start.isBefore(end)) {\n            this._start = start;\n            this._end = end;\n        } else {\n            this._start = end;\n            this._end = start;\n        }\n    }\n\n    get start(): Position {\n        return this._start;\n    }\n\n    get end(): Position {\n        return this._end;\n    }\n\n    contains(positionOrRange: Position | Range): boolean {\n        if (positionOrRange instanceof Range) {\n            return this.contains(positionOrRange._start)\n                && this.contains(positionOrRange._end);\n\n        } else if (positionOrRange instanceof Position) {\n            if (positionOrRange.isBefore(this._start)) {\n                return false;\n            }\n            if (this._end.isBefore(positionOrRange)) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n\n    isEqual(other: Range): boolean {\n        return this._start.isEqual(other._start) && this._end.isEqual(other._end);\n    }\n\n    intersection(other: Range): Range | undefined {\n        const start = Position.Max(other.start, this._start);\n        const end = Position.Min(other.end, this._end);\n        if (start.isAfter(end)) {\n            // this happens when there is no overlap:\n            // |-----|\n            //          |----|\n            return undefined;\n        }\n        return new Range(start, end);\n    }\n\n    union(other: Range): Range {\n        if (this.contains(other)) {\n            return this;\n        } else if (other.contains(this)) {\n            return other;\n        }\n        const start = Position.Min(other.start, this._start);\n        const end = Position.Max(other.end, this.end);\n        return new Range(start, end);\n    }\n\n    get isEmpty(): boolean {\n        return this._start.isEqual(this._end);\n    }\n\n    get isSingleLine(): boolean {\n        return this._start.line === this._end.line;\n    }\n\n    with(change: { start?: Position, end?: Position }): Range;\n    with(start?: Position, end?: Position): Range;\n    with(startOrChange: Position | { start?: Position, end?: Position } | undefined, end: Position = this.end): Range {\n\n        if (startOrChange === null || end === null) {\n            throw illegalArgument();\n        }\n\n        let start: Position;\n        if (!startOrChange) {\n            start = this.start;\n\n        } else if (Position.isPosition(startOrChange)) {\n            start = startOrChange;\n\n        } else {\n            start = startOrChange.start || this.start;\n            end = startOrChange.end || this.end;\n        }\n\n        if (start.isEqual(this._start) && end.isEqual(this.end)) {\n            return this;\n        }\n        return new Range(start, end);\n    }\n\n    static isRange(thing: {}): thing is theia.Range {\n        if (thing instanceof Range) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return Position.isPosition((<Range>thing).start)\n            && Position.isPosition((<Range>thing).end);\n    }\n\n}\n\nexport class Selection extends Range {\n    private _anchor: Position;\n    private _active: Position;\n    constructor(anchor: Position, active: Position);\n    constructor(anchorLine: number, anchorColumn: number, activeLine: number, activeColumn: number);\n    constructor(anchorLineOrAnchor: number | Position, anchorColumnOrActive: number | Position, activeLine?: number, activeColumn?: number) {\n        let anchor: Position | undefined = undefined;\n        let active: Position | undefined = undefined;\n\n        if (typeof anchorLineOrAnchor === 'number' && typeof anchorColumnOrActive === 'number' && typeof activeLine === 'number' && typeof activeColumn === 'number') {\n            anchor = new Position(anchorLineOrAnchor, anchorColumnOrActive);\n            active = new Position(activeLine, activeColumn);\n        } else if (anchorLineOrAnchor instanceof Position && anchorColumnOrActive instanceof Position) {\n            anchor = anchorLineOrAnchor;\n            active = anchorColumnOrActive;\n        }\n\n        if (!anchor || !active) {\n            throw new Error('Invalid arguments');\n        }\n\n        super(anchor, active);\n\n        this._anchor = anchor;\n        this._active = active;\n    }\n\n    get active(): Position {\n        return this._active;\n    }\n\n    get anchor(): Position {\n        return this._anchor;\n    }\n\n    get isReversed(): boolean {\n        return this._anchor === this._end;\n    }\n}\n\nexport enum EndOfLine {\n    LF = 1,\n    CRLF = 2\n}\n\nexport class SnippetString {\n\n    static isSnippetString(thing: {}): thing is SnippetString {\n        if (thing instanceof SnippetString) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof (<SnippetString>thing).value === 'string';\n    }\n\n    private static _escape(value: string): string {\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\n    }\n\n    private _tabstop: number = 1;\n\n    value: string;\n\n    constructor(value?: string) {\n        this.value = value || '';\n    }\n\n    appendText(string: string): SnippetString {\n        this.value += SnippetString._escape(string);\n        return this;\n    }\n\n    appendTabstop(number: number = this._tabstop++): SnippetString {\n        this.value += '$';\n        this.value += number;\n        return this;\n    }\n\n    appendPlaceholder(value: string | ((snippet: SnippetString) => void), number: number = this._tabstop++): SnippetString {\n\n        if (typeof value === 'function') {\n            const nested = new SnippetString();\n            nested._tabstop = this._tabstop;\n            value(nested);\n            this._tabstop = nested._tabstop;\n            value = nested.value;\n        } else {\n            value = SnippetString._escape(value);\n        }\n\n        this.value += '${';\n        this.value += number;\n        this.value += ':';\n        this.value += value;\n        this.value += '}';\n\n        return this;\n    }\n\n    appendVariable(name: string, defaultValue?: string | ((snippet: SnippetString) => void)): SnippetString {\n\n        if (typeof defaultValue === 'function') {\n            const nested = new SnippetString();\n            nested._tabstop = this._tabstop;\n            defaultValue(nested);\n            this._tabstop = nested._tabstop;\n            defaultValue = nested.value;\n\n        } else if (typeof defaultValue === 'string') {\n            defaultValue = defaultValue.replace(/\\$|}/g, '\\\\$&');\n        }\n\n        this.value += '${';\n        this.value += name;\n        if (defaultValue) {\n            this.value += ':';\n            this.value += defaultValue;\n        }\n        this.value += '}';\n\n        return this;\n    }\n}\n\nexport class ThemeColor {\n    constructor(public id: string) {\n    }\n}\n\nexport class ThemeIcon {\n\n    static readonly File: ThemeIcon;\n\n    static readonly Folder: ThemeIcon;\n\n    private constructor(public id: string) {\n    }\n\n}\n\nexport enum TextEditorRevealType {\n    Default = 0,\n    InCenter = 1,\n    InCenterIfOutsideViewport = 2,\n    AtTop = 3\n}\n\n/**\n * These values match very carefully the values of `TrackedRangeStickiness`\n */\nexport enum DecorationRangeBehavior {\n    /**\n     * TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges\n     */\n    OpenOpen = 0,\n    /**\n     * TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n     */\n    ClosedClosed = 1,\n    /**\n     * TrackedRangeStickiness.GrowsOnlyWhenTypingBefore\n     */\n    OpenClosed = 2,\n    /**\n     * TrackedRangeStickiness.GrowsOnlyWhenTypingAfter\n     */\n    ClosedOpen = 3\n}\n\n/**\n * Vertical Lane in the overview ruler of the editor.\n */\nexport enum OverviewRulerLane {\n    Left = 1,\n    Center = 2,\n    Right = 4,\n    Full = 7\n}\n\nexport enum ConfigurationTarget {\n    User = 0,\n    Workspace = 1\n}\n\nexport class RelativePattern {\n\n    base: string;\n\n    constructor(base: theia.WorkspaceFolder | string, public pattern: string) {\n        if (typeof base !== 'string') {\n            if (!base || !URI.isUri(base.uri)) {\n                throw illegalArgument('base');\n            }\n        }\n\n        if (typeof pattern !== 'string') {\n            throw illegalArgument('pattern');\n        }\n\n        this.base = typeof base === 'string' ? base : base.uri.fsPath;\n    }\n\n    pathToRelative(from: string, to: string): string {\n        return relative(from, to);\n    }\n}\n\nexport enum IndentAction {\n    None = 0,\n    Indent = 1,\n    IndentOutdent = 2,\n    Outdent = 3\n}\n\nexport class TextEdit {\n\n    protected _range: Range;\n    protected _newText: string;\n    protected _newEol: EndOfLine;\n\n    get range(): Range {\n        return this._range;\n    }\n\n    set range(value: Range) {\n        if (value && !Range.isRange(value)) {\n            throw illegalArgument('range');\n        }\n        this._range = value;\n    }\n\n    get newText(): string {\n        return this._newText || '';\n    }\n\n    set newText(value: string) {\n        if (value && typeof value !== 'string') {\n            throw illegalArgument('newText');\n        }\n        this._newText = value;\n    }\n\n    get newEol(): EndOfLine {\n        return this._newEol;\n    }\n\n    set newEol(value: EndOfLine) {\n        if (value && typeof value !== 'number') {\n            throw illegalArgument('newEol');\n        }\n        this._newEol = value;\n    }\n\n    constructor(range: Range | undefined, newText: string | undefined) {\n        this.range = range!;\n        this.newText = newText!;\n    }\n\n    static isTextEdit(thing: {}): thing is TextEdit {\n        if (thing instanceof TextEdit) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return Range.isRange((<TextEdit>thing))\n            && typeof (<TextEdit>thing).newText === 'string';\n    }\n\n    static replace(range: Range, newText: string): TextEdit {\n        return new TextEdit(range, newText);\n    }\n\n    static insert(position: Position, newText: string): TextEdit {\n        return TextEdit.replace(new Range(position, position), newText);\n    }\n\n    static delete(range: Range): TextEdit {\n        return TextEdit.replace(range, '');\n    }\n\n    static setEndOfLine(eol: EndOfLine): TextEdit {\n        const ret = new TextEdit(undefined, undefined);\n        ret.newEol = eol;\n        return ret;\n    }\n}\n\nexport enum CompletionTriggerKind {\n    Invoke = 0,\n    TriggerCharacter = 1,\n    TriggerForIncompleteCompletions = 2\n}\n\nexport enum CompletionItemKind {\n    Text = 0,\n    Method = 1,\n    Function = 2,\n    Constructor = 3,\n    Field = 4,\n    Variable = 5,\n    Class = 6,\n    Interface = 7,\n    Module = 8,\n    Property = 9,\n    Unit = 10,\n    Value = 11,\n    Enum = 12,\n    Keyword = 13,\n    Snippet = 14,\n    Color = 15,\n    File = 16,\n    Reference = 17,\n    Folder = 18,\n    EnumMember = 19,\n    Constant = 20,\n    Struct = 21,\n    Event = 22,\n    Operator = 23,\n    TypeParameter = 24\n}\n\nexport class CompletionItem implements theia.CompletionItem {\n\n    label: string;\n    kind?: CompletionItemKind;\n    detail: string;\n    documentation: string | MarkdownString;\n    sortText: string;\n    filterText: string;\n    preselect: boolean;\n    insertText: string | SnippetString;\n    range: Range;\n    textEdit: TextEdit;\n    additionalTextEdits: TextEdit[];\n    command: theia.Command;\n\n    constructor(label: string, kind?: CompletionItemKind) {\n        this.label = label;\n        this.kind = kind;\n    }\n}\n\nexport class CompletionList {\n\n    isIncomplete?: boolean;\n\n    items: theia.CompletionItem[];\n\n    constructor(items: theia.CompletionItem[] = [], isIncomplete: boolean = false) {\n        this.items = items;\n        this.isIncomplete = isIncomplete;\n    }\n}\n\nexport enum DiagnosticSeverity {\n    Error = 0,\n    Warning = 1,\n    Information = 2,\n    Hint = 3\n}\n\nexport class DiagnosticRelatedInformation {\n    location: Location;\n    message: string;\n\n    constructor(location: Location, message: string) {\n        this.location = location;\n        this.message = message;\n    }\n}\n\nexport class Location {\n    uri: URI;\n    range: Range;\n\n    constructor(uri: URI, rangeOrPosition: Range | Position | undefined) {\n        this.uri = uri;\n        if (rangeOrPosition instanceof Range) {\n            this.range = rangeOrPosition;\n        } else if (rangeOrPosition instanceof Position) {\n            this.range = new Range(rangeOrPosition, rangeOrPosition);\n        }\n    }\n}\n\nexport enum DiagnosticTag {\n    Unnecessary = 1,\n}\n\nexport class Diagnostic {\n    range: Range;\n    message: string;\n    severity: DiagnosticSeverity;\n    source?: string;\n    code?: string | number;\n    relatedInformation?: DiagnosticRelatedInformation[];\n    tags?: DiagnosticTag[];\n\n    constructor(range: Range, message: string, severity: DiagnosticSeverity = DiagnosticSeverity.Error) {\n        this.range = range;\n        this.message = message;\n        this.severity = severity;\n    }\n}\n\nexport enum MarkerSeverity {\n    Hint = 1,\n    Info = 2,\n    Warning = 4,\n    Error = 8,\n}\n\nexport enum MarkerTag {\n    Unnecessary = 1,\n}\n\nexport class ParameterInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n\n    constructor(label: string, documentation?: string | MarkdownString) {\n        this.label = label;\n        this.documentation = documentation;\n    }\n}\n\nexport class SignatureInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n    parameters: ParameterInformation[];\n\n    constructor(label: string, documentation?: string | MarkdownString) {\n        this.label = label;\n        this.documentation = documentation;\n    }\n}\n\nexport class SignatureHelp {\n    signatures: SignatureInformation[];\n    activeSignature: number;\n    activeParameter: number;\n}\n\nexport class Hover {\n\n    public contents: MarkdownString[] | theia.MarkedString[];\n    public range?: Range;\n\n    constructor(\n        contents: MarkdownString | theia.MarkedString | MarkdownString[] | theia.MarkedString[],\n        range?: Range\n    ) {\n        if (!contents) {\n            illegalArgument('contents must be defined');\n        }\n        if (Array.isArray(contents)) {\n            this.contents = <MarkdownString[] | theia.MarkedString[]>contents;\n        } else if (isMarkdownString(contents)) {\n            this.contents = [contents];\n        } else {\n            this.contents = [contents];\n        }\n        this.range = range;\n    }\n}\n\nexport enum DocumentHighlightKind {\n    Text = 0,\n    Read = 1,\n    Write = 2\n}\n\nexport class DocumentHighlight {\n\n    public range: Range;\n    public kind?: DocumentHighlightKind;\n\n    constructor(\n        range: Range,\n        kind?: DocumentHighlightKind\n    ) {\n        this.range = range;\n        this.kind = kind;\n    }\n}\n\nexport type Definition = Location | Location[];\n\nexport class DocumentLink {\n    range: Range;\n    target: URI;\n\n    constructor(range: Range, target: URI) {\n        if (target && !(target instanceof URI)) {\n            throw illegalArgument('target');\n        }\n        if (!Range.isRange(range) || range.isEmpty) {\n            throw illegalArgument('range');\n        }\n        this.range = range;\n        this.target = target;\n    }\n}\n\nexport class CodeLens {\n\n    range: Range;\n\n    command?: theia.Command;\n\n    get isResolved(): boolean {\n        return !!this.command;\n    }\n\n    constructor(range: Range, command?: theia.Command) {\n        this.range = range;\n        this.command = command;\n    }\n}\n\nexport enum CodeActionTrigger {\n    Automatic = 1,\n    Manual = 2,\n}\n\nexport class CodeActionKind {\n    private static readonly sep = '.';\n\n    public static readonly Empty = new CodeActionKind('');\n    public static readonly QuickFix = CodeActionKind.Empty.append('quickfix');\n    public static readonly Refactor = CodeActionKind.Empty.append('refactor');\n    public static readonly RefactorExtract = CodeActionKind.Refactor.append('extract');\n    public static readonly RefactorInline = CodeActionKind.Refactor.append('inline');\n    public static readonly RefactorRewrite = CodeActionKind.Refactor.append('rewrite');\n    public static readonly Source = CodeActionKind.Empty.append('source');\n    public static readonly SourceOrganizeImports = CodeActionKind.Source.append('organizeImports');\n\n    constructor(\n        public readonly value: string\n    ) { }\n\n    public append(parts: string): CodeActionKind {\n        return new CodeActionKind(this.value ? this.value + CodeActionKind.sep + parts : parts);\n    }\n\n    public contains(other: CodeActionKind): boolean {\n        return this.value === other.value || startsWithIgnoreCase(other.value, this.value + CodeActionKind.sep);\n    }\n}\n\nexport enum TextDocumentSaveReason {\n    Manual = 1,\n    AfterDelay = 2,\n    FocusOut = 3\n}\n\nexport class CodeAction {\n    title: string;\n\n    command?: theia.Command;\n\n    edit?: WorkspaceEdit;\n\n    diagnostics?: Diagnostic[];\n\n    kind?: CodeActionKind;\n\n    constructor(title: string, kind?: CodeActionKind) {\n        this.title = title;\n        this.kind = kind;\n    }\n}\n\nexport interface FileOperationOptions {\n    overwrite?: boolean;\n    ignoreIfExists?: boolean;\n    ignoreIfNotExists?: boolean;\n    recursive?: boolean;\n}\nexport interface FileOperation {\n    _type: 1;\n    from: URI | undefined;\n    to: URI | undefined;\n    options?: FileOperationOptions;\n}\n\nexport interface FileTextEdit {\n    _type: 2;\n    uri: URI;\n    edit: TextEdit;\n}\n\nexport class WorkspaceEdit implements theia.WorkspaceEdit {\n\n    private _edits = new Array<FileOperation | FileTextEdit | undefined>();\n\n    renameFile(from: theia.Uri, to: theia.Uri, options?: { overwrite?: boolean, ignoreIfExists?: boolean }): void {\n        this._edits.push({ _type: 1, from, to, options });\n    }\n\n    createFile(uri: theia.Uri, options?: { overwrite?: boolean, ignoreIfExists?: boolean }): void {\n        this._edits.push({ _type: 1, from: undefined, to: uri, options });\n    }\n\n    deleteFile(uri: theia.Uri, options?: { recursive?: boolean, ignoreIfNotExists?: boolean }): void {\n        this._edits.push({ _type: 1, from: uri, to: undefined, options });\n    }\n\n    replace(uri: URI, range: Range, newText: string): void {\n        this._edits.push({ _type: 2, uri, edit: new TextEdit(range, newText) });\n    }\n\n    insert(resource: URI, position: Position, newText: string): void {\n        this.replace(resource, new Range(position, position), newText);\n    }\n\n    delete(resource: URI, range: Range): void {\n        this.replace(resource, range, '');\n    }\n\n    has(uri: URI): boolean {\n        for (const edit of this._edits) {\n            if (edit && edit._type === 2 && edit.uri.toString() === uri.toString()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    set(uri: URI, edits: TextEdit[]): void {\n        if (!edits) {\n            // remove all text edits for `uri`\n            for (let i = 0; i < this._edits.length; i++) {\n                const element = this._edits[i];\n                if (element && element._type === 2 && element.uri.toString() === uri.toString()) {\n                    this._edits[i] = undefined;\n                }\n            }\n            this._edits = this._edits.filter(e => !!e);\n        } else {\n            // append edit to the end\n            for (const edit of edits) {\n                if (edit) {\n                    this._edits.push({ _type: 2, uri, edit });\n                }\n            }\n        }\n    }\n\n    get(uri: URI): TextEdit[] {\n        const res: TextEdit[] = [];\n        for (const candidate of this._edits) {\n            if (candidate && candidate._type === 2 && candidate.uri.toString() === uri.toString()) {\n                res.push(candidate.edit);\n            }\n        }\n        if (res.length === 0) {\n            return undefined!;\n        }\n        return res;\n    }\n\n    entries(): [URI, TextEdit[]][] {\n        const textEdits = new Map<string, [URI, TextEdit[]]>();\n        for (const candidate of this._edits) {\n            if (candidate && candidate._type === 2) {\n                let textEdit = textEdits.get(candidate.uri.toString());\n                if (!textEdit) {\n                    textEdit = [candidate.uri, []];\n                    textEdits.set(candidate.uri.toString(), textEdit);\n                }\n                textEdit[1].push(candidate.edit);\n            }\n        }\n        const result: [URI, TextEdit[]][] = [];\n        textEdits.forEach(v => result.push(v));\n        return result;\n    }\n\n    _allEntries(): ([URI, TextEdit[]] | [URI, URI, FileOperationOptions])[] {\n        const res: ([URI, TextEdit[]] | [URI, URI, FileOperationOptions])[] = [];\n        for (const edit of this._edits) {\n            if (!edit) {\n                continue;\n            }\n            if (edit._type === 1) {\n                res.push([edit.from!, edit.to!, edit.options!]);\n            } else {\n                res.push([edit.uri, [edit.edit]]);\n            }\n        }\n        return res;\n    }\n\n    get size(): number {\n        return this.entries().length;\n    }\n\n    // tslint:disable-next-line:no-any\n    toJSON(): any {\n        return this.entries();\n    }\n}\n\nexport class TreeItem {\n\n    label?: string;\n\n    id?: string;\n\n    iconPath?: string | URI | { light: string | URI; dark: string | URI } | ThemeIcon;\n\n    resourceUri?: URI;\n\n    tooltip?: string | undefined;\n\n    command?: theia.Command;\n\n    contextValue?: string;\n\n    constructor(label: string, collapsibleState?: theia.TreeItemCollapsibleState)\n    constructor(resourceUri: URI, collapsibleState?: theia.TreeItemCollapsibleState)\n    constructor(arg1: string | URI, public collapsibleState: theia.TreeItemCollapsibleState = TreeItemCollapsibleState.None) {\n        if (arg1 instanceof URI) {\n            this.resourceUri = arg1;\n        } else {\n            this.label = arg1;\n        }\n    }\n}\n\nexport enum TreeItemCollapsibleState {\n    None = 0,\n    Collapsed = 1,\n    Expanded = 2\n}\n\nexport class SymbolInformation {\n\n    static validate(candidate: SymbolInformation): void {\n        if (!candidate.name) {\n            throw new Error('Should provide a name inside candidate field');\n        }\n    }\n\n    name: string;\n    location: Location;\n    kind: SymbolKind;\n    containerName: undefined | string;\n    constructor(name: string, kind: SymbolKind, containerName: string, location: Location);\n    constructor(name: string, kind: SymbolKind, range: Range, uri?: URI, containerName?: string);\n    constructor(name: string, kind: SymbolKind, rangeOrContainer: string | Range, locationOrUri?: Location | URI, containerName?: string) {\n        this.name = name;\n        this.kind = kind;\n        this.containerName = containerName;\n\n        if (typeof rangeOrContainer === 'string') {\n            this.containerName = rangeOrContainer;\n        }\n\n        if (locationOrUri instanceof Location) {\n            this.location = locationOrUri;\n        } else if (rangeOrContainer instanceof Range) {\n            this.location = new Location(locationOrUri!, rangeOrContainer);\n        }\n\n        SymbolInformation.validate(this);\n    }\n\n    // tslint:disable-next-line:no-any\n    toJSON(): any {\n        return {\n            name: this.name,\n            kind: SymbolKind[this.kind],\n            location: this.location,\n            containerName: this.containerName\n        };\n    }\n}\n\nexport class DocumentSymbol {\n\n    static validate(candidate: DocumentSymbol): void {\n        if (!candidate.name) {\n            throw new Error('Should provide a name inside candidate field');\n        }\n        if (!candidate.range.contains(candidate.selectionRange)) {\n            throw new Error('selectionRange must be contained in fullRange');\n        }\n        if (candidate.children) {\n            candidate.children.forEach(DocumentSymbol.validate);\n        }\n    }\n\n    name: string;\n    detail: string;\n    kind: SymbolKind;\n    range: Range;\n    selectionRange: Range;\n    children: DocumentSymbol[];\n\n    constructor(name: string, detail: string, kind: SymbolKind, range: Range, selectionRange: Range) {\n        this.name = name;\n        this.detail = detail;\n        this.kind = kind;\n        this.range = range;\n        this.selectionRange = selectionRange;\n        this.children = [];\n\n        DocumentSymbol.validate(this);\n    }\n}\n\nexport enum FileChangeType {\n    Changed = 1,\n    Created = 2,\n    Deleted = 3,\n}\n\nexport enum FileType {\n    Unknown = 0,\n    File = 1,\n    Directory = 2,\n    SymbolicLink = 64\n}\n\nexport class ProgressOptions {\n    /**\n     * The location at which progress should show.\n     */\n    location: ProgressLocation;\n    /**\n     * A human-readable string which will be used to describe the\n     * operation.\n     */\n    title?: string;\n    /**\n     * Controls if a cancel button should show to allow the user to\n     * cancel the long running operation.  Note that currently only\n     * `ProgressLocation.Notification` is supporting to show a cancel\n     * button.\n     */\n    cancellable?: boolean;\n    constructor(location: ProgressLocation, title?: string, cancellable?: boolean) {\n        this.location = location;\n    }\n}\nexport class Progress<T> {\n    /**\n     * Report a progress update.\n     * @param value A progress item, like a message and/or an\n     * report on how much work finished\n     */\n    report(value: T): void {\n    }\n}\nexport enum ProgressLocation {\n    /**\n     * Show progress for the source control viewlet, as overlay for the icon and as progress bar\n     * inside the viewlet (when visible). Neither supports cancellation nor discrete progress.\n     */\n    SourceControl = 1,\n    /**\n     * Show progress in the status bar of the editor. Neither supports cancellation nor discrete progress.\n     */\n    Window = 10,\n    /**\n     * Show progress as notification with an optional cancel button. Supports to show infinite and discrete progress.\n     */\n    Notification = 15\n}\n\nexport class ProcessExecution {\n    private executionProcess: string;\n    private arguments: string[];\n    private executionOptions: theia.ProcessExecutionOptions | undefined;\n\n    constructor(process: string, options?: theia.ProcessExecutionOptions);\n    constructor(process: string, args: string[], options?: theia.ProcessExecutionOptions);\n    constructor(process: string, varg1?: string[] | theia.ProcessExecutionOptions, varg2?: theia.ProcessExecutionOptions) {\n        if (typeof process !== 'string') {\n            throw illegalArgument('process');\n        }\n        this.executionProcess = process;\n        if (varg1 !== undefined) {\n            if (Array.isArray(varg1)) {\n                this.arguments = varg1;\n                this.executionOptions = varg2;\n            } else {\n                this.executionOptions = varg1;\n            }\n        }\n        if (this.arguments === undefined) {\n            this.arguments = [];\n        }\n    }\n\n    get process(): string {\n        return this.executionProcess;\n    }\n\n    set process(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('process');\n        }\n        this.executionProcess = value;\n    }\n\n    get args(): string[] {\n        return this.arguments;\n    }\n\n    set args(value: string[]) {\n        if (!Array.isArray(value)) {\n            value = [];\n        }\n        this.arguments = value;\n    }\n\n    get options(): theia.ProcessExecutionOptions | undefined {\n        return this.executionOptions;\n    }\n\n    set options(value: theia.ProcessExecutionOptions | undefined) {\n        this.executionOptions = value;\n    }\n\n    public computeId(): string {\n        const hash = crypto.createHash('md5');\n        hash.update('process');\n        if (this.executionProcess !== undefined) {\n            hash.update(this.executionProcess);\n        }\n        if (this.arguments && this.arguments.length > 0) {\n            for (const arg of this.arguments) {\n                hash.update(arg);\n            }\n        }\n        return hash.digest('hex');\n    }\n}\n\nexport enum ShellQuoting {\n    Escape = 1,\n    Strong = 2,\n    Weak = 3\n}\n\nexport enum TaskPanelKind {\n    Shared = 1,\n    Dedicated = 2,\n    New = 3\n}\n\nexport enum TaskRevealKind {\n    Always = 1,\n    Silent = 2,\n    Never = 3\n}\n\nexport class ShellExecution {\n    private shellCommandLine: string;\n    private shellCommand: string | theia.ShellQuotedString;\n    private arguments: (string | theia.ShellQuotedString)[];\n    private shellOptions: theia.ShellExecutionOptions | undefined;\n\n    constructor(commandLine: string, options?: theia.ShellExecutionOptions);\n    constructor(command: string | theia.ShellQuotedString, args: (string | theia.ShellQuotedString)[], options?: theia.ShellExecutionOptions);\n\n    constructor(arg0: string | theia.ShellQuotedString, arg1?: theia.ShellExecutionOptions | (string | theia.ShellQuotedString)[], arg2?: theia.ShellExecutionOptions) {\n        if (Array.isArray(arg1) || typeof arg1 === 'string') {\n            if (!arg0) {\n                throw illegalArgument('command can\\'t be undefined or null');\n            }\n            if (typeof arg0 !== 'string' && typeof arg0.value !== 'string') {\n                throw illegalArgument('command');\n            }\n            this.shellCommand = arg0;\n            this.arguments = arg1 as (string | theia.ShellQuotedString)[];\n            this.shellOptions = arg2;\n        } else {\n            if (typeof arg0 !== 'string') {\n                throw illegalArgument('commandLine');\n            }\n            this.shellCommandLine = arg0;\n            this.shellOptions = arg1;\n        }\n    }\n\n    get commandLine(): string {\n        return this.shellCommandLine;\n    }\n\n    set commandLine(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('commandLine');\n        }\n        this.shellCommandLine = value;\n    }\n\n    get command(): string | theia.ShellQuotedString {\n        return this.shellCommand;\n    }\n\n    set command(value: string | theia.ShellQuotedString) {\n        if (typeof value !== 'string' && typeof value.value !== 'string') {\n            throw illegalArgument('command');\n        }\n        this.shellCommand = value;\n    }\n\n    get args(): (string | theia.ShellQuotedString)[] {\n        return this.arguments;\n    }\n\n    set args(value: (string | theia.ShellQuotedString)[]) {\n        this.arguments = value || [];\n    }\n\n    get options(): theia.ShellExecutionOptions | undefined {\n        return this.shellOptions;\n    }\n\n    set options(value: theia.ShellExecutionOptions | undefined) {\n        this.shellOptions = value;\n    }\n\n    public computeId(): string {\n        const hash = crypto.createHash('md5');\n        hash.update('shell');\n        if (this.shellCommandLine !== undefined) {\n            hash.update(this.shellCommandLine);\n        }\n        if (this.shellCommand !== undefined) {\n            hash.update(typeof this.shellCommand === 'string' ? this.shellCommand : this.shellCommand.value);\n        }\n        if (this.arguments && this.arguments.length > 0) {\n            for (const arg of this.arguments) {\n                hash.update(typeof arg === 'string' ? arg : arg.value);\n            }\n        }\n        return hash.digest('hex');\n    }\n}\n\nexport class TaskGroup {\n    private groupId: string;\n\n    public static Clean: TaskGroup = new TaskGroup('clean', 'Clean');\n    public static Build: TaskGroup = new TaskGroup('build', 'Build');\n    public static Rebuild: TaskGroup = new TaskGroup('rebuild', 'Rebuild');\n    public static Test: TaskGroup = new TaskGroup('test', 'Test');\n\n    public static from(value: string) {\n        switch (value) {\n            case 'clean':\n                return TaskGroup.Clean;\n            case 'build':\n                return TaskGroup.Build;\n            case 'rebuild':\n                return TaskGroup.Rebuild;\n            case 'test':\n                return TaskGroup.Test;\n            default:\n                return undefined;\n        }\n    }\n\n    constructor(id: string, label: string) {\n        if (typeof id !== 'string') {\n            throw illegalArgument('id');\n        }\n        if (typeof label !== 'string') {\n            throw illegalArgument('name');\n        }\n        this.groupId = id;\n    }\n\n    get id(): string {\n        return this.groupId;\n    }\n}\n\nexport enum TaskScope {\n    Global = 1,\n    Workspace = 2\n}\n\nexport class Task {\n    private taskDefinition: theia.TaskDefinition | undefined;\n    private taskScope: theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined;\n    private taskName: string;\n    private taskExecution: ProcessExecution | ShellExecution | undefined;\n    private taskProblemMatchers: string[];\n    private hasTaskProblemMatchers: boolean;\n    private isTaskBackground: boolean;\n    private taskSource: string;\n    private taskGroup: TaskGroup | undefined;\n    private taskPresentationOptions: theia.TaskPresentationOptions | undefined;\n\n    constructor(taskDefinition: theia.TaskDefinition,\n        scope: theia.WorkspaceFolder | theia.TaskScope.Global | theia.TaskScope.Workspace,\n        name: string,\n        source: string,\n        execution?: ProcessExecution | ShellExecution,\n        problemMatchers?: string | string[]) {\n\n        this.definition = taskDefinition;\n        this.scope = scope;\n        this.name = name;\n        this.source = source;\n        this.execution = execution;\n\n        if (typeof problemMatchers === 'string') {\n            this.taskProblemMatchers = [problemMatchers];\n            this.hasTaskProblemMatchers = true;\n        } else if (Array.isArray(problemMatchers)) {\n            this.taskProblemMatchers = problemMatchers;\n            this.hasTaskProblemMatchers = true;\n        } else {\n            this.taskProblemMatchers = [];\n            this.hasTaskProblemMatchers = false;\n        }\n        this.isTaskBackground = false;\n    }\n\n    get definition(): theia.TaskDefinition | undefined {\n        return this.taskDefinition;\n    }\n\n    set definition(value: theia.TaskDefinition | undefined) {\n        if (value === undefined || value === null) {\n            throw illegalArgument('Kind can\\'t be undefined or null');\n        }\n        this.clear();\n        this.taskDefinition = value;\n    }\n\n    get scope(): theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined {\n        return this.taskScope;\n    }\n\n    set scope(value: theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined) {\n        this.clear();\n        this.taskScope = value;\n    }\n\n    get name(): string {\n        return this.taskName;\n    }\n\n    set name(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('name');\n        }\n        this.clear();\n        this.taskName = value;\n    }\n\n    get execution(): ProcessExecution | ShellExecution | undefined {\n        return this.taskExecution;\n    }\n\n    set execution(value: ProcessExecution | ShellExecution | undefined) {\n        if (value === null) {\n            value = undefined;\n        }\n        this.clear();\n        this.taskExecution = value;\n    }\n\n    get problemMatchers(): string[] {\n        return this.taskProblemMatchers;\n    }\n\n    set problemMatchers(value: string[]) {\n        if (!Array.isArray(value)) {\n            this.taskProblemMatchers = [];\n            this.hasTaskProblemMatchers = false;\n            return;\n        }\n        this.clear();\n        this.taskProblemMatchers = value;\n        this.hasTaskProblemMatchers = true;\n    }\n\n    get hasProblemMatchers(): boolean {\n        return this.hasTaskProblemMatchers;\n    }\n\n    get isBackground(): boolean {\n        return this.isTaskBackground;\n    }\n\n    set isBackground(value: boolean) {\n        if (value !== true && value !== false) {\n            value = false;\n        }\n        this.clear();\n        this.isTaskBackground = value;\n    }\n\n    get source(): string {\n        return this.taskSource;\n    }\n\n    set source(value: string) {\n        if (typeof value !== 'string' || value.length === 0) {\n            throw illegalArgument('source must be a string of length > 0');\n        }\n        this.clear();\n        this.taskSource = value;\n    }\n\n    get group(): TaskGroup | undefined {\n        return this.taskGroup;\n    }\n\n    set group(value: TaskGroup | undefined) {\n        if (value === undefined || value === null) {\n            this.taskGroup = undefined;\n            return;\n        }\n        this.clear();\n        this.taskGroup = value;\n    }\n\n    get presentationOptions(): theia.TaskPresentationOptions | undefined {\n        return this.taskPresentationOptions;\n    }\n\n    set presentationOptions(value: theia.TaskPresentationOptions | undefined) {\n        if (value === null) {\n            value = undefined;\n        }\n        this.clear();\n        this.taskPresentationOptions = value;\n    }\n\n    private clear(): void {\n        this.taskScope = undefined;\n        this.taskDefinition = undefined;\n        if (this.taskExecution instanceof ProcessExecution) {\n            this.taskDefinition = {\n                type: 'process',\n                id: this.taskExecution.computeId()\n            };\n        } else if (this.taskExecution instanceof ShellExecution) {\n            this.taskDefinition = {\n                type: 'shell',\n                id: this.taskExecution.computeId()\n            };\n        }\n    }\n}\n\n/**\n * The base class of all breakpoint types.\n */\nexport class Breakpoint {\n    /**\n     * Is breakpoint enabled.\n     */\n    enabled: boolean;\n    /**\n     * An optional expression for conditional breakpoints.\n     */\n    condition?: string;\n    /**\n     * An optional expression that controls how many hits of the breakpoint are ignored.\n     */\n    hitCondition?: string;\n    /**\n     * An optional message that gets logged when this breakpoint is hit. Embedded expressions within {} are interpolated by the debug adapter.\n     */\n    logMessage?: string;\n\n    protected constructor(enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        this.enabled = enabled || false;\n        this.condition = condition;\n        this.hitCondition = hitCondition;\n        this.logMessage = logMessage;\n    }\n}\n\n/**\n * A breakpoint specified by a source location.\n */\nexport class SourceBreakpoint extends Breakpoint {\n    /**\n     * The source and line position of this breakpoint.\n     */\n    location: Location;\n\n    /**\n     * Create a new breakpoint for a source location.\n     */\n    constructor(location: Location, enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        super(enabled, condition, hitCondition, logMessage);\n        this.location = location;\n    }\n}\n\n/**\n * A breakpoint specified by a function name.\n */\nexport class FunctionBreakpoint extends Breakpoint {\n    /**\n     * The name of the function to which this breakpoint is attached.\n     */\n    functionName: string;\n\n    /**\n     * Create a new function breakpoint.\n     */\n    constructor(functionName: string, enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        super(enabled, condition, hitCondition, logMessage);\n        this.functionName = functionName;\n    }\n}\n\nexport class Color {\n    readonly red: number;\n    readonly green: number;\n    readonly blue: number;\n    readonly alpha: number;\n\n    constructor(red: number, green: number, blue: number, alpha: number) {\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n}\n\nexport class ColorInformation {\n    range: Range;\n    color: Color;\n\n    constructor(range: Range, color: Color) {\n        if (color && !(color instanceof Color)) {\n            throw illegalArgument('color');\n        }\n        if (!Range.isRange(range)) {\n            throw illegalArgument('range');\n        }\n        this.range = range;\n        this.color = color;\n    }\n}\n\nexport class ColorPresentation {\n    label: string;\n    textEdit?: TextEdit;\n    additionalTextEdits?: TextEdit[];\n\n    constructor(label: string) {\n        if (!label || typeof label !== 'string') {\n            throw illegalArgument('label');\n        }\n        this.label = label;\n    }\n}\n\nexport enum ColorFormat {\n    RGB = 0,\n    HEX = 1,\n    HSL = 2\n}\n\nexport class FoldingRange {\n    start: number;\n    end: number;\n    kind?: FoldingRangeKind;\n\n    constructor(start: number, end: number, kind?: FoldingRangeKind) {\n        this.start = start;\n        this.end = end;\n        this.kind = kind;\n    }\n}\n\nexport enum FoldingRangeKind {\n    Comment = 1,\n    Imports = 2,\n    Region = 3\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// tslint:disable:no-any\n\nimport { Disposable } from './disposable';\n\n/**\n * Represents a typed event.\n */\nexport interface Event<T> {\n\n    /**\n     *\n     * @param listener The listener function will be call when the event happens.\n     * @param thisArgs The 'this' which will be used when calling the event listener.\n     * @param disposables An array to which a {{IDisposable}} will be added.\n     * @return a disposable to remove the listener again.\n     */\n    (listener: (e: T) => any, thisArgs?: any, disposables?: Disposable[]): Disposable;\n    /**\n     * An emitter will print a warning if more listeners are added for this event.\n     * The event.maxListeners allows the limit to be modified for this specific event.\n     * The value can be set to 0 to indicate an unlimited number of listener.\n     */\n    maxListeners: number\n}\n\nexport namespace Event {\n    const _disposable = { dispose() { } };\n    export const None: Event<any> = Object.assign(function () { return _disposable; }, {\n        get maxListeners(): number { return 0; },\n        set maxListeners(maxListeners: number) { }\n    });\n\n    /**\n     * Given an event and a `map` function, returns another event which maps each element\n     * through the mapping function.\n     */\n    export function map<I, O>(event: Event<I>, mapFunc: (i: I) => O): Event<O> {\n        return Object.assign((listener: (e: O) => any, thisArgs?: any, disposables?: Disposable[]) =>\n            event(i => listener.call(thisArgs, mapFunc(i)), undefined, disposables)\n            , {\n                maxListeners: 0\n            }\n        );\n    }\n}\n\nclass CallbackList {\n\n    private _callbacks: Function[] | undefined;\n    private _contexts: any[] | undefined;\n\n    get length(): number {\n        return this._callbacks && this._callbacks.length || 0;\n    }\n\n    public add(callback: Function, context: any = undefined, bucket?: Disposable[]): void {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts!.push(context);\n\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n\n    public remove(callback: Function, context: any = undefined): void {\n        if (!this._callbacks) {\n            return;\n        }\n\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0; i < this._callbacks.length; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts![i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts!.splice(i, 1);\n                    return;\n                } else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n\n    public invoke(...args: any[]): any[] {\n        if (!this._callbacks) {\n            return [];\n        }\n\n        const ret: any[] = [];\n        const callbacks = this._callbacks.slice(0);\n        const contexts = this._contexts!.slice(0);\n\n        for (let i = 0; i < callbacks.length; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        return ret;\n    }\n\n    public isEmpty(): boolean {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n\n    public dispose(): void {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\n\nexport interface EmitterOptions {\n    onFirstListenerAdd?: Function;\n    onLastListenerRemove?: Function;\n}\n\nexport class Emitter<T> {\n\n    private static _noop = function () { };\n\n    private _event: Event<T>;\n    private _callbacks: CallbackList | undefined;\n    private _disposed = false;\n\n    constructor(private _options?: EmitterOptions) {\n    }\n\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event(): Event<T> {\n        if (!this._event) {\n            this._event = Object.assign((listener: (e: T) => any, thisArgs?: any, disposables?: Disposable[]) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                this.checkMaxListeners(this._event.maxListeners);\n\n                let result: Disposable;\n                result = {\n                    dispose: () => {\n                        result.dispose = Emitter._noop;\n                        if (!this._disposed) {\n                            this._callbacks!.remove(listener, thisArgs);\n                            result.dispose = Emitter._noop;\n                            if (this._options && this._options.onLastListenerRemove && this._callbacks!.isEmpty()) {\n                                this._options.onLastListenerRemove(this);\n                            }\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n\n                return result;\n            }, {\n                    maxListeners: 30\n                }\n            );\n        }\n        return this._event;\n    }\n\n    protected checkMaxListeners(maxListeners: number): void {\n        if (maxListeners === 0 || !this._callbacks) {\n            return;\n        }\n        const count = this._callbacks.length;\n        if (count > maxListeners) {\n            console.warn(new Error(`Possible Emitter memory leak detected. ${maxListeners} exit listeners added. Use event.maxListeners to increase limit`));\n        }\n    }\n\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event: T): any {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n        this._disposed = true;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Event } from 'vscode-jsonrpc';\n\n/**\n * Provides a token (for now it's a NONE)\n */\n// tslint:disable-next-line:no-any\nexport function createToken(): any {\n    return Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret) {\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n */\nvar URI = (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment) {\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = schemeOrData || _empty;\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return _makeFsPath(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === void 0) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === void 0) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === void 0) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === void 0) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === void 0) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value) {\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, decodeURIComponent(match[4] || _empty), decodeURIComponent(match[5] || _empty), decodeURIComponent(match[7] || _empty), decodeURIComponent(match[9] || _empty));\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string presentation for this URI. It's guardeed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._fsPath = data.fsPath;\n            result._formatted = data.external;\n            return result;\n        }\n    };\n    return URI;\n}());\nexport default URI;\n// tslint:disable-next-line:class-name\nvar _URI = (function (_super) {\n    __extends(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = _makeFsPath(this);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n * @param uri\n */\nfunction _makeFsPath(uri) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        // windows drive letter: file:///c:/far/boo\n        value = uri.path[1].toLowerCase() + uri.path.substr(2);\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\nvar _a;\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toString = Object.prototype.toString;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return toString.call(value) === '[object Error]';\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return toString.call(value) === '[object Function]';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(function (elem) { return string(elem); });\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar events_1 = require(\"./events\");\r\nvar Is = require(\"./is\");\r\nvar DefaultSize = 8192;\r\nvar CR = new Buffer('\\r', 'ascii')[0];\r\nvar LF = new Buffer('\\n', 'ascii')[0];\r\nvar CRLF = '\\r\\n';\r\nvar MessageBuffer = /** @class */ (function () {\r\n    function MessageBuffer(encoding) {\r\n        if (encoding === void 0) { encoding = 'utf8'; }\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = new Buffer(DefaultSize);\r\n    }\r\n    MessageBuffer.prototype.append = function (chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = new Buffer(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = new Buffer(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    };\r\n    MessageBuffer.prototype.tryReadHeaders = function () {\r\n        var result = undefined;\r\n        var current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        var headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach(function (header) {\r\n            var index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            var key = header.substr(0, index);\r\n            var value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        var nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    };\r\n    MessageBuffer.prototype.tryReadContent = function (length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        var result = this.buffer.toString(this.encoding, 0, length);\r\n        var nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    };\r\n    Object.defineProperty(MessageBuffer.prototype, \"numberOfBytes\", {\r\n        get: function () {\r\n            return this.index;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return MessageBuffer;\r\n}());\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nvar AbstractMessageReader = /** @class */ (function () {\r\n    function AbstractMessageReader() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    AbstractMessageReader.prototype.dispose = function () {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    };\r\n    Object.defineProperty(AbstractMessageReader.prototype, \"onError\", {\r\n        get: function () {\r\n            return this.errorEmitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMessageReader.prototype.fireError = function (error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    };\r\n    Object.defineProperty(AbstractMessageReader.prototype, \"onClose\", {\r\n        get: function () {\r\n            return this.closeEmitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMessageReader.prototype.fireClose = function () {\r\n        this.closeEmitter.fire(undefined);\r\n    };\r\n    Object.defineProperty(AbstractMessageReader.prototype, \"onPartialMessage\", {\r\n        get: function () {\r\n            return this.partialMessageEmitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMessageReader.prototype.firePartialMessage = function (info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    };\r\n    AbstractMessageReader.prototype.asError = function (error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(\"Reader recevied error. Reason: \" + (Is.string(error.message) ? error.message : 'unknown'));\r\n        }\r\n    };\r\n    return AbstractMessageReader;\r\n}());\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nvar StreamMessageReader = /** @class */ (function (_super) {\r\n    __extends(StreamMessageReader, _super);\r\n    function StreamMessageReader(readable, encoding) {\r\n        if (encoding === void 0) { encoding = 'utf8'; }\r\n        var _this = _super.call(this) || this;\r\n        _this.readable = readable;\r\n        _this.buffer = new MessageBuffer(encoding);\r\n        _this._partialMessageTimeout = 10000;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StreamMessageReader.prototype, \"partialMessageTimeout\", {\r\n        get: function () {\r\n            return this._partialMessageTimeout;\r\n        },\r\n        set: function (timeout) {\r\n            this._partialMessageTimeout = timeout;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    StreamMessageReader.prototype.listen = function (callback) {\r\n        var _this = this;\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', function (data) {\r\n            _this.onData(data);\r\n        });\r\n        this.readable.on('error', function (error) { return _this.fireError(error); });\r\n        this.readable.on('close', function () { return _this.fireClose(); });\r\n    };\r\n    StreamMessageReader.prototype.onData = function (data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                var headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                var contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                var length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    };\r\n    StreamMessageReader.prototype.clearPartialMessageTimer = function () {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    };\r\n    StreamMessageReader.prototype.setPartialMessageTimer = function () {\r\n        var _this = this;\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout(function (token, timeout) {\r\n            _this.partialMessageTimer = undefined;\r\n            if (token === _this.messageToken) {\r\n                _this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                _this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    };\r\n    return StreamMessageReader;\r\n}(AbstractMessageReader));\r\nexports.StreamMessageReader = StreamMessageReader;\r\nvar IPCMessageReader = /** @class */ (function (_super) {\r\n    __extends(IPCMessageReader, _super);\r\n    function IPCMessageReader(process) {\r\n        var _this = _super.call(this) || this;\r\n        _this.process = process;\r\n        var eventEmitter = _this.process;\r\n        eventEmitter.on('error', function (error) { return _this.fireError(error); });\r\n        eventEmitter.on('close', function () { return _this.fireClose(); });\r\n        return _this;\r\n    }\r\n    IPCMessageReader.prototype.listen = function (callback) {\r\n        this.process.on('message', callback);\r\n    };\r\n    return IPCMessageReader;\r\n}(AbstractMessageReader));\r\nexports.IPCMessageReader = IPCMessageReader;\r\nvar SocketMessageReader = /** @class */ (function (_super) {\r\n    __extends(SocketMessageReader, _super);\r\n    function SocketMessageReader(socket, encoding) {\r\n        if (encoding === void 0) { encoding = 'utf-8'; }\r\n        return _super.call(this, socket, encoding) || this;\r\n    }\r\n    return SocketMessageReader;\r\n}(StreamMessageReader));\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    var _disposable = { dispose: function () { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nvar CallbackList = /** @class */ (function () {\r\n    function CallbackList() {\r\n    }\r\n    CallbackList.prototype.add = function (callback, context, bucket) {\r\n        var _this = this;\r\n        if (context === void 0) { context = null; }\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: function () { return _this.remove(callback, context); } });\r\n        }\r\n    };\r\n    CallbackList.prototype.remove = function (callback, context) {\r\n        if (context === void 0) { context = null; }\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    };\r\n    CallbackList.prototype.invoke = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n    CallbackList.prototype.isEmpty = function () {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    };\r\n    CallbackList.prototype.dispose = function () {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    };\r\n    return CallbackList;\r\n}());\r\nvar Emitter = /** @class */ (function () {\r\n    function Emitter(_options) {\r\n        this._options = _options;\r\n    }\r\n    Object.defineProperty(Emitter.prototype, \"event\", {\r\n        /**\r\n         * For the public to allow to subscribe\r\n         * to events from this Emitter\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._event) {\r\n                this._event = function (listener, thisArgs, disposables) {\r\n                    if (!_this._callbacks) {\r\n                        _this._callbacks = new CallbackList();\r\n                    }\r\n                    if (_this._options && _this._options.onFirstListenerAdd && _this._callbacks.isEmpty()) {\r\n                        _this._options.onFirstListenerAdd(_this);\r\n                    }\r\n                    _this._callbacks.add(listener, thisArgs);\r\n                    var result;\r\n                    result = {\r\n                        dispose: function () {\r\n                            _this._callbacks.remove(listener, thisArgs);\r\n                            result.dispose = Emitter._noop;\r\n                            if (_this._options && _this._options.onLastListenerRemove && _this._callbacks.isEmpty()) {\r\n                                _this._options.onLastListenerRemove(_this);\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(disposables)) {\r\n                        disposables.push(result);\r\n                    }\r\n                    return result;\r\n                };\r\n            }\r\n            return this._event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    Emitter.prototype.fire = function (event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    };\r\n    Emitter.prototype.dispose = function () {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    };\r\n    Emitter._noop = function () { };\r\n    return Emitter;\r\n}());\r\nexports.Emitter = Emitter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar events_1 = require(\"./events\");\r\nvar Is = require(\"./is\");\r\nvar ContentLength = 'Content-Length: ';\r\nvar CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nvar AbstractMessageWriter = /** @class */ (function () {\r\n    function AbstractMessageWriter() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    AbstractMessageWriter.prototype.dispose = function () {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    };\r\n    Object.defineProperty(AbstractMessageWriter.prototype, \"onError\", {\r\n        get: function () {\r\n            return this.errorEmitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMessageWriter.prototype.fireError = function (error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    };\r\n    Object.defineProperty(AbstractMessageWriter.prototype, \"onClose\", {\r\n        get: function () {\r\n            return this.closeEmitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMessageWriter.prototype.fireClose = function () {\r\n        this.closeEmitter.fire(undefined);\r\n    };\r\n    AbstractMessageWriter.prototype.asError = function (error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(\"Writer recevied error. Reason: \" + (Is.string(error.message) ? error.message : 'unknown'));\r\n        }\r\n    };\r\n    return AbstractMessageWriter;\r\n}());\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nvar StreamMessageWriter = /** @class */ (function (_super) {\r\n    __extends(StreamMessageWriter, _super);\r\n    function StreamMessageWriter(writable, encoding) {\r\n        if (encoding === void 0) { encoding = 'utf8'; }\r\n        var _this = _super.call(this) || this;\r\n        _this.writable = writable;\r\n        _this.encoding = encoding;\r\n        _this.errorCount = 0;\r\n        _this.writable.on('error', function (error) { return _this.fireError(error); });\r\n        _this.writable.on('close', function () { return _this.fireClose(); });\r\n        return _this;\r\n    }\r\n    StreamMessageWriter.prototype.write = function (msg) {\r\n        var json = JSON.stringify(msg);\r\n        var contentLength = Buffer.byteLength(json, this.encoding);\r\n        var headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    };\r\n    return StreamMessageWriter;\r\n}(AbstractMessageWriter));\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nvar IPCMessageWriter = /** @class */ (function (_super) {\r\n    __extends(IPCMessageWriter, _super);\r\n    function IPCMessageWriter(process) {\r\n        var _this = _super.call(this) || this;\r\n        _this.process = process;\r\n        _this.errorCount = 0;\r\n        _this.queue = [];\r\n        _this.sending = false;\r\n        var eventEmitter = _this.process;\r\n        eventEmitter.on('error', function (error) { return _this.fireError(error); });\r\n        eventEmitter.on('close', function () { return _this.fireClose; });\r\n        return _this;\r\n    }\r\n    IPCMessageWriter.prototype.write = function (msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    };\r\n    IPCMessageWriter.prototype.doWriteMessage = function (msg) {\r\n        var _this = this;\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, function (error) {\r\n                    _this.sending = false;\r\n                    if (error) {\r\n                        _this.errorCount++;\r\n                        _this.fireError(error, msg, _this.errorCount);\r\n                    }\r\n                    else {\r\n                        _this.errorCount = 0;\r\n                    }\r\n                    if (_this.queue.length > 0) {\r\n                        _this.doWriteMessage(_this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    };\r\n    return IPCMessageWriter;\r\n}(AbstractMessageWriter));\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nvar SocketMessageWriter = /** @class */ (function (_super) {\r\n    __extends(SocketMessageWriter, _super);\r\n    function SocketMessageWriter(socket, encoding) {\r\n        if (encoding === void 0) { encoding = 'utf8'; }\r\n        var _this = _super.call(this) || this;\r\n        _this.socket = socket;\r\n        _this.queue = [];\r\n        _this.sending = false;\r\n        _this.encoding = encoding;\r\n        _this.errorCount = 0;\r\n        _this.socket.on('error', function (error) { return _this.fireError(error); });\r\n        _this.socket.on('close', function () { return _this.fireClose(); });\r\n        return _this;\r\n    }\r\n    SocketMessageWriter.prototype.write = function (msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    };\r\n    SocketMessageWriter.prototype.doWriteMessage = function (msg) {\r\n        var _this = this;\r\n        var json = JSON.stringify(msg);\r\n        var contentLength = Buffer.byteLength(json, this.encoding);\r\n        var headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', function (error) {\r\n                if (error) {\r\n                    _this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    _this.socket.write(json, _this.encoding, function (error) {\r\n                        _this.sending = false;\r\n                        if (error) {\r\n                            _this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            _this.errorCount = 0;\r\n                        }\r\n                        if (_this.queue.length > 0) {\r\n                            _this.doWriteMessage(_this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    _this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    };\r\n    SocketMessageWriter.prototype.handleError = function (error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    };\r\n    return SocketMessageWriter;\r\n}(AbstractMessageWriter));\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface ObjectIdentifier {\n    $ident: number;\n}\n\nexport namespace ObjectIdentifier {\n    export const name = '$ident';\n\n    export function mixin<T>(obj: T, id: number): T & ObjectIdentifier {\n        Object.defineProperty(obj, name, { value: id, enumerable: true });\n        return <T & ObjectIdentifier>obj;\n    }\n\n    // tslint:disable-next-line:no-any\n    export function of(obj: any): number {\n        return obj[name];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Event, Emitter } from './event';\n\nexport interface Disposable {\n    /**\n     * Dispose this object.\n     */\n    dispose(): void;\n}\n\nexport namespace Disposable {\n    export function create(func: () => void): Disposable {\n        return {\n            dispose: func\n        };\n    }\n    export const NULL = create(() => { });\n}\n\nexport class DisposableCollection implements Disposable {\n\n    protected readonly disposables: Disposable[] = [];\n    protected readonly onDisposeEmitter = new Emitter<void>();\n\n    constructor(...toDispose: Disposable[]) {\n        toDispose.forEach(d => this.push(d));\n    }\n\n    get onDispose(): Event<void> {\n        return this.onDisposeEmitter.event;\n    }\n\n    protected checkDisposed(): void {\n        if (this.disposed && !this.disposingElements) {\n            this.onDisposeEmitter.fire(undefined);\n        }\n    }\n\n    get disposed(): boolean {\n        return this.disposables.length === 0;\n    }\n\n    private disposingElements = false;\n    dispose(): void {\n        if (this.disposed || this.disposingElements) {\n            return;\n        }\n        this.disposingElements = true;\n        while (!this.disposed) {\n            try {\n                this.disposables.pop()!.dispose();\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        this.disposingElements = false;\n        this.checkDisposed();\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        const originalDispose = disposable.dispose.bind(disposable);\n        const toRemove = Disposable.create(() => {\n            const index = disposables.indexOf(disposable);\n            if (index !== -1) {\n                disposables.splice(index, 1);\n            }\n            this.checkDisposed();\n        });\n        disposable.dispose = () => {\n            toRemove.dispose();\n            originalDispose();\n        };\n        return toRemove;\n    }\n\n    pushAll(disposables: Disposable[]): Disposable[] {\n        return disposables.map(disposable =>\n            this.push(disposable)\n        );\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Is = require(\"./is\");\r\nvar messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nvar messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nvar messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nvar events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nvar cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nvar linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: function () { },\r\n    warn: function () { },\r\n    info: function () { },\r\n    log: function () { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nvar ConnectionError = /** @class */ (function (_super) {\r\n    __extends(ConnectionError, _super);\r\n    function ConnectionError(code, message) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.code = code;\r\n        Object.setPrototypeOf(_this, ConnectionError.prototype);\r\n        return _this;\r\n    }\r\n    return ConnectionError;\r\n}(Error));\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    var sequenceNumber = 0;\r\n    var notificationSquenceNumber = 0;\r\n    var unknownResponseSquenceNumber = 0;\r\n    var version = '2.0';\r\n    var starRequestHandler = undefined;\r\n    var requestHandlers = Object.create(null);\r\n    var starNotificationHandler = undefined;\r\n    var notificationHandlers = Object.create(null);\r\n    var timer;\r\n    var messageQueue = new linkedMap_1.LinkedMap();\r\n    var responsePromises = Object.create(null);\r\n    var requestTokens = Object.create(null);\r\n    var trace = Trace.Off;\r\n    var tracer;\r\n    var state = ConnectionState.New;\r\n    var errorEmitter = new events_1.Emitter();\r\n    var closeEmitter = new events_1.Emitter();\r\n    var unhandledNotificationEmitter = new events_1.Emitter();\r\n    var disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(function () {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        var message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    var callback = function (message) {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                var key = createRequestQueueKey(message.params.id);\r\n                var toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    var response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            var message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            var message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            var message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        var element = requestHandlers[requestMessage.method];\r\n        var type;\r\n        var requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        var startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            var cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            var tokenKey_1 = String(requestMessage.id);\r\n            requestTokens[tokenKey_1] = cancellationSource;\r\n            try {\r\n                var handlerResult = void 0;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler.apply(void 0, requestMessage.params.concat([cancellationSource.token])) : starRequestHandler.apply(void 0, [requestMessage.method].concat(requestMessage.params, [cancellationSource.token]));\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                var promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey_1];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then(function (resultOrError) {\r\n                        delete requestTokens[tokenKey_1];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, function (error) {\r\n                        delete requestTokens[tokenKey_1];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, \"Request \" + requestMessage.method + \" failed with message: \" + error.message), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, \"Request \" + requestMessage.method + \" failed unexpectedly without providing any details.\"), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey_1];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey_1];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, \"Request \" + requestMessage.method + \" failed with message: \" + error.message), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, \"Request \" + requestMessage.method + \" failed unexpectedly without providing any details.\"), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, \"Unhandled method \" + requestMessage.method), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(\"Received response message without id: Error is: \\n\" + JSON.stringify(responseMessage.error, undefined, 4));\r\n            }\r\n            else {\r\n                logger.error(\"Received response message without id. No further error information provided.\");\r\n            }\r\n        }\r\n        else {\r\n            var key = String(responseMessage.id);\r\n            var responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        var error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(\"Response handler '\" + responsePromise.method + \"' failed with message: \" + error.message);\r\n                    }\r\n                    else {\r\n                        logger.error(\"Response handler '\" + responsePromise.method + \"' failed unexpectedly.\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        var type = undefined;\r\n        var notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = function (params) {\r\n                var id = params.id;\r\n                var source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            var element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler.apply(void 0, message.params) : starNotificationHandler.apply(void 0, [message.method].concat(message.params));\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(\"Notification handler '\" + message.method + \"' failed with message: \" + error.message);\r\n                }\r\n                else {\r\n                    logger.error(\"Notification handler '\" + message.method + \"' failed unexpectedly.\");\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(\"Received message which is neither a response nor a notification message:\\n\" + JSON.stringify(message, null, 4));\r\n        // Test whether we find an id to reject the promise\r\n        var responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            var key = String(responseMessage.id);\r\n            var responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose && message.params) {\r\n            data = \"Params: \" + JSON.stringify(message.params, null, 4) + \"\\n\\n\";\r\n        }\r\n        tracer.log(\"Sending request '\" + message.method + \" - (\" + message.id + \")'.\", data);\r\n    }\r\n    function traceSendNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose) {\r\n            if (message.params) {\r\n                data = \"Params: \" + JSON.stringify(message.params, null, 4) + \"\\n\\n\";\r\n            }\r\n            else {\r\n                data = 'No parameters provided.\\n\\n';\r\n            }\r\n        }\r\n        tracer.log(\"Sending notification '\" + message.method + \"'.\", data);\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose) {\r\n            if (message.error && message.error.data) {\r\n                data = \"Error data: \" + JSON.stringify(message.error.data, null, 4) + \"\\n\\n\";\r\n            }\r\n            else {\r\n                if (message.result) {\r\n                    data = \"Result: \" + JSON.stringify(message.result, null, 4) + \"\\n\\n\";\r\n                }\r\n                else if (message.error === void 0) {\r\n                    data = 'No result returned.\\n\\n';\r\n                }\r\n            }\r\n        }\r\n        tracer.log(\"Sending response '\" + method + \" - (\" + message.id + \")'. Processing request took \" + (Date.now() - startTime) + \"ms\", data);\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose && message.params) {\r\n            data = \"Params: \" + JSON.stringify(message.params, null, 4) + \"\\n\\n\";\r\n        }\r\n        tracer.log(\"Received request '\" + message.method + \" - (\" + message.id + \")'.\", data);\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose) {\r\n            if (message.params) {\r\n                data = \"Params: \" + JSON.stringify(message.params, null, 4) + \"\\n\\n\";\r\n            }\r\n            else {\r\n                data = 'No parameters provided.\\n\\n';\r\n            }\r\n        }\r\n        tracer.log(\"Received notification '\" + message.method + \"'.\", data);\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        var data = undefined;\r\n        if (trace === Trace.Verbose) {\r\n            if (message.error && message.error.data) {\r\n                data = \"Error data: \" + JSON.stringify(message.error.data, null, 4) + \"\\n\\n\";\r\n            }\r\n            else {\r\n                if (message.result) {\r\n                    data = \"Result: \" + JSON.stringify(message.result, null, 4) + \"\\n\\n\";\r\n                }\r\n                else if (message.error === void 0) {\r\n                    data = 'No result returned.\\n\\n';\r\n                }\r\n            }\r\n        }\r\n        if (responsePromise) {\r\n            var error = message.error ? \" Request failed: \" + message.error.message + \" (\" + message.error.code + \").\" : '';\r\n            tracer.log(\"Received response '\" + responsePromise.method + \" - (\" + message.id + \")' in \" + (Date.now() - responsePromise.timerStart) + \"ms.\" + error, data);\r\n        }\r\n        else {\r\n            tracer.log(\"Received response \" + message.id + \" without active response promise.\", data);\r\n        }\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        var result;\r\n        var numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (var i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (var i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    var connection = {\r\n        sendNotification: function (type) {\r\n            var params = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                params[_i - 1] = arguments[_i];\r\n            }\r\n            throwIfClosedOrDisposed();\r\n            var method;\r\n            var messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            var notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: function (type, handler) {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler: handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type: type, handler: handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: function (type) {\r\n            var params = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                params[_i - 1] = arguments[_i];\r\n            }\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            var method;\r\n            var messageParams;\r\n            var token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        var last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(function (value) { return undefinedToNull(value); });\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(function (value) { return undefinedToNull(value); });\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                var numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            var id = sequenceNumber++;\r\n            var result = new Promise(function (resolve, reject) {\r\n                var requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                var responsePromise = { method: method, timerStart: Date.now(), resolve: resolve, reject: reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(function () {\r\n                    connection.sendNotification(CancelNotification.type, { id: id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: function (type, handler) {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler: handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type: type, handler: handler };\r\n                }\r\n            }\r\n        },\r\n        trace: function (_value, _tracer, sendNotification) {\r\n            if (sendNotification === void 0) { sendNotification = false; }\r\n            trace = _value;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: function () {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            var error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach(function (key) {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: function () {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: function () {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, function (params) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    var reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    var writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport * as types from '../types-impl';\n\n/* tslint:disable-next-line:no-any */\nexport function isLocationArray(array: any): array is types.Location[] {\n    return Array.isArray(array) && array.length > 0 && array[0] instanceof types.Location;\n}\n\n/* tslint:disable-next-line:no-any */\nexport function isDefinitionLinkArray(array: any): array is theia.DefinitionLink[] {\n    return Array.isArray(array) && array.length > 0 && array[0].hasOwnProperty('targetUri') && array[0].hasOwnProperty('targetRange');\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nEmitter._noop = function () { };\r\nexports.Emitter = Emitter;\r\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * Simple implementation of the deferred pattern.\n * An object that exposes a promise and functions to resolve and reject it.\n */\nexport class Deferred<T> {\n    resolve: (value?: T) => void;\n    reject: (err?: any) => void; // tslint:disable-line\n\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = resolve;\n        this.reject = reject;\n    });\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/paths.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { startsWithIgnoreCase } from './strings';\nimport { isWindows } from '@theia/core/lib/common/os';\nimport { CharCode } from './char-code';\n\n/**\n * The forward slash path separator.\n */\nexport const sep = '/';\n\n/**\n * The native path separator depending on the OS.\n */\nexport const nativeSep = isWindows ? '\\\\' : '/';\n\nconst _posixBadPath = /(\\/\\.\\.?\\/)|(\\/\\.\\.?)$|^(\\.\\.?\\/)|(\\/\\/+)|(\\\\)/;\nconst _winBadPath = /(\\\\\\.\\.?\\\\)|(\\\\\\.\\.?)$|^(\\.\\.?\\\\)|(\\\\\\\\+)|(\\/)/;\n\nfunction _isNormal(path: string, win: boolean): boolean {\n    return win\n        ? !_winBadPath.test(path)\n        : !_posixBadPath.test(path);\n}\n\n/**\n * @returns the base name of a path.\n */\nexport function basename(path: string): string {\n    const idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\\\');\n    if (idx === 0) {\n        return path;\n    } else if (~idx === path.length - 1) {\n        return basename(path.substring(0, path.length - 1));\n    } else {\n        return path.substr(~idx + 1);\n    }\n}\n\n/**\n * @returns `.far` from `boo.far` or the empty string.\n */\nexport function extname(path: string): string {\n    path = basename(path);\n    const idx = ~path.lastIndexOf('.');\n    return idx ? path.substring(~idx) : '';\n}\n\nexport function normalize(path: string, toOSPath?: boolean): string {\n\n    if (path === null || path === void 0) {\n        return path;\n    }\n\n    const len = path.length;\n    if (len === 0) {\n        return '.';\n    }\n\n    const wantsBackslash = isWindows && toOSPath;\n    if (_isNormal(path, wantsBackslash!)) {\n        return path;\n    }\n\n    // tslint:disable-next-line:no-shadowed-variable\n    const sep = wantsBackslash ? '\\\\' : '/';\n    const root = getRoot(path, sep);\n\n    // skip the root-portion of the path\n    let start = root.length;\n    let skip = false;\n    let res = '';\n\n    for (let end = root.length; end <= len; end++) {\n\n        // either at the end or at a path-separator character\n        if (end === len || path.charCodeAt(end) === CharCode.Slash || path.charCodeAt(end) === CharCode.Backslash) {\n\n            if (streql(path, start, end, '..')) {\n                // skip current and remove parent (if there is already something)\n                const prev_start = res.lastIndexOf(sep);\n                const prev_part = res.slice(prev_start + 1);\n                if ((root || prev_part.length > 0) && prev_part !== '..') {\n                    res = prev_start === -1 ? '' : res.slice(0, prev_start);\n                    skip = true;\n                }\n            } else if (streql(path, start, end, '.') && (root || res || end < len - 1)) {\n                // skip current (if there is already something or if there is more to come)\n                skip = true;\n            }\n\n            if (!skip) {\n                const part = path.slice(start, end);\n                if (res !== '' && res[res.length - 1] !== sep) {\n                    res += sep;\n                }\n                res += part;\n            }\n            start = end + 1;\n            skip = false;\n        }\n    }\n\n    return root + res;\n}\nfunction streql(value: string, start: number, end: number, other: string): boolean {\n    return start + other.length === end && value.indexOf(other, start) === start;\n}\n\n/**\n * Computes the _root_ this path, like `getRoot('c:\\files') === c:\\`,\n * `getRoot('files:///files/path') === files:///`,\n * or `getRoot('\\\\server\\shares\\path') === \\\\server\\shares\\`\n */\n// tslint:disable-next-line:no-shadowed-variable\nexport function getRoot(path: string, sep: string = '/'): string {\n\n    if (!path) {\n        return '';\n    }\n\n    const len = path.length;\n    let code = path.charCodeAt(0);\n    if (code === CharCode.Slash || code === CharCode.Backslash) {\n\n        code = path.charCodeAt(1);\n        if (code === CharCode.Slash || code === CharCode.Backslash) {\n            // UNC candidate \\\\localhost\\shares\\ddd\n            //               ^^^^^^^^^^^^^^^^^^^\n            code = path.charCodeAt(2);\n            if (code !== CharCode.Slash && code !== CharCode.Backslash) {\n                // tslint:disable-next-line:no-shadowed-variable\n                let pos = 3;\n                const start = pos;\n                for (; pos < len; pos++) {\n                    code = path.charCodeAt(pos);\n                    if (code === CharCode.Slash || code === CharCode.Backslash) {\n                        break;\n                    }\n                }\n                code = path.charCodeAt(pos + 1);\n                if (start !== pos && code !== CharCode.Slash && code !== CharCode.Backslash) {\n                    pos += 1;\n                    for (; pos < len; pos++) {\n                        code = path.charCodeAt(pos);\n                        if (code === CharCode.Slash || code === CharCode.Backslash) {\n                            return path.slice(0, pos + 1) // consume this separator\n                                .replace(/[\\\\/]/g, sep);\n                        }\n                    }\n                }\n            }\n        }\n\n        // /user/far\n        // ^\n        return sep;\n\n    } else if ((code >= CharCode.A && code <= CharCode.Z) || (code >= CharCode.a && code <= CharCode.z)) {\n        // check for windows drive letter c:\\ or c:\n\n        if (path.charCodeAt(1) === CharCode.Colon) {\n            code = path.charCodeAt(2);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                // C:\\fff\n                // ^^^\n                return path.slice(0, 2) + sep;\n            } else {\n                // C:\n                // ^^\n                return path.slice(0, 2);\n            }\n        }\n    }\n\n    // check for URI\n    // scheme://authority/path\n    // ^^^^^^^^^^^^^^^^^^^\n    let pos = path.indexOf('://');\n    if (pos !== -1) {\n        pos += 3; // 3 -> \"://\".length\n        for (; pos < len; pos++) {\n            code = path.charCodeAt(pos);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                return path.slice(0, pos + 1); // consume this separator\n            }\n        }\n    }\n\n    return '';\n}\n\nexport function isEqualOrParent(path: string, candidate: string, ignoreCase?: boolean): boolean {\n    if (path === candidate) {\n        return true;\n    }\n\n    if (!path || !candidate) {\n        return false;\n    }\n\n    if (candidate.length > path.length) {\n        return false;\n    }\n\n    if (ignoreCase) {\n        const beginsWith = startsWithIgnoreCase(path, candidate);\n        if (!beginsWith) {\n            return false;\n        }\n\n        if (candidate.length === path.length) {\n            return true; // same path, different casing\n        }\n\n        let sepOffset = candidate.length;\n        if (candidate.charAt(candidate.length - 1) === nativeSep) {\n            sepOffset--; // adjust the expected sep offset in case our candidate already ends in separator character\n        }\n\n        return path.charAt(sepOffset) === nativeSep;\n    }\n\n    if (candidate.charAt(candidate.length - 1) !== nativeSep) {\n        candidate += nativeSep;\n    }\n\n    return path.indexOf(candidate) === 0;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/strings.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from './char-code';\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack: string, needle: string): boolean {\n    const diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.indexOf(needle, diff) === diff;\n    } else if (diff === 0) {\n        return haystack === needle;\n    } else {\n        return false;\n    }\n}\nexport function isLowerAsciiLetter(code: number): boolean {\n    return code >= CharCode.a && code <= CharCode.z;\n}\n\nexport function isUpperAsciiLetter(code: number): boolean {\n    return code >= CharCode.A && code <= CharCode.Z;\n}\n\nfunction isAsciiLetter(code: number): boolean {\n    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);\n}\nexport function equalsIgnoreCase(a: string, b: string): boolean {\n    const len1 = a ? a.length : 0;\n    const len2 = b ? b.length : 0;\n\n    if (len1 !== len2) {\n        return false;\n    }\n\n    return doEqualsIgnoreCase(a, b);\n}\n\nfunction doEqualsIgnoreCase(a: string, b: string, stopAt = a.length): boolean {\n    if (typeof a !== 'string' || typeof b !== 'string') {\n        return false;\n    }\n\n    for (let i = 0; i < stopAt; i++) {\n        const codeA = a.charCodeAt(i);\n        const codeB = b.charCodeAt(i);\n\n        if (codeA === codeB) {\n            continue;\n        }\n\n        // a-z A-Z\n        if (isAsciiLetter(codeA) && isAsciiLetter(codeB)) {\n            const diff = Math.abs(codeA - codeB);\n            if (diff !== 0 && diff !== 32) {\n                return false;\n            }\n        }\n\n        // Any other charcode\n        // tslint:disable-next-line:one-line\n        else {\n            if (String.fromCharCode(codeA).toLowerCase() !== String.fromCharCode(codeB).toLowerCase()) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\n/**\n * Escapes regular expression characters in a given string\n */\nexport function escapeRegExpCharacters(value: string): string {\n    return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\[\\]\\(\\)\\#]/g, '\\\\$&');\n}\n\nexport function startsWithIgnoreCase(str: string, candidate: string): boolean {\n    const candidateLength = candidate.length;\n    if (candidate.length > str.length) {\n        return false;\n    }\n\n    return doEqualsIgnoreCase(str, candidate, candidateLength);\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport class MarkdownString {\n\n    value: string;\n    isTrusted?: boolean;\n\n    constructor(value?: string) {\n        this.value = value || '';\n    }\n\n    appendText(value: string): MarkdownString {\n        // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        this.value += value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&');\n        return this;\n    }\n\n    appendMarkdown(value: string): MarkdownString {\n        this.value += value;\n        return this;\n    }\n\n    appendCodeblock(code: string, language: string = ''): MarkdownString {\n        this.value += '\\n```';\n        this.value += language;\n        this.value += '\\n';\n        this.value += code;\n        this.value += '\\n```\\n';\n        return this;\n    }\n}\n\n// tslint:disable-next-line:no-any\nexport function isMarkdownString(thing: any): thing is MarkdownString {\n    if (thing instanceof MarkdownString) {\n        return true;\n    } else if (thing && typeof thing === 'object') {\n        return typeof (<MarkdownString>thing).value === 'string'\n            && (typeof (<MarkdownString>thing).isTrusted === 'boolean' || (<MarkdownString>thing).isTrusted === void 0);\n    }\n    return false;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { UriComponents } from '../common/uri-components';\nimport { FileStat } from '@theia/filesystem/lib/common';\nimport { SymbolInformation } from 'vscode-languageserver-types';\n\n// Should contains internal Plugin API types\n\n/**\n * Represents options to configure the behavior of showing a document in an editor.\n */\nexport interface TextDocumentShowOptions {\n    /**\n     * An optional selection to apply for the document in the editor.\n     */\n    selection?: Range;\n\n    /**\n     * An optional flag that when `true` will stop the editor from taking focus.\n     */\n    preserveFocus?: boolean;\n\n    /**\n     * An optional flag that controls if an editor-tab will be replaced\n     * with the next editor or if it will be kept.\n     */\n    preview?: boolean;\n\n    /**\n     * Denotes a location of an editor in the window. Editors can be arranged in a grid\n     * and each column represents one editor location in that grid by counting the editors\n     * in order of their appearance.\n     */\n    viewColumn?: theia.ViewColumn;\n}\n\nexport interface Range {\n    /**\n     * Line number on which the range starts (starts at 1).\n     */\n    readonly startLineNumber: number;\n    /**\n     * Column on which the range starts in line `startLineNumber` (starts at 1).\n     */\n    readonly startColumn: number;\n    /**\n     * Line number on which the range ends.\n     */\n    readonly endLineNumber: number;\n    /**\n     * Column on which the range ends in line `endLineNumber`.\n     */\n    readonly endColumn: number;\n}\n\nexport interface MarkdownString {\n    value: string;\n    isTrusted?: boolean;\n}\n\nexport interface SerializedDocumentFilter {\n    $serialized: true;\n    language?: string;\n    scheme?: string;\n    pattern?: theia.GlobPattern;\n}\n\nexport interface FileWatcherSubscriberOptions {\n    globPattern: theia.GlobPattern;\n    ignoreCreateEvents?: boolean;\n    ignoreChangeEvents?: boolean;\n    ignoreDeleteEvents?: boolean;\n}\n\nexport interface FileChangeEvent {\n    subscriberId: string,\n    uri: UriComponents,\n    type: FileChangeEventType\n}\n\nexport type FileChangeEventType = 'created' | 'updated' | 'deleted';\n\nexport enum CompletionTriggerKind {\n    Invoke = 0,\n    TriggerCharacter = 1,\n    TriggerForIncompleteCompletions = 2\n}\n\nexport interface CompletionContext {\n    triggerKind: CompletionTriggerKind;\n    triggerCharacter?: string;\n}\n\nexport interface Completion {\n    label: string;\n    insertText: string;\n    type: CompletionType;\n    detail?: string;\n    documentation?: string | MarkdownString;\n    filterText?: string;\n    sortText?: string;\n    preselect?: boolean;\n    noAutoAccept?: boolean;\n    commitCharacters?: string[];\n    overwriteBefore?: number;\n    overwriteAfter?: number;\n    additionalTextEdits?: SingleEditOperation[];\n    command?: Command;\n    snippetType?: SnippetType;\n}\nexport interface SingleEditOperation {\n    range: Range;\n    text: string;\n    /**\n     * This indicates that this operation has \"insert\" semantics.\n     * i.e. forceMoveMarkers = true => if `range` is collapsed, all markers at the position will be moved.\n     */\n    forceMoveMarkers?: boolean;\n}\n\nexport type SnippetType = 'internal' | 'textmate';\n\nexport interface Command {\n    id: string;\n    title: string;\n    tooltip?: string;\n    // tslint:disable-next-line:no-any\n    arguments?: any[];\n}\n\nexport type CompletionType = 'method'\n    | 'function'\n    | 'constructor'\n    | 'field'\n    | 'variable'\n    | 'class'\n    | 'struct'\n    | 'interface'\n    | 'module'\n    | 'property'\n    | 'event'\n    | 'operator'\n    | 'unit'\n    | 'value'\n    | 'constant'\n    | 'enum'\n    | 'enum-member'\n    | 'keyword'\n    | 'snippet'\n    | 'text'\n    | 'color'\n    | 'file'\n    | 'reference'\n    | 'customcolor'\n    | 'folder'\n    | 'type-parameter';\n\nexport class IdObject {\n    id?: number;\n}\nexport interface CompletionDto extends Completion {\n    id: number;\n    parentId: number;\n}\n\nexport interface CompletionResultDto extends IdObject {\n    completions: CompletionDto[];\n    incomplete?: boolean;\n}\n\nexport interface MarkerData {\n    code?: string;\n    severity: MarkerSeverity;\n    message: string;\n    source?: string;\n    startLineNumber: number;\n    startColumn: number;\n    endLineNumber: number;\n    endColumn: number;\n    relatedInformation?: RelatedInformation[];\n    tags?: MarkerTag[];\n}\n\nexport interface RelatedInformation {\n    resource: UriComponents;\n    message: string;\n    startLineNumber: number;\n    startColumn: number;\n    endLineNumber: number;\n    endColumn: number;\n}\n\nexport enum MarkerSeverity {\n    Hint = 1,\n    Info = 2,\n    Warning = 4,\n    Error = 8,\n}\n\nexport enum MarkerTag {\n    Unnecessary = 1,\n}\n\nexport interface ParameterInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n}\n\nexport interface SignatureInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n    parameters: ParameterInformation[];\n}\n\nexport interface SignatureHelp {\n    signatures: SignatureInformation[];\n    activeSignature: number;\n    activeParameter: number;\n}\n\nexport interface Hover {\n    contents: MarkdownString[];\n    range?: Range;\n}\n\nexport interface HoverProvider {\n    provideHover(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): Hover | undefined | Thenable<Hover | undefined>;\n}\n\nexport enum DocumentHighlightKind {\n    Text = 0,\n    Read = 1,\n    Write = 2\n}\n\nexport interface DocumentHighlight {\n    range: Range;\n    kind?: DocumentHighlightKind;\n}\n\nexport interface DocumentHighlightProvider {\n    provideDocumentHighlights(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): DocumentHighlight[] | undefined;\n}\n\nexport interface FormattingOptions {\n    tabSize: number;\n    insertSpaces: boolean;\n}\n\nexport interface TextEdit {\n    range: Range;\n    text: string;\n    eol?: monaco.editor.EndOfLineSequence;\n}\n\nexport interface Location {\n    uri: UriComponents;\n    range: Range;\n}\n\nexport type Definition = Location | Location[];\n\nexport interface DefinitionLink {\n    uri: UriComponents;\n    range: Range;\n    origin?: Range;\n    selectionRange?: Range;\n}\n\nexport interface DefinitionProvider {\n    provideDefinition(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): Definition | DefinitionLink[] | undefined;\n}\n\n/**\n * Value-object that contains additional information when\n * requesting references.\n */\nexport interface ReferenceContext {\n\n    /**\n     * Include the declaration of the current symbol.\n     */\n    includeDeclaration: boolean;\n}\n\nexport interface DocumentLink {\n    range: Range;\n    url?: string;\n}\n\nexport interface DocumentLinkProvider {\n    provideLinks(model: monaco.editor.ITextModel, token: monaco.CancellationToken): DocumentLink[] | undefined | PromiseLike<DocumentLink[] | undefined>;\n    resolveLink?: (link: DocumentLink, token: monaco.CancellationToken) => DocumentLink | PromiseLike<DocumentLink[]>;\n}\n\nexport interface CodeLensSymbol {\n    range: Range;\n    id?: string;\n    command?: Command;\n}\n\nexport interface CodeAction {\n    title: string;\n    command?: Command;\n    edit?: WorkspaceEdit;\n    diagnostics?: MarkerData[];\n    kind?: string;\n}\n\nexport enum CodeActionTrigger {\n    Automatic = 1,\n    Manual = 2,\n}\n\nexport interface CodeActionContext {\n    only?: string;\n    trigger: CodeActionTrigger;\n}\n\nexport interface CodeActionProvider {\n    provideCodeActions(\n        model: monaco.editor.ITextModel,\n        range: Range | Selection,\n        context: monaco.languages.CodeActionContext,\n        token: monaco.CancellationToken\n    ): CodeAction[] | PromiseLike<CodeAction[]>;\n\n    providedCodeActionKinds?: string[];\n}\n\nexport interface ResourceFileEdit {\n    oldUri: UriComponents;\n    newUri: UriComponents;\n    options: { overwrite?: boolean, ignoreIfNotExists?: boolean, ignoreIfExists?: boolean, recursive?: boolean };\n}\n\nexport interface ResourceTextEdit {\n    resource: UriComponents;\n    modelVersionId?: number;\n    edits: TextEdit[];\n}\n\nexport interface WorkspaceEdit {\n    edits: Array<ResourceTextEdit | ResourceFileEdit>;\n    rejectReason?: string;\n}\n\nexport enum SymbolKind {\n    File = 0,\n    Module = 1,\n    Namespace = 2,\n    Package = 3,\n    Class = 4,\n    Method = 5,\n    Property = 6,\n    Field = 7,\n    Constructor = 8,\n    Enum = 9,\n    Interface = 10,\n    Function = 11,\n    Variable = 12,\n    Constant = 13,\n    String = 14,\n    Number = 15,\n    Boolean = 16,\n    Array = 17,\n    Object = 18,\n    Key = 19,\n    Null = 20,\n    EnumMember = 21,\n    Struct = 22,\n    Event = 23,\n    Operator = 24,\n    TypeParameter = 25\n}\n\nexport interface DocumentSymbol {\n    name: string;\n    detail: string;\n    kind: SymbolKind;\n    containerName?: string;\n    range: Range;\n    selectionRange: Range;\n    children?: DocumentSymbol[];\n}\n\nexport interface WorkspaceRootsChangeEvent {\n    roots: FileStat[];\n}\n\nexport interface WorkspaceFolder {\n    uri: UriComponents;\n    name: string;\n    index: number;\n}\n\nexport interface Breakpoint {\n    readonly enabled: boolean;\n    readonly condition?: string;\n    readonly hitCondition?: string;\n    readonly logMessage?: string;\n    readonly location?: Location;\n    readonly functionName?: string;\n}\n\nexport interface WorkspaceSymbolProvider {\n    provideWorkspaceSymbols(params: WorkspaceSymbolParams, token: monaco.CancellationToken): Thenable<SymbolInformation[]>;\n    resolveWorkspaceSymbol(symbol: SymbolInformation, token: monaco.CancellationToken): Thenable<SymbolInformation>\n}\n\nexport interface WorkspaceSymbolParams {\n    query: string\n}\n\nexport interface FoldingContext {\n}\n\nexport interface FoldingRange {\n    start: number;\n    end: number;\n    kind?: FoldingRangeKind;\n}\n\nexport class FoldingRangeKind {\n    static readonly Comment = new FoldingRangeKind('comment');\n    static readonly Imports = new FoldingRangeKind('imports');\n    static readonly Region = new FoldingRangeKind('region');\n    public constructor(public value: string) { }\n}\n\nexport interface Color {\n    readonly red: number;\n    readonly green: number;\n    readonly blue: number;\n    readonly alpha: number;\n}\n\nexport interface ColorPresentation {\n    label: string;\n    textEdit?: TextEdit;\n    additionalTextEdits?: TextEdit[];\n}\n\nexport interface ColorInformation {\n    range: Range;\n    color: Color;\n}\n\nexport interface DocumentColorProvider {\n    provideDocumentColors(model: monaco.editor.ITextModel): PromiseLike<ColorInformation[]>;\n    provideColorPresentations(model: monaco.editor.ITextModel, colorInfo: ColorInformation): PromiseLike<ColorPresentation[]>;\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from './event';\n\nexport interface CancellationToken {\n    readonly isCancellationRequested: boolean;\n    /*\n\t * An event emitted when cancellation is requested\n\t * @event\n\t */\n    readonly onCancellationRequested: Event<void>;\n}\n\n// tslint:disable-next-line:no-any\nconst shortcutEvent: Event<void> = Object.freeze(Object.assign(function (callback: any, context?: any): any {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose() { clearTimeout(handle); } };\n}, { maxListeners: 0 }));\n\nexport namespace CancellationToken {\n\n    export const None: CancellationToken = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n\n    export const Cancelled: CancellationToken = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n}\n\nclass MutableToken implements CancellationToken {\n\n    private _isCancelled: boolean = false;\n    private _emitter: Emitter<void> | undefined;\n\n    public cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this._emitter = undefined;\n            }\n        }\n    }\n\n    get isCancellationRequested(): boolean {\n        return this._isCancelled;\n    }\n\n    get onCancellationRequested(): Event<void> {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter<void>();\n        }\n        return this._emitter.event;\n    }\n}\n\nexport class CancellationTokenSource {\n\n    private _token: CancellationToken;\n\n    get token(): CancellationToken {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n\n    cancel(): void {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        } else if (this._token !== CancellationToken.Cancelled) {\n            (<MutableToken>this._token).cancel();\n        }\n    }\n\n    dispose(): void {\n        this.cancel();\n    }\n}\n\nconst cancelledMessage = 'Cancelled';\n\nexport function cancelled(): Error {\n    return new Error(cancelledMessage);\n}\n\nexport function isCancelled(err: Error | undefined): boolean {\n    return !!err && err.message === cancelledMessage;\n}\n\nexport function checkCancelled(token?: CancellationToken): void {\n    if (!!token && token.isCancellationRequested) {\n        throw cancelled();\n    }\n}\n","\n/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// tslint:disable-next-line:no-any\nexport function ok(val?: any, message?: string) {\n    if (!val || val === null) {\n        throw new Error(message ? `Assertion failed (${message})` : 'Assertion failed');\n    }\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied from https://github.com/Microsoft/vscode/blob/master/src/vs/workbench/services/extensions/node/rpcProtocol.ts\n// with small modifications\n\n/* tslint:disable:no-any */\n\nimport { Event } from '@theia/core/lib/common/event';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\n\nexport interface MessageConnection {\n    send(msg: {}): void;\n    onMessage: Event<{}>;\n}\n\nexport interface RPCProtocol {\n    /**\n     * Returns a proxy to an object addressable/named in the plugin process or in the main process.\n     */\n    getProxy<T>(proxyId: ProxyIdentifier<T>): T;\n\n    /**\n     * Register manually created instance.\n     */\n    set<T, R extends T>(identifier: ProxyIdentifier<T>, instance: R): R;\n\n}\n\nexport class ProxyIdentifier<T> {\n    public readonly id: string;\n    constructor(public readonly isMain: boolean, id: string | T) {\n        // TODO this is nasty, rewrite this\n        this.id = id.toString();\n    }\n}\n\nexport function createProxyIdentifier<T>(identifier: string): ProxyIdentifier<T> {\n    return new ProxyIdentifier(false, identifier);\n}\n\nexport class RPCProtocolImpl implements RPCProtocol {\n\n    private isDisposed: boolean;\n    private readonly locals: { [id: string]: any; };\n    private readonly proxies: { [id: string]: any; };\n    private lastMessageId: number;\n    private readonly invokedHandlers: { [req: string]: Promise<any>; };\n    private readonly pendingRPCReplies: { [msgId: string]: Deferred<any>; };\n    private readonly multiplexor: RPCMultiplexer;\n    private messageToSendHostId: string | undefined;\n\n    constructor(connection: MessageConnection, readonly remoteHostID?: string) {\n        this.isDisposed = false;\n        // tslint:disable-next-line:no-null-keyword\n        this.locals = Object.create(null);\n        // tslint:disable-next-line:no-null-keyword\n        this.proxies = Object.create(null);\n        this.lastMessageId = 0;\n        // tslint:disable-next-line:no-null-keyword\n        this.invokedHandlers = Object.create(null);\n        this.pendingRPCReplies = {};\n        this.multiplexor = new RPCMultiplexer(connection, msg => this.receiveOneMessage(msg), remoteHostID);\n    }\n    getProxy<T>(proxyId: ProxyIdentifier<T>): T {\n        if (!this.proxies[proxyId.id]) {\n            this.proxies[proxyId.id] = this.createProxy(proxyId.id);\n        }\n        return this.proxies[proxyId.id];\n    }\n\n    set<T, R extends T>(identifier: ProxyIdentifier<T>, instance: R): R {\n        this.locals[identifier.id] = instance;\n        return instance;\n    }\n\n    private createProxy<T>(proxyId: string): T {\n        const handler = {\n            get: (target: any, name: string) => {\n                if (!target[name] && name.charCodeAt(0) === 36 /* CharCode.DollarSign */) {\n                    target[name] = (...myArgs: any[]) =>\n                        this.remoteCall(proxyId, name, myArgs);\n                }\n                return target[name];\n            }\n        };\n        // tslint:disable-next-line:no-null-keyword\n        return new Proxy(Object.create(null), handler);\n    }\n\n    private remoteCall(proxyId: string, methodName: string, args: any[]): Promise<any> {\n        if (this.isDisposed) {\n            return Promise.reject(canceled());\n        }\n\n        const callId = String(++this.lastMessageId);\n        const result = new Deferred();\n\n        this.pendingRPCReplies[callId] = result;\n        this.multiplexor.send(MessageFactory.request(callId, proxyId, methodName, args, this.messageToSendHostId));\n        return result.promise;\n    }\n\n    private receiveOneMessage(rawmsg: string): void {\n        if (this.isDisposed) {\n            return;\n        }\n\n        const msg = <RPCMessage>JSON.parse(rawmsg);\n\n        // handle message that sets the Host ID\n        if ((<any>msg).setHostID) {\n            this.messageToSendHostId = (<any>msg).setHostID;\n            return;\n        }\n\n        // skip message if not matching host\n        if (this.remoteHostID && (<any>msg).hostID && this.remoteHostID !== (<any>msg).hostID) {\n            return;\n        }\n\n        switch (msg.type) {\n            case MessageType.Request:\n                this.receiveRequest(msg);\n                break;\n            case MessageType.Reply:\n                this.receiveReply(msg);\n                break;\n            case MessageType.ReplyErr:\n                this.receiveReplyErr(msg);\n                break;\n        }\n    }\n\n    private receiveRequest(msg: RequestMessage): void {\n        const callId = msg.id;\n        const proxyId = msg.proxyId;\n\n        this.invokedHandlers[callId] = this.invokeHandler(proxyId, msg.method, msg.args);\n\n        this.invokedHandlers[callId].then(r => {\n            delete this.invokedHandlers[callId];\n            this.multiplexor.send(MessageFactory.replyOK(callId, r, this.messageToSendHostId));\n        }, err => {\n            delete this.invokedHandlers[callId];\n            this.multiplexor.send(MessageFactory.replyErr(callId, err, this.messageToSendHostId));\n        });\n    }\n\n    private receiveReply(msg: ReplyMessage): void {\n        const callId = msg.id;\n        if (!this.pendingRPCReplies.hasOwnProperty(callId)) {\n            return;\n        }\n\n        const pendingReply = this.pendingRPCReplies[callId];\n        delete this.pendingRPCReplies[callId];\n\n        pendingReply.resolve(msg.res);\n    }\n\n    private receiveReplyErr(msg: ReplyErrMessage): void {\n        const callId = msg.id;\n        if (!this.pendingRPCReplies.hasOwnProperty(callId)) {\n            return;\n        }\n\n        const pendingReply = this.pendingRPCReplies[callId];\n        delete this.pendingRPCReplies[callId];\n\n        let err: Error | undefined = undefined;\n        if (msg.err && msg.err.$isError) {\n            err = new Error();\n            err.name = msg.err.name;\n            err.message = msg.err.message;\n            err.stack = msg.err.stack;\n        }\n        pendingReply.reject(err);\n    }\n\n    private invokeHandler(proxyId: string, methodName: string, args: any[]): Promise<any> {\n        try {\n            return Promise.resolve(this.doInvokeHandler(proxyId, methodName, args));\n        } catch (err) {\n            return Promise.reject(err);\n        }\n    }\n\n    private doInvokeHandler(proxyId: string, methodName: string, args: any[]): any {\n        if (!this.locals[proxyId]) {\n            throw new Error('Unknown actor ' + proxyId);\n        }\n        const actor = this.locals[proxyId];\n        const method = actor[methodName];\n        if (typeof method !== 'function') {\n            throw new Error('Unknown method ' + methodName + ' on actor ' + proxyId);\n        }\n        return method.apply(actor, args);\n    }\n}\n\nfunction canceled(): Error {\n    const error = new Error('Canceled');\n    error.name = error.message;\n    return error;\n}\n\n/**\n * Sends/Receives multiple messages in one go:\n *  - multiple messages to be sent from one stack get sent in bulk at `process.nextTick`.\n *  - each incoming message is handled in a separate `process.nextTick`.\n */\nclass RPCMultiplexer {\n\n    private readonly connection: MessageConnection;\n    private readonly sendAccumulatedBound: () => void;\n\n    private messagesToSend: string[];\n\n    constructor(connection: MessageConnection, onMessage: (msg: string) => void, remoteHostId?: string) {\n        this.connection = connection;\n        this.sendAccumulatedBound = this.sendAccumulated.bind(this);\n\n        this.messagesToSend = [];\n        if (remoteHostId) {\n            this.send(`{\"setHostID\":\"${remoteHostId}\"}`);\n        }\n\n        this.connection.onMessage((data: string[]) => {\n            const len = data.length;\n            for (let i = 0; i < len; i++) {\n                onMessage(data[i]);\n            }\n        });\n    }\n\n    private sendAccumulated(): void {\n        const tmp = this.messagesToSend;\n        this.messagesToSend = [];\n        this.connection.send(tmp);\n    }\n\n    public send(msg: string): void {\n        if (this.messagesToSend.length === 0) {\n            if (typeof setImmediate !== 'undefined') {\n                setImmediate(this.sendAccumulatedBound);\n            } else {\n                setTimeout(this.sendAccumulatedBound, 0);\n            }\n        }\n        this.messagesToSend.push(msg);\n    }\n}\n\nclass MessageFactory {\n\n    public static request(req: string, rpcId: string, method: string, args: any[], messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        return `{${prefix}\"type\":${MessageType.Request},\"id\":\"${req}\",\"proxyId\":\"${rpcId}\",\"method\":\"${method}\",\"args\":${JSON.stringify(args)}}`;\n    }\n\n    public static replyOK(req: string, res: any, messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        if (typeof res === 'undefined') {\n            return `{${prefix}\"type\":${MessageType.Reply},\"id\":\"${req}\"}`;\n        }\n        return `{${prefix}\"type\":${MessageType.Reply},\"id\":\"${req}\",\"res\":${JSON.stringify(res)}}`;\n    }\n\n    public static replyErr(req: string, err: any, messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        if (err instanceof Error) {\n            return `{${prefix}\"type\":${MessageType.ReplyErr},\"id\":\"${req}\",\"err\":${JSON.stringify(transformErrorForSerialization(err))}}`;\n        }\n        return `{${prefix}\"type\":${MessageType.ReplyErr},\"id\":\"${req}\",\"err\":null}`;\n    }\n}\n\nconst enum MessageType {\n    Request = 1,\n    Reply = 2,\n    ReplyErr = 3\n}\n\nclass RequestMessage {\n    type: MessageType.Request;\n    id: string;\n    proxyId: string;\n    method: string;\n    args: any[];\n}\n\nclass ReplyMessage {\n    type: MessageType.Reply;\n    id: string;\n    res: any;\n}\n\nclass ReplyErrMessage {\n    type: MessageType.ReplyErr;\n    id: string;\n    err: SerializedError;\n}\n\ntype RPCMessage = RequestMessage | ReplyMessage | ReplyErrMessage;\n\nexport interface SerializedError {\n    readonly $isError: true;\n    readonly name: string;\n    readonly message: string;\n    readonly stack: string;\n}\n\nexport function transformErrorForSerialization(error: Error): SerializedError {\n    if (error instanceof Error) {\n        const { name, message } = error;\n        const stack: string = (<any>error).stacktrace || error.stack;\n        return {\n            $isError: true,\n            name,\n            message,\n            stack\n        };\n    }\n\n    // return as is\n    return error;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface Disposable {\n    dispose(): void;\n}\n\nexport function dispose<T extends Disposable>(disposable: T): T | undefined;\nexport function dispose<T extends Disposable>(...disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(first: T | T[], ...rest: T[]): T | T[] | undefined {\n    if (Array.isArray(first)) {\n        first.forEach(d => d && d.dispose());\n        return [];\n    } else if (rest.length === 0) {\n        if (first) {\n            first.dispose();\n            return first;\n        }\n        return undefined;\n    } else {\n        dispose(first);\n        dispose(rest);\n        return [];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport function illegalArgument(message?: string): Error {\n    if (message) {\n        return new Error(`Illegal argument: ${message}`);\n    } else {\n        return new Error('Illegal argument');\n    }\n}\n\nexport function readonly(name?: string): Error {\n    if (name) {\n        return new Error(`readonly property '${name} cannot be changed'`);\n    } else {\n        return new Error('readonly property cannot be changed');\n    }\n}\n\nexport function disposed(what: string): Error {\n    const result = new Error(`${what} has been disposed`);\n    result.name = 'DISPOSED';\n    return result;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// file copied from https://github.com/wjordan/browser-path/blob/master/src/node_path.ts\n// Original license:\n/*\n====\n\nCopyright (c) 2015 John Vilk and other contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n====\n*/\n\nimport { sep } from './paths';\n\nconst replaceRegex = new RegExp('//+', 'g');\n\nexport function resolve(...paths: string[]): string {\n    let processed: string[] = [];\n    for (const p of paths) {\n        if (typeof p !== 'string') {\n            throw new TypeError('Invalid argument type to path.join: ' + (typeof p));\n        } else if (p !== '') {\n            if (p.charAt(0) === sep) {\n                processed = [];\n            }\n            processed.push(p);\n        }\n    }\n\n    const resolved = normalize(processed.join(sep));\n    if (resolved.length > 1 && resolved.charAt(resolved.length - 1) === sep) {\n        return resolved.substr(0, resolved.length - 1);\n    }\n\n    return resolved;\n}\n\nexport function relative(from: string, to: string): string {\n    let i: number;\n\n    from = resolve(from);\n    to = resolve(to);\n    const fromSegments = from.split(sep);\n    const toSegments = to.split(sep);\n\n    toSegments.shift();\n    fromSegments.shift();\n\n    let upCount = 0;\n    let downSegments: string[] = [];\n\n    for (i = 0; i < fromSegments.length; i++) {\n        const seg = fromSegments[i];\n        if (seg === toSegments[i]) {\n            continue;\n        }\n\n        upCount = fromSegments.length - i;\n        break;\n    }\n\n    downSegments = toSegments.slice(i);\n\n    if (fromSegments.length === 1 && fromSegments[0] === '') {\n        upCount = 0;\n    }\n\n    if (upCount > fromSegments.length) {\n        upCount = fromSegments.length;\n    }\n\n    let rv = '';\n    for (i = 0; i < upCount; i++) {\n        rv += '../';\n    }\n    rv += downSegments.join(sep);\n\n    if (rv.length > 1 && rv.charAt(rv.length - 1) === sep) {\n        rv = rv.substr(0, rv.length - 1);\n    }\n    return rv;\n}\nexport function normalize(p: string): string {\n\n    if (p === '') {\n        p = '.';\n    }\n\n    const absolute = p.charAt(0) === sep;\n\n    p = removeDuplicateSeparators(p);\n\n    const components = p.split(sep);\n    const goodComponents: string[] = [];\n    for (const c of components) {\n        if (c === '.') {\n            continue;\n        } else if (c === '..' && (absolute || (!absolute && goodComponents.length > 0 && goodComponents[0] !== '..'))) {\n            goodComponents.pop();\n        } else {\n            goodComponents.push(c);\n        }\n    }\n\n    if (!absolute && goodComponents.length < 2) {\n        switch (goodComponents.length) {\n            case 1:\n                if (goodComponents[0] === '') {\n                    goodComponents.unshift('.');\n                }\n                break;\n            default:\n                goodComponents.push('.');\n        }\n    }\n    p = goodComponents.join(sep);\n    if (absolute && p.charAt(0) !== sep) {\n        p = sep + p;\n    }\n    return p;\n}\n\nfunction removeDuplicateSeparators(p: string): string {\n    p = p.replace(replaceRegex, sep);\n    return p;\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nfunction is(userAgent: string, platform: string): boolean {\n    if (typeof navigator !== 'undefined') {\n        if (navigator.userAgent && navigator.userAgent.indexOf(userAgent) >= 0) {\n            return true;\n        }\n    }\n    if (typeof process !== 'undefined') {\n        return (process.platform === platform);\n    }\n    return false;\n}\n\nexport const isWindows = is('Windows', 'win32');\nexport const isOSX = is('Mac', 'darwin');\n\nexport type CMD = [string, string[]];\nexport function cmd(command: string, ...args: string[]): CMD {\n    return [\n        isWindows ? 'cmd' : command,\n        isWindows ? ['/c', command, ...args] : args\n    ];\n}\n\nexport namespace OS {\n\n    /**\n     * Enumeration of the supported operating systems.\n     */\n    export enum Type {\n        Windows = 'Windows',\n        Linux = 'Linux',\n        OSX = 'OSX'\n    }\n\n    /**\n     * Returns with the type of the operating system. If it is neither [Windows](isWindows) nor [OS X](isOSX), then\n     * it always return with the `Linux` OS type.\n     */\n    export function type(): OS.Type {\n        if (isWindows) {\n            return Type.Windows;\n        }\n        if (isOSX) {\n            return Type.OSX;\n        }\n        return Type.Linux;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\n\nexport function hookCancellationToken<T>(token: CancellationToken, promise: Promise<T>): PromiseLike<T> {\n    return new Promise<T>((resolve, reject) => {\n        const sub = token.onCancellationRequested(() => reject('This promise is cancelled'));\n        promise.then(value => {\n            sub.dispose();\n            resolve(value);\n        }).catch(err => {\n            sub.dispose();\n            reject(err);\n        });\n    });\n}\n\nexport function anyPromise<T>(promises: PromiseLike<T>[]): Promise<{ key: number; value: PromiseLike<T>; }> {\n    const result = new Deferred<{ key: number; value: PromiseLike<T>; }>();\n    if (promises.length === 0) {\n        result.resolve();\n    }\n\n    promises.forEach((val, key) => {\n        Promise.resolve(promises[key]).then(() => {\n            result.resolve({ key: key, value: promises[key] });\n        }, err => {\n            result.resolve({ key: key, value: promises[key] });\n        });\n    });\n    return result.promise;\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * On POSIX:\n * ┌──────────────────────┬────────────┐\n * │          dir         │    base    │\n * ├──────┬               ├──────┬─────┤\n * │ root │               │ name │ ext │\n * \"  /     home/user/dir / file  .txt \"\n * └──────┴───────────────┴──────┴─────┘\n *\n * On Windows:\n * ┌──────────────────────┬────────────┐\n * │           dir        │    base    │\n * ├──────┬               ├──────┬─────┤\n * │ root │               │ name │ ext │\n * \"  /c: / home/user/dir / file  .txt \"\n * └──────┴───────────────┴──────┴─────┘\n */\nexport class Path {\n    static separator: '/' = '/';\n\n    static isDrive(segment: string): boolean {\n        return segment.endsWith(':');\n    }\n\n    /**\n     * vscode-uri always normalizes drive letters to lower case:\n     * https://github.com/Microsoft/vscode-uri/blob/b1d3221579f97f28a839b6f996d76fc45e9964d8/src/index.ts#L1025\n     * Theia path should be adjusted to this.\n     */\n    static normalizeDrive(path: string): string {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* '/' */ && path.charCodeAt(2) === 58 /* ':' */) {\n            const code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // \"/c:\".length === 3\n            }\n        } else if (path.length >= 2 && path.charCodeAt(1) === 58 /* ':' */) {\n            const code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // \"/c:\".length === 3\n            }\n        }\n        return path;\n    }\n\n    readonly isAbsolute: boolean;\n    readonly isRoot: boolean;\n    readonly root: Path | undefined;\n    readonly base: string;\n    readonly name: string;\n    readonly ext: string;\n\n    private _dir: Path;\n    private readonly raw: string;\n\n    /**\n     * The raw should be normalized, meaning that only '/' is allowed as a path separator.\n     */\n    constructor(\n        raw: string\n    ) {\n        this.raw = Path.normalizeDrive(raw);\n        const firstIndex = raw.indexOf(Path.separator);\n        const lastIndex = raw.lastIndexOf(Path.separator);\n        this.isAbsolute = firstIndex === 0;\n        this.base = lastIndex === -1 ? raw : raw.substr(lastIndex + 1);\n        this.isRoot = this.isAbsolute && firstIndex === lastIndex && (!this.base || Path.isDrive(this.base));\n        this.root = this.computeRoot();\n\n        const extIndex = this.base.lastIndexOf('.');\n        this.name = extIndex === -1 ? this.base : this.base.substr(0, extIndex);\n        this.ext = extIndex === -1 ? '' : this.base.substr(extIndex);\n    }\n\n    protected computeRoot(): Path | undefined {\n        // '/' -> '/'\n        // '/c:' -> '/c:'\n        if (this.isRoot) {\n            return this;\n        }\n        // 'foo/bar' -> `undefined`\n        if (!this.isAbsolute) {\n            return undefined;\n        }\n        const index = this.raw.indexOf(Path.separator, Path.separator.length);\n        if (index === -1) {\n            // '/foo/bar' -> '/'\n            return new Path(Path.separator);\n        }\n        // '/c:/foo/bar' -> '/c:'\n        // '/foo/bar' -> '/'\n        return new Path(this.raw.substr(0, index)).root;\n    }\n\n    get dir(): Path {\n        if (this._dir === undefined) {\n            this._dir = this.computeDir();\n        }\n        return this._dir;\n    }\n\n    protected computeDir(): Path {\n        if (this.isRoot) {\n            return this;\n        }\n        const lastIndex = this.raw.lastIndexOf(Path.separator);\n        if (lastIndex === -1) {\n            return this;\n        }\n        if (this.isAbsolute) {\n            const firstIndex = this.raw.indexOf(Path.separator);\n            if (firstIndex === lastIndex) {\n                return new Path(this.raw.substr(0, firstIndex + 1));\n            }\n        }\n        return new Path(this.raw.substr(0, lastIndex));\n    }\n\n    join(...paths: string[]): Path {\n        const relativePath = paths.filter(s => !!s).join(Path.separator);\n        if (!relativePath) {\n            return this;\n        }\n        if (this.raw.endsWith(Path.separator)) {\n            return new Path(this.raw + relativePath);\n        }\n        return new Path(this.raw + Path.separator + relativePath);\n    }\n\n    toString(): string {\n        return this.raw;\n    }\n\n    relative(path: Path): Path | undefined {\n        if (this.raw === path.raw) {\n            return new Path('');\n        }\n        if (!this.raw || !path.raw) {\n            return undefined;\n        }\n        const raw = this.base ? this.raw + Path.separator : this.raw;\n        if (!path.raw.startsWith(raw)) {\n            return undefined;\n        }\n        const relativePath = path.raw.substr(raw.length);\n        return new Path(relativePath);\n    }\n\n    isEqualOrParent(path: Path): boolean {\n        return !!this.relative(path);\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n    ;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\n/**\r\n * Represents programming constructs like variables, classes, interfaces etc.\r\n * that appear in a document. Document symbols can be hierarchical and they\r\n * have two ranges: one that encloses its definition and one that points to\r\n * its most interesting range, e.g. the range of an identifier.\r\n */\r\nvar DocumentSymbol = /** @class */ (function () {\r\n    function DocumentSymbol() {\r\n    }\r\n    return DocumentSymbol;\r\n}());\r\nexport { DocumentSymbol };\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void null) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data))\r\n            result.data = data;\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * A document link is a range in a text document that links to an internal or external resource, like another\r\n * text document or a web site.\r\n */\r\nvar DocumentLink = /** @class */ (function () {\r\n    function DocumentLink() {\r\n    }\r\n    return DocumentLink;\r\n}());\r\nexport { DocumentLink };\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nexport var TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason || (TextDocumentSaveReason = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = null;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = null;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === null) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { ModelChangedEvent, DocumentsMain } from '../api/plugin-api';\nimport { Range as ARange } from '../api/model';\nimport URI from 'vscode-uri';\nimport { ok } from '../common/assert';\nimport { Range, Position, EndOfLine } from './types-impl';\nimport { PrefixSumComputer } from './prefix-sum-computer';\nimport { getWordAtText, ensureValidWordDefinition } from './word-helper';\n\nconst _modeId2WordDefinition = new Map<string, RegExp | null>();\nexport function setWordDefinitionFor(modeId: string, wordDefinition: RegExp | null): void {\n    _modeId2WordDefinition.set(modeId, wordDefinition);\n}\nexport function getWordDefinitionFor(modeId: string): RegExp {\n    return _modeId2WordDefinition.get(modeId)!;\n}\n\nexport class DocumentDataExt {\n\n    private disposed = false;\n    private dirty: boolean;\n    private _document: theia.TextDocument;\n    private isDisposed = false;\n    private textLines = new Array<theia.TextLine>();\n    private lineStarts: PrefixSumComputer | undefined;\n\n    constructor(private proxy: DocumentsMain, private uri: URI, private lines: string[], private eol: string,\n        private languageId: string, private versionId: number, isDirty: boolean) {\n        this.dirty = isDirty;\n    }\n\n    dispose(): void {\n        ok(!this.disposed);\n        this.dirty = false;\n        this.disposed = true;\n    }\n\n    onEvents(e: ModelChangedEvent): void {\n        if (e.eol && e.eol !== this.eol) {\n            this.eol = e.eol;\n            this.lineStarts = undefined;\n        }\n\n        // Update my lines\n        const changes = e.changes;\n        // tslint:disable-next-line:one-variable-per-declaration\n        for (let i = 0, len = changes.length; i < len; i++) {\n            const change = changes[i];\n            this.acceptDeleteRange(change.range);\n            this.acceptInsertText(new Position(change.range.startLineNumber, change.range.startColumn), change.text);\n        }\n\n        this.versionId = e.versionId;\n    }\n    acceptIsDirty(isDirty: boolean): void {\n        ok(!this.disposed);\n        this.dirty = isDirty;\n    }\n    acceptLanguageId(langId: string): void {\n        throw new Error('Method not implemented.');\n    }\n    get document(): theia.TextDocument {\n        if (!this._document) {\n            const that = this;\n            this._document = {\n                get uri() { return that.uri; },\n                get fileName() { return that.uri.fsPath; },\n                get isUntitled() { return that.uri.scheme === 'untitled'; },\n                get languageId() { return that.languageId; },\n                get version() { return that.versionId; },\n                get isClosed() { return that.isDisposed; },\n                get isDirty() { return that.dirty; },\n                save() { return that.save(); },\n                getText(range?) { return range ? that.getTextInRange(range) : that.getText(); },\n                get eol() { return that.eol === '\\n' ? EndOfLine.LF : EndOfLine.CRLF; },\n                get lineCount() { return that.lines.length; },\n                lineAt(lineOrPos: number | theia.Position) { return that.lineAt(lineOrPos); },\n                offsetAt(pos) { return that.offsetAt(pos); },\n                positionAt(offset) { return that.positionAt(offset); },\n                validateRange(ran) { return that.validateRange(ran); },\n                validatePosition(pos) { return that.validatePosition(pos); },\n                getWordRangeAtPosition(pos, regexp?) { return that.getWordRangeAtPosition(pos, regexp); }\n            };\n        }\n        return Object.freeze(this._document);\n    }\n\n    private acceptInsertText(position: Position, insertText: string): void {\n        if (insertText.length === 0) {\n            // Nothing to insert\n            return;\n        }\n        const insertLines = insertText.split(/\\r\\n|\\r|\\n/);\n        if (insertLines.length === 1) {\n            // Inserting text on one line\n            this.setLineText(position.line - 1,\n                this.lines[position.line - 1].substring(0, position.character - 1)\n                + insertLines[0]\n                + this.lines[position.line - 1].substring(position.character - 1)\n            );\n            return;\n        }\n\n        // Append overflowing text from first line to the end of text to insert\n        insertLines[insertLines.length - 1] += this.lines[position.line - 1].substring(position.character - 1);\n\n        // Delete overflowing text from first line and insert text on first line\n        this.setLineText(position.line - 1,\n            this.lines[position.line - 1].substring(0, position.character - 1)\n            + insertLines[0]\n        );\n\n        // Insert new lines & store lengths\n        const newLengths = new Uint32Array(insertLines.length - 1);\n        for (let i = 1; i < insertLines.length; i++) {\n            this.lines.splice(position.line + i - 1, 0, insertLines[i]);\n            newLengths[i - 1] = insertLines[i].length + this.eol.length;\n        }\n\n        if (this.lineStarts) {\n            // update prefix sum\n            this.lineStarts.insertValues(position.line, newLengths);\n        }\n    }\n\n    private acceptDeleteRange(range: ARange): void {\n\n        if (range.startLineNumber === range.endLineNumber) {\n            if (range.startColumn === range.endColumn) {\n                // Nothing to delete\n                return;\n            }\n            // Delete text on the affected line\n            this.setLineText(range.startLineNumber - 1,\n                this.lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\n                + this.lines[range.startLineNumber - 1].substring(range.endColumn - 1)\n            );\n            return;\n        }\n\n        // Take remaining text on last line and append it to remaining text on first line\n        this.setLineText(range.startLineNumber - 1,\n            this.lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\n            + this.lines[range.endLineNumber - 1].substring(range.endColumn - 1)\n        );\n\n        // Delete middle lines\n        this.lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n        if (this.lineStarts) {\n            this.lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n        }\n    }\n\n    private setLineText(lineIndex: number, newValue: string): void {\n        this.lines[lineIndex] = newValue;\n        if (this.lineStarts) {\n            this.lineStarts.changeValue(lineIndex, this.lines[lineIndex].length + this.eol.length);\n        }\n    }\n\n    private save(): Promise<boolean> {\n        if (this.isDisposed) {\n            return Promise.reject(new Error('Document is closed'));\n        }\n        return this.proxy.$trySaveDocument(this.uri);\n    }\n\n    private getTextInRange(_range: theia.Range): string {\n        const range = this.validateRange(_range);\n\n        if (range.isEmpty) {\n            return '';\n        }\n\n        if (range.isSingleLine) {\n            return this.lines[range.start.line].substring(range.start.character, range.end.character);\n        }\n\n        const lineEnding = this.eol;\n        const startLineIndex = range.start.line;\n        const endLineIndex = range.end.line;\n        const resultLines: string[] = [];\n\n        resultLines.push(this.lines[startLineIndex].substring(range.start.character));\n        for (let i = startLineIndex + 1; i < endLineIndex; i++) {\n            resultLines.push(this.lines[i]);\n        }\n        resultLines.push(this.lines[endLineIndex].substring(0, range.end.character));\n\n        return resultLines.join(lineEnding);\n    }\n\n    private validateRange(range: theia.Range): theia.Range {\n        if (!(range instanceof Range)) {\n            throw new Error('Invalid argument');\n        }\n\n        const start = this.validatePosition(range.start);\n        const end = this.validatePosition(range.end);\n\n        if (start === range.start && end === range.end) {\n            return range;\n        }\n        return new Range(start.line, start.character, end.line, end.character);\n    }\n\n    private getText(): string {\n        return this.lines.join(this.eol);\n    }\n\n    private validatePosition(position: theia.Position): theia.Position {\n        if (!(position instanceof Position)) {\n            throw new Error('Invalid argument');\n        }\n\n        let { line, character } = position;\n        let hasChanged = false;\n\n        if (line < 0) {\n            line = 0;\n            character = 0;\n            hasChanged = true;\n        } else if (line >= this.lines.length) {\n            line = this.lines.length - 1;\n            character = this.lines[line].length;\n            hasChanged = true;\n        } else {\n            const maxCharacter = this.lines[line].length;\n            if (character < 0) {\n                character = 0;\n                hasChanged = true;\n            } else if (character > maxCharacter) {\n                character = maxCharacter;\n                hasChanged = true;\n            }\n        }\n\n        if (!hasChanged) {\n            return position;\n        }\n        return new Position(line, character);\n    }\n\n    private lineAt(lineOrPosition: number | theia.Position): theia.TextLine {\n\n        let line: number = -1;\n        if (lineOrPosition instanceof Position) {\n            line = lineOrPosition.line;\n        } else if (typeof lineOrPosition === 'number') {\n            line = lineOrPosition;\n        }\n\n        if (line < 0 || line >= this.lines.length) {\n            throw new Error('Illegal value for `line`');\n        }\n\n        let result = this.textLines[line];\n        if (!result || result.lineNumber !== line || result.text !== this.lines[line]) {\n\n            const text = this.lines[line];\n            const firstNonWhitespaceCharacterIndex = /^(\\s*)/.exec(text)![1].length;\n            const range = new Range(line, 0, line, text.length);\n            const rangeIncludingLineBreak = line < this.lines.length - 1\n                ? new Range(line, 0, line + 1, 0)\n                : range;\n\n            result = Object.freeze({\n                lineNumber: line,\n                range,\n                rangeIncludingLineBreak,\n                text,\n                firstNonWhitespaceCharacterIndex,\n                isEmptyOrWhitespace: firstNonWhitespaceCharacterIndex === text.length\n            });\n\n            this.textLines[line] = result;\n        }\n\n        return result;\n    }\n\n    private offsetAt(position: theia.Position): number {\n        position = this.validatePosition(position);\n        this.ensureLineStarts();\n        return this.lineStarts!.getAccumulatedValue(position.line - 1) + position.character;\n    }\n\n    private ensureLineStarts(): void {\n        if (!this.lineStarts) {\n            const eolLength = this.eol.length;\n            const linesLength = this.lines.length;\n            const lineStartValues = new Uint32Array(linesLength);\n            for (let i = 0; i < linesLength; i++) {\n                lineStartValues[i] = this.lines[i].length + eolLength;\n            }\n            this.lineStarts = new PrefixSumComputer(lineStartValues);\n        }\n    }\n\n    private positionAt(offset: number): theia.Position {\n        offset = Math.floor(offset);\n        offset = Math.max(0, offset);\n\n        this.ensureLineStarts();\n        const out = this.lineStarts!.getIndexOf(offset);\n\n        const lineLength = this.lines[out.index].length;\n\n        return new Position(out.index, Math.min(out.remainder, lineLength));\n    }\n\n    private getWordRangeAtPosition(_position: theia.Position, regexp?: RegExp): theia.Range | undefined {\n        const position = this.validatePosition(_position);\n\n        if (!regexp) {\n            // use default when custom-regexp isn't provided\n            regexp = getWordDefinitionFor(this.languageId);\n\n        } else if (regExpLeadsToEndlessLoop(regexp)) {\n            // use default when custom-regexp is bad\n            console.warn(`[getWordRangeAtPosition]: ignoring custom regexp '${regexp.source}' because it matches the empty string.`);\n            regexp = getWordDefinitionFor(this.languageId);\n        }\n\n        const wordAtText = getWordAtText(\n            position.character + 1,\n            ensureValidWordDefinition(regexp),\n            this.lines[position.line],\n            0\n        );\n\n        if (wordAtText) {\n            return new Range(position.line, wordAtText.startColumn - 1, position.line, wordAtText.endColumn - 1);\n        }\n        return undefined;\n    }\n}\n\nexport function regExpLeadsToEndlessLoop(regexp: RegExp): boolean {\n    // Exit early if it's one of these special cases which are meant to match\n    // against an empty string\n    if (regexp.source === '^' || regexp.source === '^$' || regexp.source === '$' || regexp.source === '^\\\\s*$') {\n        return false;\n    }\n\n    // We check against an empty string. If the regular expression doesn't advance\n    // (e.g. ends in an endless loop) it will match an empty string.\n    const match = regexp.exec('');\n    // tslint:disable-next-line:no-any\n    return (match && <any>regexp.lastIndex === 0)!;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport class IdGenerator {\n    private lastId: number;\n    constructor(private prefix: string) {\n        this.lastId = 0;\n    }\n\n    nextId(): string {\n        return this.prefix + (++this.lastId);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret) {\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n */\nvar URI = (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment) {\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = schemeOrData || _empty;\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return _makeFsPath(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === void 0) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === void 0) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === void 0) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === void 0) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === void 0) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value) {\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, decodeURIComponent(match[4] || _empty), decodeURIComponent(match[5] || _empty), decodeURIComponent(match[7] || _empty), decodeURIComponent(match[9] || _empty));\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string presentation for this URI. It's guardeed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._fsPath = data.fsPath;\n            result._formatted = data.external;\n            return result;\n        }\n    };\n    return URI;\n}());\nexports.default = URI;\n// tslint:disable-next-line:class-name\nvar _URI = (function (_super) {\n    __extends(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = _makeFsPath(this);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n * @param uri\n */\nfunction _makeFsPath(uri) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && ((uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122) /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        // windows drive letter: file:///c:/far/boo\n        value = uri.path[1].toLowerCase() + uri.path.substr(2);\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\nvar _a;\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * Returns `true` if the parameter has type \"object\" and not null, an array, a regexp, a date.\n */\n// tslint:disable-next-line:no-any\nexport function isObject(obj: any): boolean {\n    return typeof obj === 'object'\n        && obj !== null\n        && !Array.isArray(obj)\n        && !(obj instanceof RegExp)\n        && !(obj instanceof Date);\n}\n\n// tslint:disable-next-line:no-any\nexport function mixin(destination: any, source: any, overwrite: boolean = true): any {\n    if (!isObject(destination)) {\n        return source;\n    }\n\n    if (isObject(source)) {\n        Object.keys(source).forEach(key => {\n            if (key in destination) {\n                if (overwrite) {\n                    if (isObject(destination[key]) && isObject(source[key])) {\n                        mixin(destination[key], source[key], overwrite);\n                    } else {\n                        destination[key] = source[key];\n                    }\n                }\n            } else {\n                destination[key] = source[key];\n            }\n        });\n    }\n    return destination;\n}\n\nexport enum LogType {\n    Info,\n    Error\n}\n\nexport interface LogPart {\n    data: string;\n    type: LogType;\n}\n\n// tslint:disable-next-line:no-any\nexport interface KeysToAnyValues { [key: string]: any }\nexport interface KeysToKeysToAnyValue { [key: string]: KeysToAnyValues }\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nvar ResponseError = /** @class */ (function (_super) {\r\n    __extends(ResponseError, _super);\r\n    function ResponseError(code, message, data) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        _this.data = data;\r\n        Object.setPrototypeOf(_this, ResponseError.prototype);\r\n        return _this;\r\n    }\r\n    ResponseError.prototype.toJson = function () {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    };\r\n    return ResponseError;\r\n}(Error));\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nvar AbstractMessageType = /** @class */ (function () {\r\n    function AbstractMessageType(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    Object.defineProperty(AbstractMessageType.prototype, \"method\", {\r\n        get: function () {\r\n            return this._method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractMessageType.prototype, \"numberOfParams\", {\r\n        get: function () {\r\n            return this._numberOfParams;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AbstractMessageType;\r\n}());\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nvar RequestType0 = /** @class */ (function (_super) {\r\n    __extends(RequestType0, _super);\r\n    function RequestType0(method) {\r\n        var _this = _super.call(this, method, 0) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType0;\r\n}(AbstractMessageType));\r\nexports.RequestType0 = RequestType0;\r\nvar RequestType = /** @class */ (function (_super) {\r\n    __extends(RequestType, _super);\r\n    function RequestType(method) {\r\n        var _this = _super.call(this, method, 1) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType;\r\n}(AbstractMessageType));\r\nexports.RequestType = RequestType;\r\nvar RequestType1 = /** @class */ (function (_super) {\r\n    __extends(RequestType1, _super);\r\n    function RequestType1(method) {\r\n        var _this = _super.call(this, method, 1) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType1;\r\n}(AbstractMessageType));\r\nexports.RequestType1 = RequestType1;\r\nvar RequestType2 = /** @class */ (function (_super) {\r\n    __extends(RequestType2, _super);\r\n    function RequestType2(method) {\r\n        var _this = _super.call(this, method, 2) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType2;\r\n}(AbstractMessageType));\r\nexports.RequestType2 = RequestType2;\r\nvar RequestType3 = /** @class */ (function (_super) {\r\n    __extends(RequestType3, _super);\r\n    function RequestType3(method) {\r\n        var _this = _super.call(this, method, 3) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType3;\r\n}(AbstractMessageType));\r\nexports.RequestType3 = RequestType3;\r\nvar RequestType4 = /** @class */ (function (_super) {\r\n    __extends(RequestType4, _super);\r\n    function RequestType4(method) {\r\n        var _this = _super.call(this, method, 4) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType4;\r\n}(AbstractMessageType));\r\nexports.RequestType4 = RequestType4;\r\nvar RequestType5 = /** @class */ (function (_super) {\r\n    __extends(RequestType5, _super);\r\n    function RequestType5(method) {\r\n        var _this = _super.call(this, method, 5) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType5;\r\n}(AbstractMessageType));\r\nexports.RequestType5 = RequestType5;\r\nvar RequestType6 = /** @class */ (function (_super) {\r\n    __extends(RequestType6, _super);\r\n    function RequestType6(method) {\r\n        var _this = _super.call(this, method, 6) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType6;\r\n}(AbstractMessageType));\r\nexports.RequestType6 = RequestType6;\r\nvar RequestType7 = /** @class */ (function (_super) {\r\n    __extends(RequestType7, _super);\r\n    function RequestType7(method) {\r\n        var _this = _super.call(this, method, 7) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType7;\r\n}(AbstractMessageType));\r\nexports.RequestType7 = RequestType7;\r\nvar RequestType8 = /** @class */ (function (_super) {\r\n    __extends(RequestType8, _super);\r\n    function RequestType8(method) {\r\n        var _this = _super.call(this, method, 8) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType8;\r\n}(AbstractMessageType));\r\nexports.RequestType8 = RequestType8;\r\nvar RequestType9 = /** @class */ (function (_super) {\r\n    __extends(RequestType9, _super);\r\n    function RequestType9(method) {\r\n        var _this = _super.call(this, method, 9) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return RequestType9;\r\n}(AbstractMessageType));\r\nexports.RequestType9 = RequestType9;\r\nvar NotificationType = /** @class */ (function (_super) {\r\n    __extends(NotificationType, _super);\r\n    function NotificationType(method) {\r\n        var _this = _super.call(this, method, 1) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType;\r\n}(AbstractMessageType));\r\nexports.NotificationType = NotificationType;\r\nvar NotificationType0 = /** @class */ (function (_super) {\r\n    __extends(NotificationType0, _super);\r\n    function NotificationType0(method) {\r\n        var _this = _super.call(this, method, 0) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType0;\r\n}(AbstractMessageType));\r\nexports.NotificationType0 = NotificationType0;\r\nvar NotificationType1 = /** @class */ (function (_super) {\r\n    __extends(NotificationType1, _super);\r\n    function NotificationType1(method) {\r\n        var _this = _super.call(this, method, 1) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType1;\r\n}(AbstractMessageType));\r\nexports.NotificationType1 = NotificationType1;\r\nvar NotificationType2 = /** @class */ (function (_super) {\r\n    __extends(NotificationType2, _super);\r\n    function NotificationType2(method) {\r\n        var _this = _super.call(this, method, 2) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType2;\r\n}(AbstractMessageType));\r\nexports.NotificationType2 = NotificationType2;\r\nvar NotificationType3 = /** @class */ (function (_super) {\r\n    __extends(NotificationType3, _super);\r\n    function NotificationType3(method) {\r\n        var _this = _super.call(this, method, 3) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType3;\r\n}(AbstractMessageType));\r\nexports.NotificationType3 = NotificationType3;\r\nvar NotificationType4 = /** @class */ (function (_super) {\r\n    __extends(NotificationType4, _super);\r\n    function NotificationType4(method) {\r\n        var _this = _super.call(this, method, 4) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType4;\r\n}(AbstractMessageType));\r\nexports.NotificationType4 = NotificationType4;\r\nvar NotificationType5 = /** @class */ (function (_super) {\r\n    __extends(NotificationType5, _super);\r\n    function NotificationType5(method) {\r\n        var _this = _super.call(this, method, 5) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType5;\r\n}(AbstractMessageType));\r\nexports.NotificationType5 = NotificationType5;\r\nvar NotificationType6 = /** @class */ (function (_super) {\r\n    __extends(NotificationType6, _super);\r\n    function NotificationType6(method) {\r\n        var _this = _super.call(this, method, 6) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType6;\r\n}(AbstractMessageType));\r\nexports.NotificationType6 = NotificationType6;\r\nvar NotificationType7 = /** @class */ (function (_super) {\r\n    __extends(NotificationType7, _super);\r\n    function NotificationType7(method) {\r\n        var _this = _super.call(this, method, 7) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType7;\r\n}(AbstractMessageType));\r\nexports.NotificationType7 = NotificationType7;\r\nvar NotificationType8 = /** @class */ (function (_super) {\r\n    __extends(NotificationType8, _super);\r\n    function NotificationType8(method) {\r\n        var _this = _super.call(this, method, 8) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType8;\r\n}(AbstractMessageType));\r\nexports.NotificationType8 = NotificationType8;\r\nvar NotificationType9 = /** @class */ (function (_super) {\r\n    __extends(NotificationType9, _super);\r\n    function NotificationType9(method) {\r\n        var _this = _super.call(this, method, 9) || this;\r\n        _this._ = undefined;\r\n        return _this;\r\n    }\r\n    return NotificationType9;\r\n}(AbstractMessageType));\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    var candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    var candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    var candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nexport * from './socket';\nexport * from './reader';\nexport * from './writer';\nexport * from './connection';\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { DataCallback, AbstractMessageReader } from \"vscode-jsonrpc/lib/messageReader\";\nimport { IWebSocket } from \"./socket\";\n\nexport class WebSocketMessageReader extends AbstractMessageReader {\n\n    protected state: 'initial' | 'listening' | 'closed' = 'initial';\n    protected callback: DataCallback | undefined;\n    protected readonly events: { message?: any, error?: any }[] = [];\n\n    constructor(protected readonly socket: IWebSocket) {\n        super();\n        this.socket.onMessage(message =>\n            this.readMessage(message)\n        );\n        this.socket.onError(error =>\n            this.fireError(error)\n        );\n        this.socket.onClose((code, reason) => {\n            if (code !== 1000) {\n                const error: Error = {\n                    name: '' + code,\n                    message: `Error during socket reconnect: code = ${code}, reason = ${reason}`\n                };\n                this.fireError(error);\n            }\n            this.fireClose();\n        });\n    }\n\n    listen(callback: DataCallback): void {\n        if (this.state === 'initial') {\n            this.state = 'listening';\n            this.callback = callback;\n            while (this.events.length !== 0) {\n                const event = this.events.pop()!;\n                if (event.message) {\n                    this.readMessage(event.message);\n                } else if (event.error) {\n                    this.fireError(event.error);\n                } else {\n                    this.fireClose();\n                }\n            }\n        }\n    }\n\n    protected readMessage(message: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { message });\n        } else if (this.state === 'listening') {\n            const data = JSON.parse(message);\n            this.callback!(data);\n        }\n    }\n\n    protected fireError(error: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { error });\n        } else if (this.state === 'listening') {\n            super.fireError(error);\n        }\n    }\n\n    protected fireClose(): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, {});\n        } else if (this.state === 'listening') {\n            super.fireClose();\n        }\n        this.state = 'closed';\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { Message } from \"vscode-jsonrpc/lib/messages\";\nimport { AbstractMessageWriter } from \"vscode-jsonrpc/lib/messageWriter\";\nimport { IWebSocket } from \"./socket\";\n\nexport class WebSocketMessageWriter extends AbstractMessageWriter {\n\n    protected errorCount = 0;\n\n    constructor(protected readonly socket: IWebSocket) {\n        super();\n    }\n\n    write(msg: Message): void {\n        try {\n            const content = JSON.stringify(msg);\n            this.socket.send(content);\n        } catch (e) {\n            this.errorCount++;\n            this.fireError(e, msg, this.errorCount);\n        }\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { Logger } from \"vscode-jsonrpc\";\n\nexport class ConsoleLogger implements Logger {\n    public error(message: string): void {\n        console.error(message);\n    }\n\n    public warn(message: string): void {\n        console.warn(message);\n    }\n\n    public info(message: string): void {\n        console.info(message);\n    }\n\n    public log(message: string): void {\n        console.log(message);\n    }\n\n    public debug(message: string): void {\n        console.debug(message);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Disposable } from './disposable-util';\nimport { PluginMessageReader } from './plugin-message-reader';\nimport { PluginMessageWriter } from './plugin-message-writer';\nimport { MessageReader, MessageWriter, Message } from 'vscode-jsonrpc';\nimport { IWebSocket } from 'vscode-ws-jsonrpc/lib/socket/socket';\n\n/**\n * The interface for describing the connection between plugins and main side.\n */\nexport interface Connection extends Disposable {\n    readonly reader: MessageReader;\n    readonly writer: MessageWriter;\n    /**\n     * Allows to forward messages to another connection.\n     *\n     * @param to the connection to forward messages\n     * @param map the function in which the message can be changed before forwarding\n     */\n    forward(to: Connection, map?: (message: Message) => Message): void;\n}\n\n/**\n * The container for message reader and writer which can be used to create connection between plugins and main side.\n */\nexport class PluginConnection implements Connection {\n    constructor(\n        readonly reader: PluginMessageReader,\n        readonly writer: PluginMessageWriter,\n        readonly dispose: () => void) {\n    }\n\n    forward(to: Connection, map: (message: Message) => Message = message => message): void {\n        this.reader.listen(input => {\n            const output = map(input);\n            to.writer.write(output);\n        });\n    }\n}\n\n/**\n * [IWebSocket](#IWebSocket) implementation over RPC.\n */\nexport class PluginWebSocketChannel implements IWebSocket {\n    constructor(protected readonly connection: PluginConnection) { }\n\n    send(content: string): void {\n        this.connection.writer.write(content);\n    }\n\n    // tslint:disable-next-line:no-any\n    onMessage(cb: (data: any) => void): void {\n        this.connection.reader.listen(cb);\n    }\n\n    // tslint:disable-next-line:no-any\n    onError(cb: (reason: any) => void): void {\n        this.connection.reader.onError(e => cb(e));\n    }\n\n    onClose(cb: (code: number, reason: string) => void): void {\n        this.connection.reader.onClose(() => cb(-1, 'closed'));\n    }\n\n    dispose(): void {\n        this.connection.dispose();\n    }\n}\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { RPCProtocolImpl } from '../../../api/rpc-protocol';\nimport { PluginManagerExtImpl } from '../../../plugin/plugin-manager';\nimport { MAIN_RPC_CONTEXT, Plugin, emptyPlugin } from '../../../api/plugin-api';\nimport { createAPIFactory } from '../../../plugin/plugin-context';\nimport { getPluginId, PluginMetadata } from '../../../common/plugin-protocol';\nimport * as theia from '@theia/plugin';\nimport { EnvExtImpl } from '../../../plugin/env';\nimport { PreferenceRegistryExtImpl } from '../../../plugin/preference-registry';\nimport { ExtPluginApi } from '../../../common/plugin-ext-api-contribution';\nimport { createDebugExtStub } from './debug-stub';\n\n// tslint:disable-next-line:no-any\nconst ctx = self as any;\n\nconst pluginsApiImpl = new Map<string, typeof theia>();\nconst pluginsModulesNames = new Map<string, Plugin>();\n\nconst emitter = new Emitter();\nconst rpc = new RPCProtocolImpl({\n    onMessage: emitter.event,\n    send: (m: {}) => {\n        ctx.postMessage(m);\n    }\n});\n// tslint:disable-next-line:no-any\naddEventListener('message', (message: any) => {\n    emitter.fire(message.data);\n});\nfunction initialize(contextPath: string, pluginMetadata: PluginMetadata): void {\n    ctx.importScripts('/context/' + contextPath);\n}\nconst envExt = new EnvExtImpl(rpc);\nconst preferenceRegistryExt = new PreferenceRegistryExtImpl(rpc);\nconst debugExt = createDebugExtStub(rpc);\n\nconst pluginManager = new PluginManagerExtImpl({\n    // tslint:disable-next-line:no-any\n    loadPlugin(plugin: Plugin): any {\n        if (isElectron()) {\n            ctx.importScripts(plugin.pluginPath);\n        } else {\n            ctx.importScripts('/hostedPlugin/' + getPluginId(plugin.model) + '/' + plugin.pluginPath);\n        }\n\n        if (plugin.lifecycle.frontendModuleName) {\n            if (!ctx[plugin.lifecycle.frontendModuleName]) {\n                console.error(`WebWorker: Cannot start plugin \"${plugin.model.name}\". Frontend plugin not found: \"${plugin.lifecycle.frontendModuleName}\"`);\n                return;\n            }\n            return ctx[plugin.lifecycle.frontendModuleName];\n        }\n    },\n    init(rawPluginData: PluginMetadata[]): [Plugin[], Plugin[]] {\n        const result: Plugin[] = [];\n        const foreign: Plugin[] = [];\n        for (const plg of rawPluginData) {\n            const pluginModel = plg.model;\n            const pluginLifecycle = plg.lifecycle;\n            if (pluginModel.entryPoint!.frontend) {\n                let frontendInitPath = pluginLifecycle.frontendInitPath;\n                if (frontendInitPath) {\n                    initialize(frontendInitPath, plg);\n                } else {\n                    frontendInitPath = '';\n                }\n                const plugin: Plugin = {\n                    pluginPath: pluginModel.entryPoint.frontend!,\n                    pluginFolder: plg.source.packagePath,\n                    model: pluginModel,\n                    lifecycle: pluginLifecycle,\n                    rawModel: plg.source\n                };\n                result.push(plugin);\n                const apiImpl = apiFactory(plugin);\n                pluginsApiImpl.set(plugin.model.id, apiImpl);\n                pluginsModulesNames.set(plugin.lifecycle.frontendModuleName!, plugin);\n            } else {\n                foreign.push({\n                    pluginPath: pluginModel.entryPoint.backend!,\n                    pluginFolder: plg.source.packagePath,\n                    model: pluginModel,\n                    lifecycle: pluginLifecycle,\n                    rawModel: plg.source\n                });\n            }\n        }\n\n        return [result, foreign];\n    },\n    initExtApi(extApi: ExtPluginApi[]) {\n        for (const api of extApi) {\n            try {\n                if (api.frontendExtApi) {\n                    ctx.importScripts(api.frontendExtApi.initPath);\n                    ctx[api.frontendExtApi.initVariable][api.frontendExtApi.initFunction](rpc, pluginsModulesNames);\n                }\n\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }\n}, envExt, preferenceRegistryExt, rpc);\n\nconst apiFactory = createAPIFactory(\n    rpc,\n    pluginManager,\n    envExt,\n    debugExt,\n    preferenceRegistryExt);\nlet defaultApi: typeof theia;\n\nconst handler = {\n    // tslint:disable-next-line:no-any\n    get: (target: any, name: string) => {\n        const plugin = pluginsModulesNames.get(name);\n        if (plugin) {\n            const apiImpl = pluginsApiImpl.get(plugin.model.id);\n            return apiImpl;\n        }\n\n        if (!defaultApi) {\n            defaultApi = apiFactory(emptyPlugin);\n        }\n\n        return defaultApi;\n    }\n};\n// tslint:disable-next-line:no-null-keyword\nctx['theia'] = new Proxy(Object.create(null), handler);\n\nrpc.set(MAIN_RPC_CONTEXT.HOSTED_PLUGIN_MANAGER_EXT, pluginManager);\nrpc.set(MAIN_RPC_CONTEXT.PREFERENCE_REGISTRY_EXT, preferenceRegistryExt);\n\nfunction isElectron() {\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    PLUGIN_RPC_CONTEXT,\n    MAIN_RPC_CONTEXT,\n    PluginManagerExt,\n    PluginInitData,\n    PluginManager,\n    Plugin,\n    PluginAPI,\n    ConfigStorage\n} from '../api/plugin-api';\nimport { PluginMetadata } from '../common/plugin-protocol';\nimport * as theia from '@theia/plugin';\nimport { join } from 'path';\nimport { dispose } from '../common/disposable-util';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { EnvExtImpl } from './env';\nimport { PreferenceRegistryExtImpl } from './preference-registry';\nimport { Memento, KeyValueStorageProxy } from './plugin-storage';\nimport { ExtPluginApi } from '../common/plugin-ext-api-contribution';\nimport { RPCProtocol } from '../api/rpc-protocol';\n\nexport interface PluginHost {\n\n    // tslint:disable-next-line:no-any\n    loadPlugin(plugin: Plugin): any;\n\n    init(data: PluginMetadata[]): [Plugin[], Plugin[]];\n\n    initExtApi(extApi: ExtPluginApi[]): void;\n}\n\ninterface StopFn {\n    (): void;\n}\n\nclass ActivatedPlugin {\n    constructor(public readonly pluginContext: theia.PluginContext,\n        public readonly exports?: PluginAPI,\n        public readonly stopFn?: StopFn) {\n    }\n}\n\nexport class PluginManagerExtImpl implements PluginManagerExt, PluginManager {\n\n    private registry = new Map<string, Plugin>();\n    private activatedPlugins = new Map<string, ActivatedPlugin>();\n    private pluginActivationPromises = new Map<string, Deferred<void>>();\n    private pluginContextsMap: Map<string, theia.PluginContext> = new Map();\n    private storageProxy: KeyValueStorageProxy;\n\n    constructor(\n        private readonly host: PluginHost,\n        private readonly envExt: EnvExtImpl,\n        private readonly preferencesManager: PreferenceRegistryExtImpl,\n        private readonly rpc: RPCProtocol\n    ) { }\n\n    $stopPlugin(contextPath: string): PromiseLike<void> {\n        this.activatedPlugins.forEach(plugin => {\n            if (plugin.stopFn) {\n                plugin.stopFn();\n            }\n\n            // dispose any objects\n            const pluginContext = plugin.pluginContext;\n            if (pluginContext) {\n                dispose(pluginContext.subscriptions);\n            }\n        });\n        return Promise.resolve();\n    }\n\n    $init(pluginInit: PluginInitData, configStorage: ConfigStorage): PromiseLike<void> {\n        this.storageProxy = this.rpc.set(\n            MAIN_RPC_CONTEXT.STORAGE_EXT,\n            new KeyValueStorageProxy(this.rpc.getProxy(PLUGIN_RPC_CONTEXT.STORAGE_MAIN),\n                                     pluginInit.globalState,\n                                     pluginInit.workspaceState)\n        );\n\n        // init query parameters\n        this.envExt.setQueryParameters(pluginInit.env.queryParams);\n\n        this.preferencesManager.init(pluginInit.preferences);\n\n        if (pluginInit.extApi) {\n            this.host.initExtApi(pluginInit.extApi);\n        }\n\n        const [plugins, foreignPlugins] = this.host.init(pluginInit.plugins);\n        // add foreign plugins\n        for (const plugin of foreignPlugins) {\n            this.registry.set(plugin.model.id, plugin);\n        }\n        // add own plugins, before initialization\n        for (const plugin of plugins) {\n            this.registry.set(plugin.model.id, plugin);\n        }\n\n        // run plugins\n        for (const plugin of plugins) {\n            const pluginMain = this.host.loadPlugin(plugin);\n            // able to load the plug-in ?\n            if (pluginMain !== undefined) {\n                this.startPlugin(plugin, configStorage, pluginMain);\n            } else {\n                return Promise.reject(new Error('Unable to load the given plugin'));\n            }\n        }\n\n        return Promise.resolve();\n    }\n\n    $updateStoragePath(path: string | undefined): PromiseLike<void> {\n        this.pluginContextsMap.forEach((pluginContext: theia.PluginContext, pluginId: string) => {\n            pluginContext.storagePath = path ? join(path, pluginId) : undefined;\n        });\n        return Promise.resolve();\n    }\n\n    // tslint:disable-next-line:no-any\n    private startPlugin(plugin: Plugin, configStorage: ConfigStorage, pluginMain: any): void {\n        const subscriptions: theia.Disposable[] = [];\n        const asAbsolutePath = (relativePath: string): string => join(plugin.pluginFolder, relativePath);\n        const logPath = join(configStorage.hostLogPath, plugin.model.id); // todo check format\n        const storagePath = join(configStorage.hostStoragePath, plugin.model.id);\n        const pluginContext: theia.PluginContext = {\n            extensionPath: plugin.pluginFolder,\n            globalState: new Memento(plugin.model.id, true, this.storageProxy),\n            workspaceState: new Memento(plugin.model.id, false, this.storageProxy),\n            subscriptions: subscriptions,\n            asAbsolutePath: asAbsolutePath,\n            logPath: logPath,\n            storagePath: storagePath,\n        };\n        this.pluginContextsMap.set(plugin.model.id, pluginContext);\n\n        let stopFn = undefined;\n        if (typeof pluginMain[plugin.lifecycle.stopMethod] === 'function') {\n            stopFn = pluginMain[plugin.lifecycle.stopMethod];\n        }\n        if (typeof pluginMain[plugin.lifecycle.startMethod] === 'function') {\n            const pluginExport = pluginMain[plugin.lifecycle.startMethod].apply(getGlobal(), [pluginContext]);\n            this.activatedPlugins.set(plugin.model.id, new ActivatedPlugin(pluginContext, pluginExport, stopFn));\n\n            // resolve activation promise\n            if (this.pluginActivationPromises.has(plugin.model.id)) {\n                this.pluginActivationPromises.get(plugin.model.id)!.resolve();\n                this.pluginActivationPromises.delete(plugin.model.id);\n            }\n        } else {\n            console.log(`There is no ${plugin.lifecycle.startMethod} method on plugin`);\n        }\n    }\n\n    getAllPlugins(): Plugin[] {\n        return Array.from(this.registry.values());\n    }\n    getPluginExport(pluginId: string): PluginAPI | undefined {\n        const activePlugin = this.activatedPlugins.get(pluginId);\n        if (activePlugin) {\n            return activePlugin.exports;\n        }\n        return undefined;\n    }\n\n    getPluginById(pluginId: string): Plugin | undefined {\n        return this.registry.get(pluginId);\n    }\n\n    isRunning(pluginId: string): boolean {\n        return this.registry.has(pluginId);\n    }\n\n    activatePlugin(pluginId: string): PromiseLike<void> {\n        if (this.pluginActivationPromises.has(pluginId)) {\n            return this.pluginActivationPromises.get(pluginId)!.promise;\n        }\n\n        const deferred = new Deferred<void>();\n        this.pluginActivationPromises.set(pluginId, deferred);\n        return deferred.promise;\n    }\n\n}\n\n// for electron\nfunction getGlobal() {\n    // tslint:disable-next-line:no-null-keyword\n    return typeof self === 'undefined' ? typeof global === 'undefined' ? null : global : self;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { StorageMain, StorageExt } from '../api/plugin-api';\nimport { KeysToAnyValues, KeysToKeysToAnyValue } from '../common/types';\n\nexport class Memento implements theia.Memento {\n\n    private cache: KeysToAnyValues;\n\n    constructor(\n        private readonly pluginId: string,\n        private readonly isPluginGlobalData: boolean,\n        private readonly storage: KeyValueStorageProxy\n    ) {\n        this.cache = storage.getPerPluginData(pluginId, isPluginGlobalData);\n\n        if (!this.isPluginGlobalData) {\n            this.storage.storageDataChangedEvent((data: KeysToKeysToAnyValue) => {\n                this.cache = data[this.pluginId] ? data[this.pluginId] : {};\n            });\n        }\n    }\n\n    get<T>(key: string): T | undefined;\n    get<T>(key: string, defaultValue: T): T;\n    get<T>(key: string, defaultValue?: T): T | undefined {\n        if (key && this.cache[key]) {\n            return this.cache[key];\n        } else {\n            return defaultValue;\n        }\n    }\n\n    // tslint:disable-next-line:no-any\n    update(key: string, value: any): Promise<void> {\n        this.cache[key] = value;\n        return this.storage.setPerPluginData(this.pluginId, this.cache, this.isPluginGlobalData).then(_ => undefined);\n    }\n}\n\n/**\n * Singleton.\n * Is used to proxy storage requests to main side.\n */\nexport class KeyValueStorageProxy implements StorageExt {\n\n    private storageDataChangedEmitter = new Emitter<KeysToKeysToAnyValue>();\n    public readonly storageDataChangedEvent: Event<KeysToKeysToAnyValue> = this.storageDataChangedEmitter.event;\n\n    private readonly proxy: StorageMain;\n\n    private globalDataCache: KeysToKeysToAnyValue;\n    private workspaceDataCache: KeysToKeysToAnyValue;\n\n    constructor(\n        proxy: StorageMain,\n        initGlobalData: KeysToKeysToAnyValue,\n        initWorkspaceData: KeysToKeysToAnyValue\n    ) {\n        this.proxy = proxy;\n\n        this.globalDataCache = initGlobalData;\n        this.workspaceDataCache = initWorkspaceData;\n    }\n\n    getPerPluginData(key: string, isGlobal: boolean): KeysToAnyValues {\n        if (isGlobal) {\n            const existed = this.globalDataCache[key];\n            return existed ? existed : {};\n        } else {\n            const existed = this.workspaceDataCache[key];\n            return existed ? existed : {};\n        }\n    }\n\n    setPerPluginData(key: string, value: KeysToAnyValues, isGlobal: boolean): Promise<boolean> {\n        if (isGlobal) {\n            this.globalDataCache[key] = value;\n        } else {\n            this.workspaceDataCache[key] = value;\n        }\n\n        return this.proxy.$set(key, value, isGlobal);\n    }\n\n    $updatePluginsWorkspaceData(workspaceData: KeysToKeysToAnyValue): void {\n        this.workspaceDataCache = workspaceData;\n        this.storageDataChangedEmitter.fire(workspaceData);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport * as theia from '@theia/plugin';\nimport { CommandRegistryImpl } from './command-registry';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { CancellationTokenSource } from '@theia/core/lib/common/cancellation';\nimport { QuickOpenExtImpl } from './quick-open';\nimport { MAIN_RPC_CONTEXT, Plugin as InternalPlugin, PluginManager, PluginAPIFactory } from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { MessageRegistryExt } from './message-registry';\nimport { StatusBarMessageRegistryExt } from './status-bar-message-registry';\nimport { WindowStateExtImpl } from './window-state';\nimport { WorkspaceExtImpl } from './workspace';\nimport { EnvExtImpl } from './env';\nimport { QueryParameters } from '../common/env';\nimport {\n    ConfigurationTarget,\n    Disposable,\n    Position,\n    Range,\n    Selection,\n    ViewColumn,\n    TextEditorSelectionChangeKind,\n    EndOfLine,\n    SnippetString,\n    ThemeColor,\n    ThemeIcon,\n    TextEditorRevealType,\n    TextEditorLineNumbersStyle,\n    DecorationRangeBehavior,\n    OverviewRulerLane,\n    StatusBarAlignment,\n    RelativePattern,\n    IndentAction,\n    CompletionItem,\n    CompletionItemKind,\n    CompletionList,\n    TextEdit,\n    CompletionTriggerKind,\n    Diagnostic,\n    DiagnosticRelatedInformation,\n    DiagnosticSeverity,\n    DiagnosticTag,\n    Location,\n    Progress,\n    ProgressOptions,\n    ProgressLocation,\n    ParameterInformation,\n    SignatureInformation,\n    SignatureHelp,\n    Hover,\n    DocumentHighlightKind,\n    DocumentHighlight,\n    DocumentLink,\n    CodeLens,\n    CodeActionKind,\n    CodeActionTrigger,\n    TextDocumentSaveReason,\n    CodeAction,\n    TreeItem,\n    TreeItemCollapsibleState,\n    DocumentSymbol,\n    WorkspaceEdit,\n    SymbolInformation,\n    FileType,\n    FileChangeType,\n    ShellQuoting,\n    ShellExecution,\n    ProcessExecution,\n    TaskScope,\n    TaskPanelKind,\n    TaskRevealKind,\n    TaskGroup,\n    Task,\n    Breakpoint,\n    SourceBreakpoint,\n    FunctionBreakpoint,\n    FoldingRange,\n    FoldingRangeKind,\n    Color,\n    ColorInformation,\n    ColorPresentation,\n} from './types-impl';\nimport { SymbolKind } from '../api/model';\nimport { EditorsAndDocumentsExtImpl } from './editors-and-documents';\nimport { TextEditorsExtImpl } from './text-editors';\nimport { DocumentsExtImpl } from './documents';\nimport Uri from 'vscode-uri';\nimport { TextEditorCursorStyle } from '../common/editor-options';\nimport { PreferenceRegistryExtImpl } from './preference-registry';\nimport { OutputChannelRegistryExt } from './output-channel-registry';\nimport { TerminalServiceExtImpl } from './terminal-ext';\nimport { LanguagesExtImpl, score } from './languages';\nimport { fromDocumentSelector } from './type-converters';\nimport { DialogsExtImpl } from './dialogs';\nimport { NotificationExtImpl } from './notification';\nimport { StatusBarExtImpl } from './statusBar';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { MarkdownString } from './markdown-string';\nimport { TreeViewsExtImpl } from './tree/tree-views';\nimport { LanguagesContributionExtImpl } from './languages-contribution-ext';\nimport { ConnectionExtImpl } from './connection-ext';\nimport { WebviewsExtImpl } from './webviews';\nimport { TasksExtImpl } from './tasks/tasks';\nimport { DebugExtImpl } from './node/debug/debug';\n\nexport function createAPIFactory(\n    rpc: RPCProtocol,\n    pluginManager: PluginManager,\n    envExt: EnvExtImpl,\n    debugExt: DebugExtImpl,\n    preferenceRegistryExt: PreferenceRegistryExtImpl): PluginAPIFactory {\n\n    const commandRegistry = rpc.set(MAIN_RPC_CONTEXT.COMMAND_REGISTRY_EXT, new CommandRegistryImpl(rpc));\n    const quickOpenExt = rpc.set(MAIN_RPC_CONTEXT.QUICK_OPEN_EXT, new QuickOpenExtImpl(rpc));\n    const dialogsExt = new DialogsExtImpl(rpc);\n    const messageRegistryExt = new MessageRegistryExt(rpc);\n    const windowStateExt = rpc.set(MAIN_RPC_CONTEXT.WINDOW_STATE_EXT, new WindowStateExtImpl());\n    const notificationExt = rpc.set(MAIN_RPC_CONTEXT.NOTIFICATION_EXT, new NotificationExtImpl(rpc));\n    const statusBarExt = new StatusBarExtImpl(rpc);\n    const editorsAndDocuments = rpc.set(MAIN_RPC_CONTEXT.EDITORS_AND_DOCUMENTS_EXT, new EditorsAndDocumentsExtImpl(rpc));\n    const editors = rpc.set(MAIN_RPC_CONTEXT.TEXT_EDITORS_EXT, new TextEditorsExtImpl(rpc, editorsAndDocuments));\n    const documents = rpc.set(MAIN_RPC_CONTEXT.DOCUMENTS_EXT, new DocumentsExtImpl(rpc, editorsAndDocuments));\n    const workspaceExt = rpc.set(MAIN_RPC_CONTEXT.WORKSPACE_EXT, new WorkspaceExtImpl(rpc, editorsAndDocuments));\n    const statusBarMessageRegistryExt = new StatusBarMessageRegistryExt(rpc);\n    const terminalExt = rpc.set(MAIN_RPC_CONTEXT.TERMINAL_EXT, new TerminalServiceExtImpl(rpc));\n    const outputChannelRegistryExt = new OutputChannelRegistryExt(rpc);\n    const languagesExt = rpc.set(MAIN_RPC_CONTEXT.LANGUAGES_EXT, new LanguagesExtImpl(rpc, documents, commandRegistry));\n    const treeViewsExt = rpc.set(MAIN_RPC_CONTEXT.TREE_VIEWS_EXT, new TreeViewsExtImpl(rpc, commandRegistry));\n    const webviewExt = rpc.set(MAIN_RPC_CONTEXT.WEBVIEWS_EXT, new WebviewsExtImpl(rpc));\n    const tasksExt = rpc.set(MAIN_RPC_CONTEXT.TASKS_EXT, new TasksExtImpl(rpc));\n    const connectionExt = rpc.set(MAIN_RPC_CONTEXT.CONNECTION_EXT, new ConnectionExtImpl(rpc));\n    const languagesContributionExt = rpc.set(MAIN_RPC_CONTEXT.LANGUAGES_CONTRIBUTION_EXT, new LanguagesContributionExtImpl(rpc, connectionExt));\n    rpc.set(MAIN_RPC_CONTEXT.DEBUG_EXT, debugExt);\n\n    return function (plugin: InternalPlugin): typeof theia {\n        const commands: typeof theia.commands = {\n            // tslint:disable-next-line:no-any\n            registerCommand(command: theia.Command, handler?: <T>(...args: any[]) => T | Thenable<T>): Disposable {\n                return commandRegistry.registerCommand(command, handler);\n            },\n            // tslint:disable-next-line:no-any\n            executeCommand<T>(commandId: string, ...args: any[]): PromiseLike<T | undefined> {\n                return commandRegistry.executeCommand<T>(commandId, args);\n            },\n            // tslint:disable-next-line:no-any\n            registerTextEditorCommand(command: theia.Command, callback: (textEditor: theia.TextEditor, edit: theia.TextEditorEdit, ...arg: any[]) => void): Disposable {\n                throw new Error('Function registerTextEditorCommand is not implemented');\n            },\n            // tslint:disable-next-line:no-any\n            registerHandler(commandId: string, handler: (...args: any[]) => any): Disposable {\n                return commandRegistry.registerHandler(commandId, handler);\n            }\n        };\n\n        const window: typeof theia.window = {\n            get activeTextEditor() {\n                return editors.getActiveEditor();\n            },\n            get visibleTextEditors() {\n                return editors.getVisibleTextEditors();\n            },\n            onDidChangeActiveTextEditor(listener, thisArg?, disposables?) {\n                return editors.onDidChangeActiveTextEditor(listener, thisArg, disposables);\n            },\n            onDidChangeVisibleTextEditors(listener, thisArg?, disposables?) {\n                return editors.onDidChangeVisibleTextEditors(listener, thisArg, disposables);\n            },\n            onDidChangeTextEditorSelection(listener, thisArg?, disposables?) {\n                return editors.onDidChangeTextEditorSelection(listener, thisArg, disposables);\n            },\n            onDidChangeTextEditorOptions(listener, thisArg?, disposables?) {\n                return editors.onDidChangeTextEditorOptions(listener, thisArg, disposables);\n            },\n            onDidChangeTextEditorViewColumn(listener, thisArg?, disposables?) {\n                return editors.onDidChangeTextEditorViewColumn(listener, thisArg, disposables);\n            },\n            onDidChangeTextEditorVisibleRanges(listener, thisArg?, disposables?) {\n                return editors.onDidChangeTextEditorVisibleRanges(listener, thisArg, disposables);\n            },\n            async showTextDocument(documentArg: theia.TextDocument | Uri,\n                optionsArg?: theia.TextDocumentShowOptions | theia.ViewColumn,\n                preserveFocus?: boolean\n            ): Promise<theia.TextEditor> {\n                let documentOptions: theia.TextDocumentShowOptions | undefined;\n                const uri: Uri = documentArg instanceof Uri ? documentArg : documentArg.uri;\n                if (optionsArg) {\n                    // tslint:disable-next-line:no-any\n                    const optionsAny: any = optionsArg;\n                    if (optionsAny.preserveFocus || optionsAny.preview || optionsAny.selection || optionsAny.viewColumn) {\n                        documentOptions = optionsArg as theia.TextDocumentShowOptions;\n                    }\n                }\n                if (preserveFocus) {\n                    if (documentOptions) {\n                        documentOptions.preserveFocus = preserveFocus;\n                    } else {\n                        documentOptions = { preserveFocus };\n                    }\n                }\n                await documents.openDocument(uri, documentOptions);\n                const textEditor = editors.getVisibleTextEditors().find(editor => editor.document.uri.toString() === uri.toString());\n                if (textEditor) {\n                    return Promise.resolve(textEditor);\n                } else {\n                    throw new Error(`Failed to show text document ${documentArg.toString()}`);\n                }\n            },\n            // tslint:disable-next-line:no-any\n            showQuickPick(items: any, options: theia.QuickPickOptions, token?: theia.CancellationToken): any {\n                if (token) {\n                    const coreEvent = Object.assign(token.onCancellationRequested, { maxListeners: 0 });\n                    const coreCancellationToken = { isCancellationRequested: token.isCancellationRequested, onCancellationRequested: coreEvent };\n                    return quickOpenExt.showQuickPick(items, options, coreCancellationToken);\n                } else {\n                    return quickOpenExt.showQuickPick(items, options);\n                }\n            },\n            showWorkspaceFolderPick(options?: theia.WorkspaceFolderPickOptions): PromiseLike<theia.WorkspaceFolder | undefined> {\n                return workspaceExt.pickWorkspaceFolder(options);\n            },\n            showInformationMessage(message: string,\n                optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n                // tslint:disable-next-line:no-any\n                ...items: any[]): PromiseLike<any> {\n                return messageRegistryExt.showInformationMessage(message, optionsOrFirstItem, items);\n            },\n            showWarningMessage(message: string,\n                optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n                // tslint:disable-next-line:no-any\n                ...items: any[]): PromiseLike<any> {\n                return messageRegistryExt.showWarningMessage(message, optionsOrFirstItem, items);\n            },\n            showErrorMessage(message: string,\n                optionsOrFirstItem: theia.MessageOptions | string | theia.MessageItem,\n                // tslint:disable-next-line:no-any\n                ...items: any[]): PromiseLike<any> {\n                return messageRegistryExt.showErrorMessage(message, optionsOrFirstItem, items);\n            },\n            showOpenDialog(options: theia.OpenDialogOptions): PromiseLike<Uri[] | undefined> {\n                return dialogsExt.showOpenDialog(options);\n            },\n            showSaveDialog(options: theia.SaveDialogOptions): PromiseLike<Uri | undefined> {\n                return dialogsExt.showSaveDialog(options);\n            },\n            // tslint:disable-next-line:no-any\n            setStatusBarMessage(text: string, arg?: number | PromiseLike<any>): Disposable {\n                return statusBarMessageRegistryExt.setStatusBarMessage(text, arg);\n            },\n            showInputBox(options?: theia.InputBoxOptions, token?: theia.CancellationToken) {\n                if (token) {\n                    const coreEvent = Object.assign(token.onCancellationRequested, { maxListeners: 0 });\n                    const coreCancellationToken = { isCancellationRequested: token.isCancellationRequested, onCancellationRequested: coreEvent };\n                    return quickOpenExt.showInput(options, coreCancellationToken);\n                } else {\n                    return quickOpenExt.showInput(options);\n                }\n            },\n            createStatusBarItem(alignment?: theia.StatusBarAlignment, priority?: number): theia.StatusBarItem {\n                return statusBarMessageRegistryExt.createStatusBarItem(alignment, priority);\n            },\n            createOutputChannel(name: string): theia.OutputChannel {\n                return outputChannelRegistryExt.createOutputChannel(name);\n            },\n            createWebviewPanel(viewType: string,\n                title: string,\n                showOptions: theia.ViewColumn | { viewColumn: theia.ViewColumn, preserveFocus?: boolean },\n                options: theia.WebviewPanelOptions & theia.WebviewOptions): theia.WebviewPanel {\n                return webviewExt.createWebview(viewType, title, showOptions, options, Uri.file(plugin.pluginPath));\n            },\n            registerWebviewPanelSerializer(viewType: string, serializer: theia.WebviewPanelSerializer): theia.Disposable {\n                return webviewExt.registerWebviewPanelSerializer(viewType, serializer);\n            },\n            get state(): theia.WindowState {\n                return windowStateExt.getWindowState();\n            },\n            onDidChangeWindowState(listener, thisArg?, disposables?): theia.Disposable {\n                return windowStateExt.onDidChangeWindowState(listener, thisArg, disposables);\n            },\n            createTerminal(nameOrOptions: theia.TerminalOptions | (string | undefined), shellPath?: string, shellArgs?: string[]): theia.Terminal {\n                return terminalExt.createTerminal(nameOrOptions, shellPath, shellArgs);\n            },\n            get onDidCloseTerminal(): theia.Event<theia.Terminal> {\n                return terminalExt.onDidCloseTerminal;\n            },\n            set onDidCloseTerminal(event: theia.Event<theia.Terminal>) {\n                terminalExt.onDidCloseTerminal = event;\n            },\n            createTextEditorDecorationType(options: theia.DecorationRenderOptions): theia.TextEditorDecorationType {\n                return editors.createTextEditorDecorationType(options);\n            },\n            registerTreeDataProvider<T>(viewId: string, treeDataProvider: theia.TreeDataProvider<T>): Disposable {\n                return treeViewsExt.registerTreeDataProvider(viewId, treeDataProvider);\n            },\n            createTreeView<T>(viewId: string, options: { treeDataProvider: theia.TreeDataProvider<T> }): theia.TreeView<T> {\n                return treeViewsExt.createTreeView(viewId, options);\n            },\n            withProgress<R>(\n                options: ProgressOptions,\n                task: (progress: Progress<{ message?: string; increment?: number }>, token: theia.CancellationToken) => PromiseLike<R>\n            ): PromiseLike<R> {\n                switch (options.location) {\n                    case ProgressLocation.Notification: return notificationExt.withProgress(options, task);\n                    case ProgressLocation.Window: return statusBarExt.withProgress(options, task);\n                    case ProgressLocation.SourceControl: return new Promise(() => {\n                        console.error('Progress location \\'SourceControl\\' is not supported.');\n                    });\n                }\n            }\n        };\n\n        const workspace: typeof theia.workspace = {\n            get workspaceFolders(): theia.WorkspaceFolder[] | undefined {\n                return workspaceExt.workspaceFolders;\n            },\n            get name(): string | undefined {\n                return workspaceExt.name;\n            },\n            onDidChangeWorkspaceFolders(listener, thisArg?, disposables?): theia.Disposable {\n                return workspaceExt.onDidChangeWorkspaceFolders(listener, thisArg, disposables);\n            },\n            get textDocuments() {\n                return documents.getAllDocumentData().map(data => data.document);\n            },\n            onDidChangeTextDocument(listener, thisArg?, disposables?) {\n                return documents.onDidChangeDocument(listener, thisArg, disposables);\n            },\n            onDidCloseTextDocument(listener, thisArg?, disposables?) {\n                return documents.onDidRemoveDocument(listener, thisArg, disposables);\n            },\n            onDidOpenTextDocument(listener, thisArg?, disposables?) {\n                return documents.onDidAddDocument(listener, thisArg, disposables);\n            },\n            onDidSaveTextDocument(listener, thisArg?, disposables?) {\n                return documents.onDidSaveTextDocument(listener, thisArg, disposables);\n            },\n            getConfiguration(section?, resource?): theia.WorkspaceConfiguration {\n                return preferenceRegistryExt.getConfiguration(section, resource);\n            },\n            onDidChangeConfiguration(listener, thisArgs?, disposables?): theia.Disposable {\n                return preferenceRegistryExt.onDidChangeConfiguration(listener, thisArgs, disposables);\n            },\n            async openTextDocument(uriOrFileNameOrOptions?: theia.Uri | string | { language?: string; content?: string; }): Promise<theia.TextDocument | undefined> {\n                const options = uriOrFileNameOrOptions as { language?: string; content?: string; };\n\n                let uri: Uri;\n                if (typeof uriOrFileNameOrOptions === 'string') {\n                    uri = Uri.file(uriOrFileNameOrOptions);\n\n                } else if (uriOrFileNameOrOptions instanceof Uri) {\n                    uri = uriOrFileNameOrOptions;\n\n                } else if (!options || typeof options === 'object') {\n                    uri = await documents.createDocumentData(options);\n\n                } else {\n                    return Promise.reject('illegal argument - uriOrFileNameOrOptions');\n                }\n\n                const data = await documents.openDocument(uri);\n                return data && data.document;\n            },\n            createFileSystemWatcher(globPattern: theia.GlobPattern,\n                ignoreCreateEvents?: boolean,\n                ignoreChangeEvents?: boolean,\n                ignoreDeleteEvents?: boolean): theia.FileSystemWatcher {\n                return workspaceExt.createFileSystemWatcher(globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents);\n            },\n            findFiles(include: theia.GlobPattern, exclude?: theia.GlobPattern | undefined, maxResults?: number, token?: CancellationToken): PromiseLike<Uri[]> {\n                return workspaceExt.findFiles(include, undefined, maxResults, token);\n            },\n            registerTextDocumentContentProvider(scheme: string, provider: theia.TextDocumentContentProvider): theia.Disposable {\n                return workspaceExt.registerTextDocumentContentProvider(scheme, provider);\n            },\n            registerFileSystemProvider(scheme: string, provider: theia.FileSystemProvider, options?: { isCaseSensitive?: boolean, isReadonly?: boolean }): theia.Disposable {\n                // FIXME: to implement\n                return new Disposable(() => { });\n            },\n            getWorkspaceFolder(uri: theia.Uri): theia.WorkspaceFolder | Uri | undefined {\n                return workspaceExt.getWorkspaceFolder(uri);\n            },\n            asRelativePath(pathOrUri: theia.Uri | string, includeWorkspace?: boolean): string | undefined {\n                return workspaceExt.getRelativePath(pathOrUri, includeWorkspace);\n            },\n        };\n\n        const env: typeof theia.env = {\n            getEnvVariable(envVarName: string): PromiseLike<string | undefined> {\n                return envExt.getEnvVariable(envVarName);\n            },\n            getQueryParameter(queryParamName: string): string | string[] | undefined {\n                return envExt.getQueryParameter(queryParamName);\n            },\n            getQueryParameters(): QueryParameters {\n                return envExt.getQueryParameters();\n            }\n        };\n\n        const languageServer: typeof theia.languageServer = {\n            registerLanguageServerProvider(languageServerInfo: theia.LanguageServerInfo): Disposable {\n                return languagesContributionExt.registerLanguageServerProvider(languageServerInfo);\n            },\n            stop(id: string): void {\n                languagesContributionExt.stop(id);\n            }\n        };\n\n        const languages: typeof theia.languages = {\n            getLanguages(): PromiseLike<string[]> {\n                return languagesExt.getLanguages();\n            },\n            match(selector: theia.DocumentSelector, document: theia.TextDocument): number {\n                return score(fromDocumentSelector(selector), document.uri, document.languageId, true);\n            },\n            get onDidChangeDiagnostics(): theia.Event<theia.DiagnosticChangeEvent> {\n                return languagesExt.onDidChangeDiagnostics;\n            },\n            getDiagnostics(resource?: Uri) {\n                // tslint:disable-next-line:no-any\n                return <any>languagesExt.getDiagnostics(resource);\n            },\n            createDiagnosticCollection(name?: string): theia.DiagnosticCollection {\n                return languagesExt.createDiagnosticCollection(name);\n            },\n            setLanguageConfiguration(language: string, configuration: theia.LanguageConfiguration): theia.Disposable {\n                return languagesExt.setLanguageConfiguration(language, configuration);\n            },\n            registerCompletionItemProvider(selector: theia.DocumentSelector, provider: theia.CompletionItemProvider, ...triggerCharacters: string[]): theia.Disposable {\n                return languagesExt.registerCompletionItemProvider(selector, provider, triggerCharacters);\n            },\n            registerDefinitionProvider(selector: theia.DocumentSelector, provider: theia.DefinitionProvider): theia.Disposable {\n                return languagesExt.registerDefinitionProvider(selector, provider);\n            },\n            registerSignatureHelpProvider(selector: theia.DocumentSelector, provider: theia.SignatureHelpProvider, ...triggerCharacters: string[]): theia.Disposable {\n                return languagesExt.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n            },\n            registerTypeDefinitionProvider(selector: theia.DocumentSelector, provider: theia.TypeDefinitionProvider): theia.Disposable {\n                return languagesExt.registerTypeDefinitionProvider(selector, provider);\n            },\n            registerImplementationProvider(selector: theia.DocumentSelector, provider: theia.ImplementationProvider): theia.Disposable {\n                return languagesExt.registerImplementationProvider(selector, provider);\n            },\n            registerHoverProvider(selector: theia.DocumentSelector, provider: theia.HoverProvider): theia.Disposable {\n                return languagesExt.registerHoverProvider(selector, provider);\n            },\n            registerDocumentHighlightProvider(selector: theia.DocumentSelector, provider: theia.DocumentHighlightProvider): theia.Disposable {\n                return languagesExt.registerDocumentHighlightProvider(selector, provider);\n            },\n            registerWorkspaceSymbolProvider(provider: theia.WorkspaceSymbolProvider): theia.Disposable {\n                return languagesExt.registerWorkspaceSymbolProvider(provider);\n            },\n            registerDocumentFormattingEditProvider(selector: theia.DocumentSelector, provider: theia.DocumentFormattingEditProvider): theia.Disposable {\n                return languagesExt.registerDocumentFormattingEditProvider(selector, provider);\n            },\n            registerDocumentRangeFormattingEditProvider(selector: theia.DocumentSelector, provider: theia.DocumentRangeFormattingEditProvider): theia.Disposable {\n                return languagesExt.registerDocumentRangeFormattingEditProvider(selector, provider);\n            },\n            registerOnTypeFormattingEditProvider(\n                selector: theia.DocumentSelector,\n                provider: theia.OnTypeFormattingEditProvider,\n                firstTriggerCharacter: string,\n                ...moreTriggerCharacters: string[]\n            ): theia.Disposable {\n                return languagesExt.registerOnTypeFormattingEditProvider(selector, provider, [firstTriggerCharacter].concat(moreTriggerCharacters));\n            },\n            registerDocumentLinkProvider(selector: theia.DocumentSelector, provider: theia.DocumentLinkProvider): theia.Disposable {\n                return languagesExt.registerLinkProvider(selector, provider);\n            },\n            registerCodeActionsProvider(selector: theia.DocumentSelector, provider: theia.CodeActionProvider, metadata?: theia.CodeActionProviderMetadata): theia.Disposable {\n                return languagesExt.registerCodeActionsProvider(selector, provider, plugin.model, metadata);\n            },\n            registerCodeLensProvider(selector: theia.DocumentSelector, provider: theia.CodeLensProvider): theia.Disposable {\n                return languagesExt.registerCodeLensProvider(selector, provider);\n            },\n            registerReferenceProvider(selector: theia.DocumentSelector, provider: theia.ReferenceProvider): theia.Disposable {\n                return languagesExt.registerReferenceProvider(selector, provider);\n            },\n            registerDocumentSymbolProvider(selector: theia.DocumentSelector, provider: theia.DocumentSymbolProvider): theia.Disposable {\n                return languagesExt.registerDocumentSymbolProvider(selector, provider);\n            },\n            registerColorProvider(selector: theia.DocumentSelector, provider: theia.DocumentColorProvider): theia.Disposable {\n                return languagesExt.registerColorProvider(selector, provider);\n            },\n            registerFoldingRangeProvider(selector: theia.DocumentSelector, provider: theia.FoldingRangeProvider): theia.Disposable {\n                return languagesExt.registerFoldingRangeProvider(selector, provider);\n            },\n        };\n\n        const plugins: typeof theia.plugins = {\n            // tslint:disable-next-line:no-any\n            get all(): theia.Plugin<any>[] {\n                return pluginManager.getAllPlugins().map(plg => new Plugin(pluginManager, plg));\n            },\n            // tslint:disable-next-line:no-any\n            getPlugin(pluginId: string): theia.Plugin<any> | undefined {\n                const plg = pluginManager.getPluginById(pluginId);\n                if (plg) {\n                    return new Plugin(pluginManager, plg);\n                }\n                return undefined;\n            }\n        };\n\n        const debuggersContributions = plugin.model.contributes && plugin.model.contributes.debuggers || [];\n        debugExt.assistedInject(connectionExt, commandRegistry);\n        debugExt.registerDebuggersContributions(plugin.pluginFolder, debuggersContributions);\n        const debug: typeof theia.debug = {\n            get activeDebugSession(): theia.DebugSession | undefined {\n                return debugExt.activeDebugSession;\n            },\n            get activeDebugConsole(): theia.DebugConsole {\n                return debugExt.activeDebugConsole;\n            },\n            get breakpoints(): theia.Breakpoint[] {\n                return debugExt.breakpoints;\n            },\n            get onDidChangeActiveDebugSession(): theia.Event<theia.DebugSession | undefined> {\n                return debugExt.onDidChangeActiveDebugSession;\n            },\n            get onDidStartDebugSession(): theia.Event<theia.DebugSession> {\n                return debugExt.onDidStartDebugSession;\n            },\n            get onDidReceiveDebugSessionCustomEvent(): theia.Event<theia.DebugSessionCustomEvent> {\n                return debugExt.onDidReceiveDebugSessionCustomEvent;\n            },\n            get onDidTerminateDebugSession(): theia.Event<theia.DebugSession> {\n                return debugExt.onDidTerminateDebugSession;\n            },\n            get onDidChangeBreakpoints(): theia.Event<theia.BreakpointsChangeEvent> {\n                return debugExt.onDidChangeBreakpoints;\n            },\n            registerDebugConfigurationProvider(debugType: string, provider: theia.DebugConfigurationProvider): Disposable {\n                return debugExt.registerDebugConfigurationProvider(debugType, provider);\n            },\n            startDebugging(folder: theia.WorkspaceFolder | undefined, nameOrConfiguration: string | theia.DebugConfiguration): Thenable<boolean> {\n                return debugExt.startDebugging(folder, nameOrConfiguration);\n            },\n            addBreakpoints(breakpoints: theia.Breakpoint[]): void {\n                debugExt.addBreakpoints(breakpoints);\n            },\n            removeBreakpoints(breakpoints: theia.Breakpoint[]): void {\n                debugExt.removeBreakpoints(breakpoints);\n            }\n        };\n\n        const tasks: typeof theia.tasks = {\n            registerTaskProvider(type: string, provider: theia.TaskProvider): theia.Disposable {\n                return tasksExt.registerTaskProvider(type, provider);\n            },\n\n            onDidStartTask(listener, thisArg?, disposables?) {\n                return tasksExt.onDidStartTask(listener, thisArg, disposables);\n            }\n        };\n\n        return <typeof theia>{\n            version: require('../../package.json').version,\n            commands,\n            window,\n            workspace,\n            env,\n            languageServer,\n            languages,\n            plugins,\n            debug,\n            tasks,\n            // Types\n            StatusBarAlignment: StatusBarAlignment,\n            Disposable: Disposable,\n            EventEmitter: Emitter,\n            CancellationTokenSource: CancellationTokenSource,\n            MarkdownString,\n            Position: Position,\n            Range: Range,\n            Selection: Selection,\n            ViewColumn: ViewColumn,\n            TextEditorSelectionChangeKind: TextEditorSelectionChangeKind,\n            Uri: Uri,\n            EndOfLine,\n            TextEditorRevealType,\n            TextEditorCursorStyle,\n            TextEditorLineNumbersStyle,\n            ThemeColor,\n            ThemeIcon,\n            SnippetString,\n            DecorationRangeBehavior,\n            OverviewRulerLane,\n            ConfigurationTarget,\n            RelativePattern,\n            IndentAction,\n            CompletionItem,\n            CompletionItemKind,\n            CompletionList,\n            DiagnosticSeverity,\n            DiagnosticRelatedInformation,\n            Location,\n            DiagnosticTag,\n            Diagnostic,\n            CompletionTriggerKind,\n            TextEdit,\n            ProgressLocation,\n            ProgressOptions,\n            Progress,\n            ParameterInformation,\n            SignatureInformation,\n            SignatureHelp,\n            Hover,\n            DocumentHighlightKind,\n            DocumentHighlight,\n            DocumentLink,\n            CodeLens,\n            CodeActionKind,\n            CodeActionTrigger,\n            TextDocumentSaveReason,\n            CodeAction,\n            TreeItem,\n            TreeItemCollapsibleState,\n            SymbolKind,\n            DocumentSymbol,\n            WorkspaceEdit,\n            SymbolInformation,\n            FileType,\n            FileChangeType,\n            ShellQuoting,\n            ShellExecution,\n            ProcessExecution,\n            TaskScope,\n            TaskRevealKind,\n            TaskPanelKind,\n            TaskGroup,\n            Task,\n            Breakpoint,\n            SourceBreakpoint,\n            FunctionBreakpoint,\n            Color,\n            ColorInformation,\n            ColorPresentation,\n            FoldingRange,\n            FoldingRangeKind,\n        };\n    };\n}\n\nclass Plugin<T> implements theia.Plugin<T> {\n    id: string;\n    pluginPath: string;\n    isActive: boolean;\n    // tslint:disable-next-line:no-any\n    packageJSON: any;\n    pluginType: theia.PluginType;\n    constructor(private readonly pluginManager: PluginManager, plugin: InternalPlugin) {\n        this.id = plugin.model.id;\n        this.pluginPath = plugin.pluginFolder;\n        this.packageJSON = plugin.rawModel;\n        this.isActive = true;\n        this.pluginType = plugin.model.entryPoint.frontend ? 'frontend' : 'backend';\n    }\n\n    get exports(): T {\n        return <T>this.pluginManager.getPluginExport(this.id);\n    }\n\n    activate(): PromiseLike<T> {\n        return this.pluginManager.activatePlugin(this.id).then(() => this.exports);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { CommandRegistryExt, PLUGIN_RPC_CONTEXT as Ext, CommandRegistryMain } from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Disposable } from './types-impl';\nimport { Command } from '../api/model';\nimport { ObjectIdentifier } from '../common/object-identifier';\n\n// tslint:disable-next-line:no-any\nexport type Handler = <T>(...args: any[]) => T | PromiseLike<T>;\n\nexport class CommandRegistryImpl implements CommandRegistryExt {\n\n    private proxy: CommandRegistryMain;\n    private commands = new Map<string, Handler>();\n\n    private readonly converter: CommandsConverter;\n\n    // tslint:disable-next-line:no-any\n    private static EMPTY_HANDLER(...args: any[]): Promise<any> { return Promise.resolve(undefined); }\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.COMMAND_REGISTRY_MAIN);\n        this.converter = new CommandsConverter(this);\n\n        // register internal VS Code commands\n        this.registerHandler('vscode.previewHtml', CommandRegistryImpl.EMPTY_HANDLER);\n    }\n\n    getConverter(): CommandsConverter {\n        return this.converter;\n    }\n\n    registerCommand(command: theia.Command, handler?: Handler): Disposable {\n        if (this.commands.has(command.id)) {\n            throw new Error(`Command ${command.id} already exist`);\n        }\n        if (handler) {\n            this.commands.set(command.id, handler);\n        }\n        this.proxy.$registerCommand(command);\n\n        return Disposable.create(() => {\n            this.commands.delete(command.id);\n            this.proxy.$unregisterCommand(command.id);\n        });\n\n    }\n\n    registerHandler(commandId: string, handler: Handler): Disposable {\n        if (this.commands.has(commandId)) {\n            throw new Error(`Command ${commandId} already has handler`);\n        }\n        this.commands.set(commandId, handler);\n        return Disposable.create(() => {\n            this.commands.delete(commandId);\n            this.proxy.$unregisterCommand(commandId);\n        });\n    }\n\n    dispose(): void {\n        throw new Error('Method not implemented.');\n    }\n\n    // tslint:disable-next-line:no-any\n    $executeCommand<T>(id: string, args: any[]): PromiseLike<T> {\n        if (this.commands.has(id)) {\n            return this.executeLocalCommand(id, args);\n        } else {\n            return Promise.reject(`Command: ${id} does not exist.`);\n        }\n    }\n\n    // tslint:disable-next-line:no-any\n    executeCommand<T>(id: string, args: any[]): PromiseLike<T | undefined> {\n        if (this.commands.has(id)) {\n            return this.executeLocalCommand(id, args);\n        } else {\n            return this.proxy.$executeCommand(id, args);\n        }\n    }\n\n    // tslint:disable-next-line:no-any\n    private executeLocalCommand<T>(id: string, args: any[]): PromiseLike<T> {\n        const handler = this.commands.get(id);\n        if (handler) {\n            return Promise.resolve(handler(args));\n        } else {\n            return Promise.reject(new Error(`Command ${id} doesn't exist`));\n        }\n    }\n}\n\n/** Converter between internal and api commands. */\nexport class CommandsConverter {\n\n    private readonly delegatingCommandId: string;\n\n    private cacheId = 0;\n    private cache = new Map<number, theia.Command>();\n\n    constructor(private readonly commands: CommandRegistryImpl) {\n        this.delegatingCommandId = `_internal_command_delegation_${Date.now()}`;\n        this.commands.registerHandler(this.delegatingCommandId, this.executeConvertedCommand);\n    }\n\n    toInternal(command: theia.Command | undefined): Command | undefined {\n        if (!command || !command.label) {\n            return undefined;\n        }\n\n        const result: Command = {\n            id: command.id,\n            title: command.label\n        };\n\n        if (command.id && !CommandsConverter.isFalsyOrEmpty(command.arguments)) {\n            const id = this.cacheId++;\n            ObjectIdentifier.mixin(result, id);\n            this.cache.set(id, command);\n\n            result.id = this.delegatingCommandId;\n            result.arguments = [id];\n        }\n\n        if (command.tooltip) {\n            result.tooltip = command.tooltip;\n        }\n\n        return result;\n    }\n\n    fromInternal(command: Command | undefined): theia.Command | undefined {\n        if (!command) {\n            return undefined;\n        }\n\n        const id = ObjectIdentifier.of(command);\n        if (typeof id === 'number') {\n            return this.cache.get(id);\n        } else {\n            return {\n                id: command.id,\n                label: command.title,\n                arguments: command.arguments\n            };\n        }\n    }\n\n    // tslint:disable-next-line:no-any\n    private executeConvertedCommand(...args: any[]): PromiseLike<any> {\n        const actualCmd = this.cache.get(args[0]);\n        if (!actualCmd) {\n            return Promise.resolve(undefined);\n        }\n        return this.commands.executeCommand(actualCmd.id, actualCmd.arguments || []);\n    }\n\n    /**\n     * @returns `false` if the provided object is an array and not empty.\n     */\n    // tslint:disable-next-line:no-any\n    private static isFalsyOrEmpty(obj: any): boolean {\n        // tslint:disable-next-line:no-any\n        return !Array.isArray(obj) || (<Array<any>>obj).length === 0;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { QuickOpenExt, PLUGIN_RPC_CONTEXT as Ext, QuickOpenMain, PickOpenItem } from '../api/plugin-api';\nimport { QuickPickOptions, QuickPickItem, InputBoxOptions } from '@theia/plugin';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { anyPromise } from '../api/async-util';\nimport { hookCancellationToken } from '../api/async-util';\n\nexport type Item = string | QuickPickItem;\n\nexport class QuickOpenExtImpl implements QuickOpenExt {\n    private proxy: QuickOpenMain;\n    private selectItemHandler: undefined | ((handle: number) => void);\n    private validateInputHandler: undefined | ((input: string) => string | PromiseLike<string | undefined> | undefined);\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.QUICK_OPEN_MAIN);\n    }\n    $onItemSelected(handle: number): void {\n        if (this.selectItemHandler) {\n            this.selectItemHandler(handle);\n        }\n    }\n    $validateInput(input: string): PromiseLike<string | undefined> | undefined {\n        if (this.validateInputHandler) {\n            return Promise.resolve(this.validateInputHandler(input));\n        }\n        return undefined;\n    }\n\n    showQuickPick(promiseOrItems: QuickPickItem[] | PromiseLike<QuickPickItem[]>, options?: QuickPickOptions, token?: CancellationToken): PromiseLike<QuickPickItem | undefined>;\n    // tslint:disable-next-line:max-line-length\n    showQuickPick(promiseOrItems: QuickPickItem[] | PromiseLike<QuickPickItem[]>, options?: QuickPickOptions & { canSelectMany: true; }, token?: CancellationToken): PromiseLike<QuickPickItem[] | undefined>;\n    showQuickPick(promiseOrItems: string[] | PromiseLike<string[]>, options?: QuickPickOptions, token?: CancellationToken): PromiseLike<string | undefined>;\n    // tslint:disable-next-line:max-line-length\n    showQuickPick(promiseOrItems: Item[] | PromiseLike<Item[]>, options?: QuickPickOptions, token: CancellationToken = CancellationToken.None): PromiseLike<Item | Item[] | undefined> {\n        this.selectItemHandler = undefined;\n        const itemPromise = Promise.resolve(promiseOrItems);\n        const widgetPromise = this.proxy.$show({\n            canSelectMany: options && options.canPickMany,\n            placeHolder: options && options.placeHolder,\n            autoFocus: { autoFocusFirstEntry: true },\n            matchOnDescription: options && options.machOnDescription,\n            matchOnDetail: options && options.machOnDetail,\n            ignoreFocusLost: options && options.ignoreFocusOut\n        });\n\n        const promise = anyPromise(<PromiseLike<number | Item[]>[]>[widgetPromise, itemPromise]).then(values => {\n            if (values.key === 0) {\n                return undefined;\n            }\n            return itemPromise.then(items => {\n                const pickItems: PickOpenItem[] = [];\n                for (let handle = 0; handle < items.length; handle++) {\n                    const item = items[handle];\n                    let label: string;\n                    let description: string | undefined;\n                    let detail: string | undefined;\n                    let picked: boolean | undefined;\n                    if (typeof item === 'string') {\n                        label = item;\n                    } else {\n                        ({ label, description, detail, picked } = item);\n                    }\n                    pickItems.push({\n                        label,\n                        description,\n                        handle,\n                        detail,\n                        picked\n                    });\n                }\n\n                if (options && typeof options.onDidSelectItem === 'function') {\n                    this.selectItemHandler = handle => {\n                        options.onDidSelectItem!(items[handle]);\n                    };\n                }\n\n                this.proxy.$setItems(pickItems);\n\n                return widgetPromise.then(handle => {\n                    if (typeof handle === 'number') {\n                        return items[handle];\n                    } else if (Array.isArray(handle)) {\n                        return handle.map(h => items[h]);\n                    }\n                    return undefined;\n                });\n            }, err => {\n                this.proxy.$setError(err);\n                return Promise.reject(err);\n            });\n        });\n        return hookCancellationToken<Item | Item[] | undefined>(token, promise);\n    }\n\n    showInput(options?: InputBoxOptions, token: CancellationToken = CancellationToken.None): PromiseLike<string | undefined> {\n        this.validateInputHandler = options && options.validateInput;\n\n        if (!options) {\n            options = {\n                placeHolder: ''\n            };\n        }\n\n        const promise = this.proxy.$input(options, typeof this.validateInputHandler === 'function');\n        return hookCancellationToken(token, promise);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport {\n    PLUGIN_RPC_CONTEXT as Ext, MessageRegistryMain\n} from '../api/plugin-api';\nimport {RPCProtocol} from '../api/rpc-protocol';\nimport {MessageItem, MessageOptions} from '@theia/plugin';\n\nexport class MessageRegistryExt {\n\n    private proxy: MessageRegistryMain;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.MESSAGE_REGISTRY_MAIN);\n    }\n\n    showInformationMessage(message: string,\n                           optionsOrFirstItem: MessageOptions | string | MessageItem,\n                           items: string[] | MessageItem[]): PromiseLike<string | MessageItem | undefined> {\n        return this.proxy.$showInformationMessage(message, optionsOrFirstItem, items);\n    }\n\n    showWarningMessage(message: string,\n                           optionsOrFirstItem: MessageOptions | string | MessageItem,\n                           items: string[] | MessageItem[]): PromiseLike<string | MessageItem | undefined> {\n        return this.proxy.$showWarningMessage(message, optionsOrFirstItem, items);\n    }\n\n    showErrorMessage(message: string,\n                           optionsOrFirstItem: MessageOptions | string | MessageItem,\n                           items: string[] | MessageItem[]): PromiseLike<string | MessageItem | undefined> {\n        return this.proxy.$showErrorMessage(message, optionsOrFirstItem, items);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport {Disposable, StatusBarAlignment} from './types-impl';\nimport {StatusBarItem} from '@theia/plugin';\nimport {\n    PLUGIN_RPC_CONTEXT as Ext, StatusBarMessageRegistryMain\n} from '../api/plugin-api';\nimport {RPCProtocol} from '../api/rpc-protocol';\nimport {StatusBarItemImpl} from './status-bar/status-bar-item';\n\nexport class StatusBarMessageRegistryExt {\n\n    proxy: StatusBarMessageRegistryMain;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.STATUS_BAR_MESSAGE_REGISTRY_MAIN);\n    }\n\n    // tslint:disable-next-line:no-any\n    setStatusBarMessage(text: string, arg?: number | PromiseLike<any>): Disposable {\n        let id: string;\n        this.proxy.$setMessage(text, 0, 1, undefined, undefined, undefined).then((messageId: string) => {\n            id = messageId;\n        });\n        let handle: NodeJS.Timer;\n\n        if (typeof arg === 'number') {\n            handle = setTimeout(() => this.dispose(id), <number>arg);\n        } else if (typeof arg !== 'undefined') {\n            arg.then(() => this.dispose(id), () => this.dispose(id));\n        }\n\n        return Disposable.create(() => {\n            this.dispose(id);\n            if (handle) {\n                clearTimeout(handle);\n            }\n        });\n    }\n\n    private dispose(id: string): void {\n        if (!id) {\n            return;\n        }\n        this.proxy.$dispose(id);\n    }\n\n    createStatusBarItem(alignment?: StatusBarAlignment, priority?: number): StatusBarItem {\n        return new StatusBarItemImpl(this.proxy, alignment, priority);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport * as theia from '@theia/plugin';\nimport { ThemeColor, StatusBarAlignment } from '../types-impl';\nimport { StatusBarMessageRegistryMain } from '../../api/plugin-api';\nimport { VS_COLORS } from './vscolor-const';\n\nexport class StatusBarItemImpl implements theia.StatusBarItem {\n    private _messageId: string;\n    private _alignment: StatusBarAlignment;\n    private _priority: number;\n\n    private _text: string;\n    private _tooltip: string;\n    private _color: string | ThemeColor;\n    private _command: string;\n\n    private _isVisible: boolean;\n    private _timeoutHandle: NodeJS.Timer | undefined;\n\n    _proxy: StatusBarMessageRegistryMain;\n\n    constructor(_proxy: StatusBarMessageRegistryMain,\n        alignment: StatusBarAlignment = StatusBarAlignment.Left,\n        priority: number = 0) {\n        this._proxy = _proxy;\n        this._alignment = alignment;\n        this._priority = priority;\n    }\n\n    public get alignment(): theia.StatusBarAlignment {\n        return <theia.StatusBarAlignment>this._alignment;\n    }\n\n    public get priority(): number {\n        return this._priority;\n    }\n\n    public get text(): string {\n        return this._text;\n    }\n\n    public get tooltip(): string {\n        return this._tooltip;\n    }\n\n    public get color(): string | ThemeColor {\n        return this._color;\n    }\n\n    public get command(): string {\n        return this._command;\n    }\n\n    public set text(text: string) {\n        this._text = text;\n        this.update();\n    }\n\n    public set tooltip(tooltip: string) {\n        this._tooltip = tooltip;\n        this.update();\n    }\n\n    public set color(color: string | ThemeColor) {\n        this._color = color;\n        this.update();\n    }\n\n    public set command(command: string) {\n        this._command = command;\n        this.update();\n    }\n\n    public show(): void {\n        this._isVisible = true;\n        this.update();\n    }\n\n    public hide(): void {\n        if (this._timeoutHandle) {\n            clearTimeout(this._timeoutHandle);\n        }\n        if (this._messageId) {\n            this._proxy.$dispose(this._messageId);\n        }\n        this._isVisible = false;\n    }\n\n    private update(): void {\n        if (!this._isVisible) {\n            return;\n        }\n\n        if (this._messageId) {\n            this._proxy.$dispose(this._messageId);\n        }\n\n        if (this._timeoutHandle) {\n            clearTimeout(this._timeoutHandle);\n        }\n\n        // Defer the update so that multiple changes to setters don't cause a redraw each\n        this._timeoutHandle = setTimeout(() => {\n            this._timeoutHandle = undefined;\n\n            // Set to status bar\n            this._proxy.$setMessage(this.text,\n                this.priority,\n                this.alignment,\n                this.getColor(),\n                this.tooltip,\n                this.command).then((id: string) => {\n                    this._messageId = id;\n                });\n        }, 0);\n    }\n\n    private getColor(): string | undefined {\n        if (typeof this.color !== 'string' && typeof this.color !== 'undefined') {\n            const colorId = (<ThemeColor>this.color).id;\n            return `var(${VS_COLORS[colorId] ? VS_COLORS[colorId] : colorId})`;\n        }\n        return this.color;\n    }\n\n    public dispose(): void {\n        this.hide();\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nexport const VS_COLORS: {[vsColorId: string]: string} = {\n    'statusBar.foreground': '--theia-layout-color4',\n    'editorOverviewRuler.errorForeground': '--theia-error-color0',\n    'editorOverviewRuler.warningForeground': '--theia-warn-color0',\n    'editorOverviewRuler.infoForeground': '--theia-info-color0'\n};\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { WindowState } from '@theia/plugin';\nimport { WindowStateExt } from '../api/plugin-api';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\n\nexport class WindowStateExtImpl implements WindowStateExt {\n\n    private windowStateCached: WindowState;\n\n    private windowStateChangedEmitter = new Emitter<WindowState>();\n    public readonly onDidChangeWindowState: Event<WindowState> = this.windowStateChangedEmitter.event;\n\n    constructor() {\n        this.windowStateCached = { focused: true }; // supposed tab is active on start\n    }\n\n    getWindowState(): WindowState {\n        return this.windowStateCached;\n    }\n\n    $onWindowStateChanged(focused: boolean): void {\n        const state = { focused: focused };\n        if (state === this.windowStateCached) {\n            return;\n        }\n\n        this.windowStateCached = state;\n        this.windowStateChangedEmitter.fire(state);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as paths from 'path';\nimport * as theia from '@theia/plugin';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport {\n    WorkspaceExt,\n    WorkspaceFolderPickOptionsMain,\n    WorkspaceMain,\n    PLUGIN_RPC_CONTEXT as Ext\n} from '../api/plugin-api';\nimport { Path } from '@theia/core/lib/common/path';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { WorkspaceRootsChangeEvent, FileChangeEvent } from '../api/model';\nimport { EditorsAndDocumentsExtImpl } from './editors-and-documents';\nimport { InPluginFileSystemWatcherProxy } from './in-plugin-filesystem-watcher-proxy';\nimport URI from 'vscode-uri';\nimport { FileStat } from '@theia/filesystem/lib/common';\nimport { normalize } from '../common/paths';\nimport { relative } from '../common/paths-util';\n\nexport class WorkspaceExtImpl implements WorkspaceExt {\n\n    private proxy: WorkspaceMain;\n    private fileSystemWatcherManager: InPluginFileSystemWatcherProxy;\n\n    private workspaceFoldersChangedEmitter = new Emitter<theia.WorkspaceFoldersChangeEvent>();\n    public readonly onDidChangeWorkspaceFolders: Event<theia.WorkspaceFoldersChangeEvent> = this.workspaceFoldersChangedEmitter.event;\n\n    private folders: theia.WorkspaceFolder[] | undefined;\n    private documentContentProviders = new Map<string, theia.TextDocumentContentProvider>();\n\n    constructor(rpc: RPCProtocol, private editorsAndDocuments: EditorsAndDocumentsExtImpl) {\n        this.proxy = rpc.getProxy(Ext.WORKSPACE_MAIN);\n        this.fileSystemWatcherManager = new InPluginFileSystemWatcherProxy(this.proxy);\n    }\n\n    get workspaceFolders(): theia.WorkspaceFolder[] | undefined {\n        return this.folders;\n    }\n\n    get name(): string | undefined {\n        if (this.workspaceFolders) {\n            return new Path(this.workspaceFolders[0].uri.path).base;\n        }\n\n        return undefined;\n    }\n\n    $onWorkspaceFoldersChanged(event: WorkspaceRootsChangeEvent): void {\n        const newRoots = event.roots || [];\n        const newFolders = newRoots.map((root, index) => this.toWorkspaceFolder(root, index));\n        const added = this.foldersDiff(newFolders, this.folders);\n        const removed = this.foldersDiff(this.folders, newFolders);\n\n        this.folders = newFolders;\n\n        this.workspaceFoldersChangedEmitter.fire({\n            added: added,\n            removed: removed\n        });\n    }\n\n    private foldersDiff(folder1: theia.WorkspaceFolder[] = [], folder2: theia.WorkspaceFolder[] = []): theia.WorkspaceFolder[] {\n        const map = new Map();\n        folder1.forEach(folder => map.set(folder.uri.toString(), folder));\n        folder2.forEach(folder => map.delete(folder.uri.toString()));\n\n        return folder1.filter(folder => map.has(folder.uri.toString()));\n    }\n\n    private toWorkspaceFolder(root: FileStat, index: number): theia.WorkspaceFolder {\n        const uri = URI.parse(root.uri);\n        const path = new Path(uri.path);\n        return {\n            uri: uri,\n            name: path.base,\n            index: index\n        };\n    }\n\n    pickWorkspaceFolder(options?: theia.WorkspaceFolderPickOptions): PromiseLike<theia.WorkspaceFolder | undefined> {\n        return new Promise((resolve, reject) => {\n            const optionsMain: WorkspaceFolderPickOptionsMain = {\n                placeHolder: options && options.placeHolder ? options.placeHolder : undefined,\n                ignoreFocusOut: options && options.ignoreFocusOut\n            };\n\n            this.proxy.$pickWorkspaceFolder(optionsMain).then(value => {\n                resolve(value);\n            });\n        });\n    }\n\n    findFiles(include: theia.GlobPattern, exclude?: theia.GlobPattern | undefined, maxResults?: number,\n        token: CancellationToken = CancellationToken.None): PromiseLike<URI[]> {\n        let includePattern: string;\n        if (include) {\n            if (typeof include === 'string') {\n                includePattern = include;\n            } else {\n                includePattern = include.pattern;\n            }\n        } else {\n            includePattern = '';\n        }\n\n        let excludePatternOrDisregardExcludes: string | false;\n        if (exclude === undefined) {\n            excludePatternOrDisregardExcludes = false;\n        } else if (exclude) {\n            if (typeof exclude === 'string') {\n                excludePatternOrDisregardExcludes = exclude;\n            } else {\n                excludePatternOrDisregardExcludes = exclude.pattern;\n            }\n        } else {\n            excludePatternOrDisregardExcludes = false;\n        }\n\n        if (token && token.isCancellationRequested) {\n            return Promise.resolve([]);\n        }\n\n        return this.proxy.$startFileSearch(includePattern, excludePatternOrDisregardExcludes, maxResults, token)\n            .then(data => Array.isArray(data) ? data.map(URI.revive) : []);\n    }\n\n    createFileSystemWatcher(globPattern: theia.GlobPattern, ignoreCreateEvents?: boolean, ignoreChangeEvents?: boolean, ignoreDeleteEvents?: boolean): theia.FileSystemWatcher {\n        return this.fileSystemWatcherManager.createFileSystemWatcher(globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents);\n    }\n\n    $fileChanged(event: FileChangeEvent): void {\n        this.fileSystemWatcherManager.onFileSystemEvent(event.subscriberId, URI.revive(event.uri), event.type);\n    }\n\n    registerTextDocumentContentProvider(scheme: string, provider: theia.TextDocumentContentProvider): theia.Disposable {\n        if (scheme === 'file' || scheme === 'untitled' || this.documentContentProviders.has(scheme)) {\n            throw new Error(`Text Content Document Provider for scheme '${scheme}' is already registered`);\n        }\n\n        this.documentContentProviders.set(scheme, provider);\n        this.proxy.$registerTextDocumentContentProvider(scheme);\n\n        let onDidChangeSubscription: theia.Disposable;\n        if (typeof provider.onDidChange === 'function') {\n            onDidChangeSubscription = provider.onDidChange(async uri => {\n                if (uri.scheme === scheme && this.editorsAndDocuments.getDocument(uri.toString())) {\n                    const content = await this.$provideTextDocumentContent(uri.toString());\n                    if (content) {\n                        this.proxy.$onTextDocumentContentChange(uri.toString(), content);\n                    }\n                }\n            });\n        }\n\n        const instance = this;\n        return {\n            dispose() {\n                if (instance.documentContentProviders.delete(scheme)) {\n                    instance.proxy.$unregisterTextDocumentContentProvider(scheme);\n                }\n\n                if (onDidChangeSubscription) {\n                    onDidChangeSubscription.dispose();\n                }\n            }\n        };\n    }\n\n    async $provideTextDocumentContent(documentURI: string): Promise<string | undefined> {\n        const uri = URI.parse(documentURI);\n        const provider = this.documentContentProviders.get(uri.scheme);\n        if (provider) {\n            return provider.provideTextDocumentContent(uri, CancellationToken.None);\n        }\n\n        return undefined;\n    }\n\n    getWorkspaceFolder(uri: theia.Uri, resolveParent?: boolean): theia.WorkspaceFolder | URI | undefined {\n        if (!this.folders || !this.folders.length) {\n            return undefined;\n        }\n\n        function dirname(resource: URI): URI {\n            if (resource.scheme === 'file') {\n                return URI.file(paths.dirname(resource.fsPath));\n            }\n            return resource.with({\n                path: paths.dirname(resource.path)\n            });\n        }\n\n        if (resolveParent && this.hasFolder(uri)) {\n            uri = dirname(uri);\n        }\n\n        const resourcePath = uri.toString();\n\n        let workspaceFolder: theia.WorkspaceFolder | undefined;\n        for (let i = 0; i < this.folders.length; i++) {\n            const folder = this.folders[i];\n            const folderPath = folder.uri.toString();\n\n            if (resourcePath === folderPath) {\n                // return the input when the given uri is a workspace folder itself\n                return uri;\n            }\n\n            if (resourcePath.startsWith(folderPath)\n                && resourcePath[folderPath.length] === '/'\n                && (!workspaceFolder || folderPath.length > workspaceFolder.uri.toString().length)) {\n                workspaceFolder = folder;\n            }\n        }\n        return workspaceFolder;\n    }\n\n    private hasFolder(uri: URI): boolean {\n        if (!this.folders) {\n            return false;\n        }\n        return this.folders.some(folder => folder.uri.toString() === uri.toString());\n    }\n\n    getRelativePath(pathOrUri: string | theia.Uri, includeWorkspace?: boolean): string | undefined {\n        let path: string | undefined;\n        if (typeof pathOrUri === 'string') {\n            path = pathOrUri;\n        } else if (typeof pathOrUri !== 'undefined') {\n            path = pathOrUri.fsPath;\n        }\n\n        if (!path) {\n            return path;\n        }\n\n        const folder = this.getWorkspaceFolder(\n            typeof pathOrUri === 'string' ? URI.file(pathOrUri) : pathOrUri,\n            true\n        ) as theia.WorkspaceFolder;\n\n        if (!folder) {\n            return path;\n        }\n\n        if (typeof includeWorkspace === 'undefined') {\n            includeWorkspace = this.folders!.length > 1;\n        }\n\n        let result = relative(folder.uri.fsPath, path);\n        if (includeWorkspace) {\n            result = `${folder.name}/${result}`;\n        }\n        return normalize(result, true);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { WorkspaceMain } from '../api/plugin-api';\nimport { FileWatcherSubscriberOptions, FileChangeEventType } from '../api/model';\nimport URI from 'vscode-uri';\n\n/**\n * This class is responsible for file watchers subscription registering and file system events proxying.\n * It contains no logic, only communicates with main side to add / remove subscription and\n * delivers file system events to corresponding subscribers.\n */\nexport class InPluginFileSystemWatcherProxy {\n\n    private proxy: WorkspaceMain;\n    private subscribers: Map<string, Emitter<FileSystemEvent>>;\n\n    constructor(proxy: WorkspaceMain) {\n        this.proxy = proxy;\n        this.subscribers = new Map<string, Emitter<FileSystemEvent>>();\n    }\n\n    createFileSystemWatcher(\n        globPattern: theia.GlobPattern,\n        ignoreCreateEvents?: boolean,\n        ignoreChangeEvents?: boolean,\n        ignoreDeleteEvents?: boolean): theia.FileSystemWatcher {\n\n        const perSubscriberEventEmitter = new Emitter<FileSystemEvent>();\n        const subscriberPrivateData: SubscriberData = {\n            event: perSubscriberEventEmitter.event\n        };\n        const fileWatcherSubscriberOptions: FileWatcherSubscriberOptions = { globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents };\n        // ids are generated by server side to be able handle several subscribers.\n        this.proxy.$registerFileSystemWatcher(fileWatcherSubscriberOptions).then((id: string) => {\n            // this is safe, because actual subscription happens on server side and response is\n            // sent right after actual subscription, so no events are possible in between.\n            this.subscribers.set(id, perSubscriberEventEmitter);\n            subscriberPrivateData.unsubscribe = () => this.proxy.$unregisterFileSystemWatcher(id);\n        });\n        return new FileSystemWatcher(subscriberPrivateData, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents);\n    }\n\n    onFileSystemEvent(id: string, uri: URI, type: FileChangeEventType) {\n        const perSubscriberEventEmitter: Emitter<FileSystemEvent> | undefined = this.subscribers.get(id);\n        if (perSubscriberEventEmitter) {\n            perSubscriberEventEmitter.fire({ uri, type });\n        } else {\n            // shouldn't happen\n            // if it happens then a message was lost, unsubscribe to make state consistent\n            this.proxy.$unregisterFileSystemWatcher(id);\n        }\n    }\n}\n\nclass FileSystemWatcher implements theia.FileSystemWatcher {\n    private subscriberData: SubscriberData;\n\n    private onDidCreateEmitter: Emitter<theia.Uri>;\n    private onDidChangeEmitter: Emitter<theia.Uri>;\n    private onDidDeleteEmitter: Emitter<theia.Uri>;\n\n    constructor(\n        subscriberData: SubscriberData,\n        private isIgnoreCreateEvents: boolean = false,\n        private isIgnoreChangeEvents: boolean = false,\n        private isIgnoreDeleteEvents: boolean = false\n    ) {\n        this.onDidCreateEmitter = new Emitter<theia.Uri>();\n        this.onDidChangeEmitter = new Emitter<theia.Uri>();\n        this.onDidDeleteEmitter = new Emitter<theia.Uri>();\n\n        this.subscriberData = subscriberData;\n        subscriberData.event((event: FileSystemEvent) => {\n            // Here ignore event flags are not analyzed because all the logic is\n            // moved to server side to avoid unneded data transfer via network.\n            // The flags are present just to be read only accesible for user.\n            switch (event.type) {\n                case 'updated':\n                    this.onDidChangeEmitter.fire(event.uri);\n                    break;\n                case 'created':\n                    this.onDidCreateEmitter.fire(event.uri);\n                    break;\n                case 'deleted':\n                    this.onDidDeleteEmitter.fire(event.uri);\n                    break;\n            }\n        });\n    }\n\n    get ignoreCreateEvents(): boolean {\n        return this.isIgnoreCreateEvents;\n    }\n\n    get ignoreChangeEvents(): boolean {\n        return this.isIgnoreChangeEvents;\n    }\n\n    get ignoreDeleteEvents(): boolean {\n        return this.isIgnoreDeleteEvents;\n    }\n\n    get onDidCreate(): Event<theia.Uri> {\n        return this.onDidCreateEmitter.event;\n    }\n\n    get onDidChange(): Event<theia.Uri> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    get onDidDelete(): Event<theia.Uri> {\n        return this.onDidDeleteEmitter.event;\n    }\n\n    dispose(): void {\n        this.onDidCreateEmitter.dispose();\n        this.onDidChangeEmitter.dispose();\n        this.onDidDeleteEmitter.dispose();\n        if (this.subscriberData.unsubscribe) {\n            this.subscriberData.unsubscribe();\n        }\n    }\n\n}\n\ninterface FileSystemEvent {\n    uri: URI,\n    type: FileChangeEventType\n}\n\ninterface SubscriberData {\n    event: Event<FileSystemEvent>\n    unsubscribe?: () => void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { EditorsAndDocumentsExt, EditorsAndDocumentsDelta, PLUGIN_RPC_CONTEXT } from '../api/plugin-api';\nimport { TextEditorExt } from './text-editor';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { DocumentDataExt } from './document-data';\nimport { ok } from '../common/assert';\nimport * as Converter from './type-converters';\nimport { dispose } from '../common/disposable-util';\nimport URI from 'vscode-uri';\n\nexport class EditorsAndDocumentsExtImpl implements EditorsAndDocumentsExt {\n    private activeEditorId: string | undefined;\n\n    private readonly _onDidAddDocuments = new Emitter<DocumentDataExt[]>();\n    private readonly _onDidRemoveDocuments = new Emitter<DocumentDataExt[]>();\n    private readonly _onDidChangeVisibleTextEditors = new Emitter<TextEditorExt[]>();\n    private readonly _onDidChangeActiveTextEditors = new Emitter<TextEditorExt | undefined>();\n\n    readonly onDidAddDocuments: Event<DocumentDataExt[]> = this._onDidAddDocuments.event;\n    readonly onDidRemoveDocuments: Event<DocumentDataExt[]> = this._onDidRemoveDocuments.event;\n    readonly onDidChangeVisibleTextEditors: Event<TextEditorExt[]> = this._onDidChangeVisibleTextEditors.event;\n    readonly onDidChangeActiveTextEditor: Event<TextEditorExt | undefined> = this._onDidChangeActiveTextEditors.event;\n\n    private readonly documents = new Map<string, DocumentDataExt>();\n    private readonly editors = new Map<string, TextEditorExt>();\n\n    constructor(private readonly rpc: RPCProtocol) {\n    }\n\n    $acceptEditorsAndDocumentsDelta(delta: EditorsAndDocumentsDelta): void {\n        const removedDocuments = new Array<DocumentDataExt>();\n        const addedDocuments = new Array<DocumentDataExt>();\n        const removedEditors = new Array<TextEditorExt>();\n\n        if (delta.removedDocuments) {\n            for (const uriComponent of delta.removedDocuments) {\n                const uri = URI.revive(uriComponent);\n                const id = uri.toString();\n                const data = this.documents.get(id);\n                this.documents.delete(id);\n                if (data) {\n                    removedDocuments.push(data);\n                }\n            }\n        }\n\n        if (delta.addedDocuments) {\n            for (const data of delta.addedDocuments) {\n                const resource = URI.revive(data.uri);\n                ok(!this.documents.has(resource.toString()), `document '${resource}' already exists!`);\n                const documentData = new DocumentDataExt(\n                    this.rpc.getProxy(PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN),\n                    resource,\n                    data.lines,\n                    data.EOL,\n                    data.modeId,\n                    data.versionId,\n                    data.isDirty\n                );\n                this.documents.set(resource.toString(), documentData);\n                addedDocuments.push(documentData);\n            }\n        }\n\n        if (delta.removedEditors) {\n            for (const id of delta.removedEditors) {\n                const editor = this.editors.get(id);\n                this.editors.delete(id);\n                if (editor) {\n                    removedEditors.push(editor);\n                }\n            }\n        }\n\n        if (delta.addedEditors) {\n            for (const data of delta.addedEditors) {\n                const resource = URI.revive(data.documentUri);\n                ok(this.documents.has(resource.toString()), `document '${resource}' doesn't exist`);\n                ok(!this.editors.has(data.id), `editor '${data.id}' already exists!`);\n\n                const documentData = this.documents.get(resource.toString());\n                const editor = new TextEditorExt(\n                    this.rpc.getProxy(PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN),\n                    data.id,\n                    documentData!,\n                    data.selections.map(Converter.toSelection),\n                    data.options,\n                    data.visibleRanges.map(Converter.toRange),\n                    Converter.toViewColumn(data.editorPosition)\n                );\n                this.editors.set(data.id, editor);\n            }\n        }\n\n        if (delta.newActiveEditor !== undefined) {\n            ok(delta.newActiveEditor === null || this.editors.has(delta.newActiveEditor), `active editor '${delta.newActiveEditor}' doesn't exist`);\n            this.activeEditorId = delta.newActiveEditor;\n        }\n\n        dispose(removedDocuments);\n        dispose(removedEditors);\n\n        if (delta.removedDocuments) {\n            this._onDidRemoveDocuments.fire(removedDocuments);\n        }\n\n        if (delta.addedDocuments) {\n            this._onDidAddDocuments.fire(addedDocuments);\n        }\n\n        if (delta.removedDocuments || delta.addedDocuments) {\n            this._onDidChangeVisibleTextEditors.fire(this.allEditors());\n        }\n\n        if (delta.newActiveEditor !== undefined) {\n            this._onDidChangeActiveTextEditors.fire(this.activeEditor());\n        } else if (this.editors.size === 0 && delta.removedEditors) {\n            this.activeEditorId = undefined;\n            this._onDidChangeActiveTextEditors.fire(undefined);\n        }\n\n    }\n\n    allEditors(): TextEditorExt[] {\n        const result = new Array<TextEditorExt>();\n        this.editors.forEach(editor => result.push(editor));\n        return result;\n    }\n\n    activeEditor(): TextEditorExt | undefined {\n        if (!this.activeEditorId) {\n            return undefined;\n        } else {\n            return this.editors.get(this.activeEditorId);\n        }\n    }\n\n    allDocuments(): DocumentDataExt[] {\n        const result = new Array<DocumentDataExt>();\n        this.documents.forEach(data => result.push(data));\n        return result;\n    }\n\n    getDocument(uri: string): DocumentDataExt | undefined {\n        return this.documents.get(uri);\n    }\n\n    getEditor(id: string): TextEditorExt | undefined {\n        return this.editors.get(id);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { TextEditorConfiguration, TextEditorsMain, TextEditorConfigurationUpdate, SingleEditOperation } from '../api/plugin-api';\nimport { Range as ApiRange } from '../api/model';\nimport { Selection, Range, TextEditorLineNumbersStyle, SnippetString, Position, TextEditorRevealType, EndOfLine } from './types-impl';\nimport * as theia from '@theia/plugin';\nimport { DocumentDataExt } from './document-data';\nimport { readonly, illegalArgument } from '../common/errors';\nimport { TextEditorCursorStyle } from '../common/editor-options';\nimport { ok } from '../common/assert';\nimport * as Converter from './type-converters';\n\nexport class TextEditorExt implements theia.TextEditor {\n    private _viewColumn: theia.ViewColumn | undefined;\n    private _document: DocumentDataExt;\n    private _options: TextEditorOptionsExt;\n    private disposed = false;\n    constructor(\n        private readonly proxy: TextEditorsMain,\n        private readonly id: string,\n        document: DocumentDataExt,\n        private _selections: Selection[],\n        options: TextEditorConfiguration,\n        private _visibleRanges: Range[],\n        viewColumn: theia.ViewColumn | undefined) {\n        this._options = new TextEditorOptionsExt(proxy, id, options);\n        this._viewColumn = viewColumn;\n        this._document = document;\n    }\n\n    get document(): theia.TextDocument {\n        return this._document.document;\n    }\n\n    set document(doc) {\n        throw readonly('Document');\n    }\n\n    acceptViewColumn(val: theia.ViewColumn): void {\n        this._viewColumn = val;\n    }\n\n    dispose(): void {\n        this.disposed = true;\n    }\n\n    get options(): theia.TextEditorOptions {\n        return this._options;\n    }\n\n    set options(val: theia.TextEditorOptions) {\n        if (!this.disposed) {\n            this._options.assign(val);\n        }\n    }\n\n    acceptOptions(options: TextEditorConfiguration): void {\n        ok(!this.disposed);\n        this._options.accept(options);\n    }\n\n    get selection(): Selection {\n        return this._selections && this._selections[0];\n    }\n\n    set selection(val: Selection) {\n        if (!(val instanceof Selection)) {\n            throw illegalArgument('selection');\n        }\n        this._selections = [val];\n        this.trySetSelection();\n    }\n\n    private trySetSelection(): Promise<theia.TextEditor | undefined> {\n        const selection = this._selections.map(Converter.fromSelection);\n        return this.runOnProxy(() => this.proxy.$trySetSelections(this.id, selection));\n    }\n\n    get selections(): Selection[] {\n        return this._selections;\n    }\n\n    set selections(val: Selection[]) {\n        if (!Array.isArray(val) || val.some(s => !(s instanceof Selection))) {\n            throw illegalArgument('selections');\n        }\n\n        this._selections = val;\n        this.trySetSelection();\n    }\n\n    acceptSelections(selections: Selection[]): void {\n        ok(!this.disposed);\n        this._selections = selections;\n    }\n\n    get visibleRanges(): Range[] {\n        return this._visibleRanges;\n    }\n\n    set visibleRanges(val: Range[]) {\n        throw readonly('visibleRanges');\n    }\n\n    acceptVisibleRanges(range: Range[]): void {\n        ok(!this.disposed);\n        this._visibleRanges = range;\n    }\n\n    get viewColumn(): theia.ViewColumn | undefined {\n        return this._viewColumn;\n    }\n\n    set viewColumn(value) {\n        throw readonly('viewColumn');\n    }\n\n    _acceptViewColumn(value: theia.ViewColumn) {\n        ok(!this.disposed);\n        this._viewColumn = value;\n    }\n\n    // tslint:disable-next-line:max-line-length\n    edit(callback: (editBuilder: theia.TextEditorEdit) => void, options: { undoStopBefore: boolean; undoStopAfter: boolean; } = { undoStopBefore: true, undoStopAfter: true }): Promise<boolean> {\n        if (this.disposed) {\n            return Promise.reject(new Error('TextEditor#edit not possible on closed editor'));\n        }\n\n        const edit = new TextEditorEdit(this._document.document, options);\n        callback(edit);\n        return this.applyEdit(edit);\n    }\n    // tslint:disable-next-line:max-line-length\n    insertSnippet(snippet: SnippetString, location?: Position | Range | Position[] | Range[], options: { undoStopBefore: boolean; undoStopAfter: boolean; } = { undoStopBefore: true, undoStopAfter: true }): Promise<boolean> {\n        if (this.disposed) {\n            return Promise.reject(new Error('TextEditor#insertSnippet not possible on closed editors'));\n        }\n        let ranges: ApiRange[];\n\n        if (!location || (Array.isArray(location) && location.length === 0)) {\n            ranges = this._selections.map(s => Converter.fromRange(s)!);\n\n        } else if (location instanceof Position) {\n            const { lineNumber, column } = Converter.fromPosition(location);\n            ranges = [{ startLineNumber: lineNumber, startColumn: column, endLineNumber: lineNumber, endColumn: column }];\n\n        } else if (location instanceof Range) {\n            ranges = [Converter.fromRange(location)!];\n        } else {\n            ranges = [];\n            for (const posOrRange of location) {\n                if (posOrRange instanceof Range) {\n                    ranges.push(Converter.fromRange(posOrRange)!);\n                } else {\n                    const { lineNumber, column } = Converter.fromPosition(posOrRange);\n                    ranges.push({ startLineNumber: lineNumber, startColumn: column, endLineNumber: lineNumber, endColumn: column });\n                }\n            }\n        }\n\n        return this.proxy.$tryInsertSnippet(this.id, snippet.value, ranges, options);\n    }\n    setDecorations(decorationType: theia.TextEditorDecorationType, rangesOrOptions: Range[] | theia.DecorationOptions[]): void {\n        this.runOnProxy(() => {\n            if (Converter.isDecorationOptionsArr(rangesOrOptions)) {\n                return this.proxy.$trySetDecorations(\n                    this.id,\n                    decorationType.key,\n                    Converter.fromRangeOrRangeWithMessage(rangesOrOptions)\n                );\n            } else {\n                const ranges: number[] = new Array<number>(4 * rangesOrOptions.length);\n                const len = rangesOrOptions.length;\n                for (let i = 0; i < len; i++) {\n                    const range = rangesOrOptions[i];\n                    ranges[4 * i] = range.start.line + 1;\n                    ranges[4 * i + 1] = range.start.character + 1;\n                    ranges[4 * i + 2] = range.end.line + 1;\n                    ranges[4 * i + 3] = range.end.character + 1;\n                }\n                return this.proxy.$trySetDecorationsFast(\n                    this.id,\n                    decorationType.key,\n                    ranges\n                );\n            }\n        });\n    }\n\n    revealRange(range: Range, revealType?: theia.TextEditorRevealType): void {\n        this.runOnProxy(() => this.proxy.$tryRevealRange(this.id, Converter.fromRange(range)!, (revealType || TextEditorRevealType.Default)));\n    }\n\n    private applyEdit(edit: TextEditorEdit): Promise<boolean> {\n        const editData = edit.finalize();\n\n        const editRanges = editData.edits.map(e => e.range);\n\n        editRanges.sort((a, b) => {\n            if (a.end.line === b.end.line) {\n                if (a.end.character === b.end.character) {\n                    if (a.start.line === b.start.line) {\n                        return a.start.character - b.start.character;\n                    }\n                    return a.start.line - b.start.line;\n                }\n                return a.end.character - b.end.character;\n            }\n            return a.end.line - b.end.line;\n        });\n\n        const count = editRanges.length - 1;\n        for (let i = 0; i < count; i++) {\n            const rangeEnd = editRanges[i].end;\n            const nextRangeStart = editRanges[i + 1].start;\n\n            if (nextRangeStart.isBefore(rangeEnd)) {\n                return Promise.reject(\n                    new Error('Overlapping ranges are not allowed!')\n                );\n            }\n        }\n\n        // prepare data for serialization\n        const edits: SingleEditOperation[] = editData.edits.map(e =>\n            ({\n                range: Converter.fromRange(e.range)!,\n                text: e.text,\n                forceMoveMarkers: e.forceMoveMarkers\n            }));\n\n        return this.proxy.$tryApplyEdits(this.id, editData.documentVersionId, edits, {\n            setEndOfLine: editData.setEndOfLine,\n            undoStopBefore: editData.undoStopBefore,\n            undoStopAfter: editData.undoStopAfter\n        });\n    }\n\n    // tslint:disable-next-line:no-any\n    private runOnProxy(callback: () => Promise<any>): Promise<TextEditorExt | undefined> {\n        if (this.disposed) {\n            console.warn('TextEditor is disposed!');\n            return Promise.resolve(undefined);\n        }\n\n        return callback().then(() => this, err => {\n            if (!(err instanceof Error && err.name === 'DISPOSED')) {\n                console.warn(err);\n            }\n            return undefined;\n        });\n    }\n}\n\nexport class TextEditorOptionsExt implements theia.TextEditorOptions {\n    private _tabSize?: number;\n    private _insertSpace: boolean;\n    private _cursorStyle: TextEditorCursorStyle;\n    private _lineNumbers: TextEditorLineNumbersStyle;\n    constructor(private readonly proxy: TextEditorsMain,\n        private readonly id: string,\n        source: TextEditorConfiguration) {\n        this.accept(source);\n    }\n\n    accept(source: TextEditorConfiguration): void {\n        this._tabSize = source.tabSize;\n        this._insertSpace = source.insertSpaces;\n        this._cursorStyle = source.cursorStyle;\n        this._lineNumbers = source.lineNumbers;\n    }\n\n    get tabSize(): number | string | undefined {\n        return this._tabSize;\n    }\n\n    set tabSize(val: number | string | undefined) {\n        const tabSize = this.validateTabSize(val);\n        if (!tabSize) {\n            return; // ignore invalid values\n        }\n\n        if (typeof tabSize === 'number') {\n            if (this.tabSize === tabSize) {\n                return;\n            }\n            this.tabSize = tabSize;\n        }\n        warnOnError(this.proxy.$trySetOptions(this.id, {\n            tabSize\n        }));\n    }\n\n    private validateTabSize(val: number | string | undefined): number | 'auto' | undefined {\n        if (val === 'auto') {\n            return 'auto';\n        }\n\n        if (typeof val === 'number') {\n            const r = Math.floor(val);\n            return r > 0 ? r : undefined;\n        }\n        if (typeof val === 'string') {\n            const r = parseInt(val, undefined);\n            if (isNaN(r)) {\n                return undefined;\n            }\n            return r > 0 ? r : undefined;\n        }\n        return undefined;\n    }\n\n    get insertSpaces(): boolean | string {\n        return this._insertSpace;\n    }\n\n    set insertSpaces(val: boolean | string) {\n        const insertSpaces = this.validateInsertSpaces(val);\n        if (typeof insertSpaces === 'boolean') {\n            if (this._insertSpace === insertSpaces) {\n                return;\n            }\n            this._insertSpace = insertSpaces;\n        }\n        warnOnError(this.proxy.$trySetOptions(this.id, { insertSpaces }));\n    }\n\n    private validateInsertSpaces(val: boolean | string): boolean | 'auto' {\n        if (val === 'auto') {\n            return 'auto';\n        }\n        return val === 'false' ? false : Boolean(val);\n    }\n\n    get cursorStyle(): TextEditorCursorStyle {\n        return this._cursorStyle;\n    }\n\n    set cursorStyle(val: TextEditorCursorStyle) {\n        if (this._cursorStyle === val) {\n            return;\n        }\n        this._cursorStyle = val;\n        warnOnError(this.proxy.$trySetOptions(this.id, { cursorStyle: val }));\n    }\n\n    get lineNumbers(): TextEditorLineNumbersStyle {\n        return this._lineNumbers;\n    }\n    set lineNumbers(val: TextEditorLineNumbersStyle) {\n        if (this._lineNumbers === val) {\n            return;\n        }\n        this._lineNumbers = val;\n        warnOnError(this.proxy.$trySetOptions(this.id, { lineNumbers: val }));\n    }\n\n    public assign(newOptions: theia.TextEditorOptions) {\n        const configurationUpdate: TextEditorConfigurationUpdate = {};\n        let hasUpdate = false;\n\n        if (typeof newOptions.tabSize !== 'undefined') {\n            const tabSize = this.validateTabSize(newOptions.tabSize);\n            if (tabSize === 'auto') {\n                hasUpdate = true;\n                configurationUpdate.tabSize = tabSize;\n            } else if (typeof tabSize === 'number' && this._tabSize !== tabSize) {\n                this._tabSize = tabSize;\n                hasUpdate = true;\n                configurationUpdate.tabSize = tabSize;\n            }\n        }\n\n        if (typeof newOptions.insertSpaces !== 'undefined') {\n            const insertSpaces = this.validateInsertSpaces(newOptions.insertSpaces);\n            if (insertSpaces === 'auto') {\n                hasUpdate = true;\n                configurationUpdate.insertSpaces = insertSpaces;\n            } else if (this.insertSpaces !== insertSpaces) {\n                this.insertSpaces = insertSpaces;\n                hasUpdate = true;\n                configurationUpdate.insertSpaces = insertSpaces;\n            }\n        }\n\n        if (typeof newOptions.cursorStyle !== 'undefined') {\n            if (this._cursorStyle !== newOptions.cursorStyle) {\n                this._cursorStyle = newOptions.cursorStyle;\n                hasUpdate = true;\n                configurationUpdate.cursorStyle = newOptions.cursorStyle;\n            }\n        }\n\n        if (typeof newOptions.lineNumbers !== 'undefined') {\n            if (this._lineNumbers !== newOptions.lineNumbers) {\n                this._lineNumbers = newOptions.lineNumbers;\n                hasUpdate = true;\n                configurationUpdate.lineNumbers = newOptions.lineNumbers;\n            }\n        }\n\n        if (hasUpdate) {\n            warnOnError(this.proxy.$trySetOptions(this.id, configurationUpdate));\n        }\n    }\n\n}\n\nexport interface TextEditOperation {\n    range: theia.Range;\n    text?: string;\n    forceMoveMarkers: boolean;\n}\n\nexport interface EditData {\n    documentVersionId: number;\n    edits: TextEditOperation[];\n    setEndOfLine: EndOfLine;\n    undoStopBefore: boolean;\n    undoStopAfter: boolean;\n}\n\nexport class TextEditorEdit {\n    private readonly documentVersionId: number;\n    private collectedEdits: TextEditOperation[];\n    private eol: EndOfLine;\n    private readonly undoStopBefore: boolean;\n    private readonly undoStopAfter: boolean;\n    constructor(private document: theia.TextDocument, options: { undoStopBefore: boolean; undoStopAfter: boolean }) {\n        this.documentVersionId = document.version;\n        this.collectedEdits = [];\n        this.eol = 0;\n        this.undoStopBefore = options.undoStopBefore;\n        this.undoStopAfter = options.undoStopAfter;\n    }\n\n    finalize(): EditData {\n        return {\n            documentVersionId: this.documentVersionId,\n            edits: this.collectedEdits,\n            setEndOfLine: this.eol,\n            undoStopAfter: this.undoStopAfter,\n            undoStopBefore: this.undoStopBefore\n        };\n    }\n\n    replace(location: Position | Range | Selection, val: string): void {\n        let range: Range;\n        if (location instanceof Position) {\n            range = new Range(location, location);\n        } else if (location instanceof Range) {\n            range = location;\n        } else {\n            throw new Error('Unknown location');\n        }\n\n        this.addEdit(range, val, false);\n    }\n\n    insert(location: Position, val: string): void {\n        this.addEdit(new Range(location, location), val, true);\n    }\n\n    delete(location: Range | Selection): void {\n        let range: Range;\n        if (location instanceof Range) {\n            range = location;\n        } else {\n            throw new Error('Unknown location');\n        }\n\n        this.addEdit(range, undefined, true);\n    }\n\n    setEndOfLine(endOfLine: EndOfLine): void {\n        if (endOfLine !== EndOfLine.CRLF && endOfLine !== EndOfLine.LF) {\n            throw illegalArgument('endOfLine');\n        }\n\n        this.eol = endOfLine;\n    }\n\n    private addEdit(range: Range, text: string | undefined, moveMarkers: boolean): void {\n        const validatedRange = this.document.validateRange(range);\n        this.collectedEdits.push({\n            range: validatedRange,\n            forceMoveMarkers: moveMarkers,\n            text: text\n        });\n    }\n}\n\n// tslint:disable-next-line:no-any\nfunction warnOnError(promise: Promise<any>): void {\n    promise.then(undefined, err => {\n        console.warn(err);\n    });\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// Copied from https://github.com/Microsoft/vscode/blob/master/src/vs/editor/common/viewModel/prefixSumComputer.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Max unsigned integer that fits on 32 bits.\n */\nconst MAX_UINT_32 = 4294967295; // 2^32 - 1\n\nexport function toUint32(v: number): number {\n    if (v < 0) {\n        return 0;\n    }\n    if (v > MAX_UINT_32) {\n        return MAX_UINT_32;\n    }\n    return v | 0;\n}\n\nexport class PrefixSumIndexOfResult {\n    _prefixSumIndexOfResultBrand: void;\n\n    index: number;\n    remainder: number;\n\n    constructor(index: number, remainder: number) {\n        this.index = index;\n        this.remainder = remainder;\n    }\n}\n\nexport class PrefixSumComputer {\n\n    /**\n     * values[i] is the value at index i\n     */\n    private values: Uint32Array;\n\n    /**\n     * prefixSum[i] = SUM(heights[j]), 0 <= j <= i\n     */\n    private prefixSum: Uint32Array;\n\n    /**\n     * prefixSum[i], 0 <= i <= prefixSumValidIndex can be trusted\n     */\n    private prefixSumValidIndex: Int32Array;\n\n    constructor(values: Uint32Array) {\n        this.values = values;\n        this.prefixSum = new Uint32Array(values.length);\n        this.prefixSumValidIndex = new Int32Array(1);\n        this.prefixSumValidIndex[0] = -1;\n    }\n\n    public getCount(): number {\n        return this.values.length;\n    }\n\n    public insertValues(insertIndex: number, insertValues: Uint32Array): boolean {\n        insertIndex = toUint32(insertIndex);\n        const oldValues = this.values;\n        const oldPrefixSum = this.prefixSum;\n        const insertValuesLen = insertValues.length;\n\n        if (insertValuesLen === 0) {\n            return false;\n        }\n\n        this.values = new Uint32Array(oldValues.length + insertValuesLen);\n        this.values.set(oldValues.subarray(0, insertIndex), 0);\n        this.values.set(oldValues.subarray(insertIndex), insertIndex + insertValuesLen);\n        this.values.set(insertValues, insertIndex);\n\n        if (insertIndex - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = insertIndex - 1;\n        }\n\n        this.prefixSum = new Uint32Array(this.values.length);\n        if (this.prefixSumValidIndex[0] >= 0) {\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\n        }\n        return true;\n    }\n\n    public changeValue(index: number, value: number): boolean {\n        index = toUint32(index);\n        value = toUint32(value);\n\n        if (this.values[index] === value) {\n            return false;\n        }\n        this.values[index] = value;\n        if (index - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = index - 1;\n        }\n        return true;\n    }\n\n    public removeValues(startIndex: number, cnt: number): boolean {\n        startIndex = toUint32(startIndex);\n        cnt = toUint32(cnt);\n\n        const oldValues = this.values;\n        const oldPrefixSum = this.prefixSum;\n\n        if (startIndex >= oldValues.length) {\n            return false;\n        }\n\n        const maxCnt = oldValues.length - startIndex;\n        if (cnt >= maxCnt) {\n            cnt = maxCnt;\n        }\n\n        if (cnt === 0) {\n            return false;\n        }\n\n        this.values = new Uint32Array(oldValues.length - cnt);\n        this.values.set(oldValues.subarray(0, startIndex), 0);\n        this.values.set(oldValues.subarray(startIndex + cnt), startIndex);\n\n        this.prefixSum = new Uint32Array(this.values.length);\n        if (startIndex - 1 < this.prefixSumValidIndex[0]) {\n            this.prefixSumValidIndex[0] = startIndex - 1;\n        }\n        if (this.prefixSumValidIndex[0] >= 0) {\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\n        }\n        return true;\n    }\n\n    public getTotalValue(): number {\n        if (this.values.length === 0) {\n            return 0;\n        }\n        return this._getAccumulatedValue(this.values.length - 1);\n    }\n\n    public getAccumulatedValue(index: number): number {\n        if (index < 0) {\n            return 0;\n        }\n\n        index = toUint32(index);\n        return this._getAccumulatedValue(index);\n    }\n\n    private _getAccumulatedValue(index: number): number {\n        if (index <= this.prefixSumValidIndex[0]) {\n            return this.prefixSum[index];\n        }\n\n        let startIndex = this.prefixSumValidIndex[0] + 1;\n        if (startIndex === 0) {\n            this.prefixSum[0] = this.values[0];\n            startIndex++;\n        }\n\n        if (index >= this.values.length) {\n            index = this.values.length - 1;\n        }\n\n        for (let i = startIndex; i <= index; i++) {\n            this.prefixSum[i] = this.prefixSum[i - 1] + this.values[i];\n        }\n        this.prefixSumValidIndex[0] = Math.max(this.prefixSumValidIndex[0], index);\n        return this.prefixSum[index];\n    }\n\n    public getIndexOf(accumulatedValue: number): PrefixSumIndexOfResult {\n        accumulatedValue = Math.floor(accumulatedValue);\n\n        // Compute all sums (to get a fully valid prefixSum)\n        this.getTotalValue();\n\n        let low = 0;\n        let high = this.values.length - 1;\n        let mid: number;\n        let midStop: number;\n        let midStart: number;\n\n        while (low <= high) {\n            mid = low + ((high - low) / 2) | 0;\n\n            midStop = this.prefixSum[mid];\n            midStart = midStop - this.values[mid];\n\n            if (accumulatedValue < midStart) {\n                high = mid - 1;\n            } else if (accumulatedValue >= midStop) {\n                low = mid + 1;\n            } else {\n                break;\n            }\n        }\n\n        return new PrefixSumIndexOfResult(mid!, accumulatedValue - midStart!);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * Word inside a model.\n */\nexport interface WordAtPosition {\n    /**\n     * The word.\n     */\n    readonly word: string;\n    /**\n     * The column where the word starts.\n     */\n    readonly startColumn: number;\n    /**\n     * The column where the word ends.\n     */\n    readonly endColumn: number;\n}\n\nexport const USUAL_WORD_SEPARATORS = '`~!@#$%^&*()-=+[{]}\\\\|;:\\'\",.<>/?';\n\n/**\n * Create a word definition regular expression based on default word separators.\n * Optionally provide allowed separators that should be included in words.\n *\n * The default would look like this:\n * /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g\n */\nfunction createWordRegExp(allowInWords: string = ''): RegExp {\n    let source = '(-?\\\\d*\\\\.\\\\d\\\\w*)|([^';\n    for (let i = 0; i < USUAL_WORD_SEPARATORS.length; i++) {\n        if (allowInWords.indexOf(USUAL_WORD_SEPARATORS[i]) >= 0) {\n            continue;\n        }\n        source += '\\\\' + USUAL_WORD_SEPARATORS[i];\n    }\n    source += '\\\\s]+)';\n    return new RegExp(source, 'g');\n}\n\n// catches numbers (including floating numbers) in the first group, and alphanum in the second\nexport const DEFAULT_WORD_REGEXP = createWordRegExp();\n\nexport function ensureValidWordDefinition(wordDefinition?: RegExp): RegExp {\n    let result: RegExp = DEFAULT_WORD_REGEXP;\n\n    if (wordDefinition && (wordDefinition instanceof RegExp)) {\n        if (!wordDefinition.global) {\n            let flags = 'g';\n            if (wordDefinition.ignoreCase) {\n                flags += 'i';\n            }\n            if (wordDefinition.multiline) {\n                flags += 'm';\n            }\n            result = new RegExp(wordDefinition.source, flags);\n        } else {\n            result = wordDefinition;\n        }\n    }\n\n    result.lastIndex = 0;\n\n    return result;\n}\n\nfunction getWordAtPosFast(column: number, wordDefinition: RegExp, text: string, textOffset: number): WordAtPosition | undefined {\n    // find whitespace enclosed text around column and match from there\n\n    const pos = column - 1 - textOffset;\n    const start = text.lastIndexOf(' ', pos - 1) + 1;\n    let end = text.indexOf(' ', pos);\n    if (end === -1) {\n        end = text.length;\n    }\n\n    wordDefinition.lastIndex = start;\n    let match: RegExpMatchArray | null;\n    while (match = wordDefinition.exec(text)) {\n        if (match.index! <= pos && wordDefinition.lastIndex >= pos) {\n            return {\n                word: match[0],\n                startColumn: textOffset + 1 + match.index!,\n                endColumn: textOffset + 1 + wordDefinition.lastIndex\n            };\n        }\n    }\n\n    return undefined;\n}\n\nfunction getWordAtPosSlow(column: number, wordDefinition: RegExp, text: string, textOffset: number): WordAtPosition | undefined {\n    // matches all words starting at the beginning\n    // of the input until it finds a match that encloses\n    // the desired column. slow but correct\n\n    const pos = column - 1 - textOffset;\n    wordDefinition.lastIndex = 0;\n\n    let match: RegExpMatchArray | null;\n    while (match = wordDefinition.exec(text)) {\n\n        if (match.index! > pos) {\n            // |nW -> matched only after the pos\n            return undefined;\n\n        } else if (wordDefinition.lastIndex >= pos) {\n            // W|W -> match encloses pos\n            return {\n                word: match[0],\n                startColumn: textOffset + 1 + match.index!,\n                endColumn: textOffset + 1 + wordDefinition.lastIndex\n            };\n        }\n    }\n\n    return undefined;\n}\n\nexport function getWordAtText(column: number, wordDefinition: RegExp, text: string, textOffset: number): WordAtPosition | undefined {\n\n    // if `words` can contain whitespace character we have to use the slow variant\n    // otherwise we use the fast variant of finding a word\n    wordDefinition.lastIndex = 0;\n    const match = wordDefinition.exec(text);\n    if (!match) {\n        return undefined;\n    }\n    // todo@joh the `match` could already be the (first) word\n    const ret = match[0].indexOf(' ') >= 0\n        // did match a word which contains a space character -> use slow word find\n        ? getWordAtPosSlow(column, wordDefinition, text, textOffset)\n        // sane word definition -> use fast word find\n        : getWordAtPosFast(column, wordDefinition, text, textOffset);\n\n    // both (getWordAtPosFast and getWordAtPosSlow) leave the wordDefinition-RegExp\n    // in an undefined state and to not confuse other users of the wordDefinition\n    // we reset the lastIndex\n    wordDefinition.lastIndex = 0;\n\n    return ret;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { TextEditorsExt, EditorChangedPropertiesData, TextEditorPositionData, TextEditorsMain, PLUGIN_RPC_CONTEXT } from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { EditorsAndDocumentsExtImpl } from './editors-and-documents';\nimport { TextEditorExt } from './text-editor';\nimport * as Converters from './type-converters';\nimport { TextEditorSelectionChangeKind } from './types-impl';\nimport { IdGenerator } from '../common/id-generator';\n\nexport class TextEditorsExtImpl implements TextEditorsExt {\n\n    private readonly _onDidChangeTextEditorSelection = new Emitter<theia.TextEditorSelectionChangeEvent>();\n    private readonly _onDidChangeTextEditorOptions = new Emitter<theia.TextEditorOptionsChangeEvent>();\n    private readonly _onDidChangeTextEditorVisibleRanges = new Emitter<theia.TextEditorVisibleRangesChangeEvent>();\n    private readonly _onDidChangeTextEditorViewColumn = new Emitter<theia.TextEditorViewColumnChangeEvent>();\n    private readonly _onDidChangeActiveTextEditor = new Emitter<theia.TextEditor | undefined>();\n    private readonly _onDidChangeVisibleTextEditors = new Emitter<theia.TextEditor[]>();\n\n    readonly onDidChangeTextEditorSelection: Event<theia.TextEditorSelectionChangeEvent> = this._onDidChangeTextEditorSelection.event;\n    readonly onDidChangeTextEditorOptions = this._onDidChangeTextEditorOptions.event;\n    readonly onDidChangeTextEditorVisibleRanges = this._onDidChangeTextEditorVisibleRanges.event;\n    readonly onDidChangeTextEditorViewColumn = this._onDidChangeTextEditorViewColumn.event;\n    readonly onDidChangeActiveTextEditor = this._onDidChangeActiveTextEditor.event;\n    readonly onDidChangeVisibleTextEditors = this._onDidChangeVisibleTextEditors.event;\n\n    private proxy: TextEditorsMain;\n\n    constructor(rpc: RPCProtocol, private editorsAndDocuments: EditorsAndDocumentsExtImpl) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN);\n\n        this.editorsAndDocuments.onDidChangeActiveTextEditor(e => this._onDidChangeActiveTextEditor.fire(e));\n        this.editorsAndDocuments.onDidChangeVisibleTextEditors(e => this._onDidChangeVisibleTextEditors.fire(e));\n    }\n    $acceptEditorPropertiesChanged(id: string, props: EditorChangedPropertiesData): void {\n        const textEditor = this.editorsAndDocuments.getEditor(id);\n        if (!textEditor) {\n            return;\n        }\n\n        if (props.options) {\n            textEditor.acceptOptions(props.options);\n        }\n        if (props.selections) {\n            const selections = props.selections.selections.map(Converters.toSelection);\n            textEditor.acceptSelections(selections);\n        }\n\n        if (props.visibleRanges) {\n            const visibleRanges = props.visibleRanges.map(Converters.toRange);\n            textEditor.acceptVisibleRanges(visibleRanges);\n        }\n\n        if (props.options) {\n            this._onDidChangeTextEditorOptions.fire({\n                textEditor,\n                options: props.options\n            });\n        }\n\n        if (props.selections) {\n            const kind = TextEditorSelectionChangeKind.fromValue(props.selections.source);\n            const selections = props.selections.selections.map(Converters.toSelection);\n            this._onDidChangeTextEditorSelection.fire({\n                textEditor,\n                selections,\n                kind\n            });\n        }\n\n        if (props.visibleRanges) {\n            const visibleRanges = props.visibleRanges.map(Converters.toRange);\n            this._onDidChangeTextEditorVisibleRanges.fire({\n                textEditor,\n                visibleRanges\n            });\n        }\n    }\n    $acceptEditorPositionData(data: TextEditorPositionData): void {\n        for (const id in data) {\n            if (data.hasOwnProperty(id)) {\n                const textEditor = this.editorsAndDocuments.getEditor(id);\n                const viewColumn = Converters.toViewColumn(data[id]);\n                if (textEditor && viewColumn) {\n                    if (textEditor.viewColumn !== viewColumn) {\n                        textEditor.acceptViewColumn(viewColumn);\n                        this._onDidChangeTextEditorViewColumn.fire({ textEditor, viewColumn });\n                    }\n                }\n            }\n        }\n    }\n\n    getActiveEditor(): TextEditorExt | undefined {\n        return this.editorsAndDocuments.activeEditor();\n    }\n\n    getVisibleTextEditors(): theia.TextEditor[] {\n        return this.editorsAndDocuments.allEditors();\n    }\n\n    createTextEditorDecorationType(options: theia.DecorationRenderOptions): theia.TextEditorDecorationType {\n        return new TextEditorDecorationType(this.proxy, options);\n    }\n\n}\n\nexport class TextEditorDecorationType implements theia.TextEditorDecorationType {\n\n    private static readonly Keys = new IdGenerator('TextEditorDecorationType');\n\n    private proxy: TextEditorsMain;\n    public key: string;\n\n    constructor(proxy: TextEditorsMain, options: theia.DecorationRenderOptions) {\n        this.key = TextEditorDecorationType.Keys.nextId();\n        this.proxy = proxy;\n        // tslint:disable-next-line:no-any\n        this.proxy.$registerTextEditorDecorationType(this.key, <any>options);\n    }\n\n    dispose(): void {\n        this.proxy.$removeTextEditorDecorationType(this.key);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { DocumentsExt, ModelChangedEvent, PLUGIN_RPC_CONTEXT, DocumentsMain } from '../api/plugin-api';\nimport URI from 'vscode-uri';\nimport { UriComponents } from '../common/uri-components';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport * as theia from '@theia/plugin';\nimport { DocumentDataExt, setWordDefinitionFor } from './document-data';\nimport { EditorsAndDocumentsExtImpl } from './editors-and-documents';\nimport * as Converter from './type-converters';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Range, TextDocumentShowOptions } from '../api/model';\n\nexport class DocumentsExtImpl implements DocumentsExt {\n    private toDispose = new DisposableCollection();\n    private _onDidAddDocument = new Emitter<theia.TextDocument>();\n    private _onDidRemoveDocument = new Emitter<theia.TextDocument>();\n    private _onDidChangeDocument = new Emitter<theia.TextDocumentChangeEvent>();\n    private _onDidSaveTextDocument = new Emitter<theia.TextDocument>();\n\n    readonly onDidAddDocument: Event<theia.TextDocument> = this._onDidAddDocument.event;\n    readonly onDidRemoveDocument: Event<theia.TextDocument> = this._onDidRemoveDocument.event;\n    readonly onDidChangeDocument: Event<theia.TextDocumentChangeEvent> = this._onDidChangeDocument.event;\n    readonly onDidSaveTextDocument: Event<theia.TextDocument> = this._onDidSaveTextDocument.event;\n\n    private proxy: DocumentsMain;\n    private loadingDocuments = new Map<string, Promise<DocumentDataExt | undefined>>();\n\n    constructor(rpc: RPCProtocol, private editorsAndDocuments: EditorsAndDocumentsExtImpl) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN);\n        this.toDispose.push(\n            this.editorsAndDocuments.onDidAddDocuments(documents => {\n                for (const document of documents) {\n                    this._onDidAddDocument.fire(document.document);\n                }\n            })\n        );\n\n        this.toDispose.push(\n            this.editorsAndDocuments.onDidRemoveDocuments(documents => {\n                for (const data of documents) {\n                    this._onDidRemoveDocument.fire(data.document);\n                }\n            })\n        );\n    }\n    $acceptModelModeChanged(startUrl: UriComponents, oldModeId: string, newModeId: string): void {\n        const uri = URI.revive(startUrl);\n        const uriString = uri.toString();\n\n        const data = this.editorsAndDocuments.getDocument(uriString);\n        if (data) {\n            this._onDidRemoveDocument.fire(data.document);\n            data.acceptLanguageId(newModeId);\n            this._onDidAddDocument.fire(data.document);\n        }\n    }\n    $acceptModelSaved(strUrl: UriComponents): void {\n        const uri = URI.revive(strUrl);\n        const uriString = uri.toString();\n        const data = this.editorsAndDocuments.getDocument(uriString);\n        this.$acceptDirtyStateChanged(strUrl, false);\n        if (data) {\n            this._onDidSaveTextDocument.fire(data.document);\n        }\n    }\n    $acceptDirtyStateChanged(strUrl: UriComponents, isDirty: boolean): void {\n        const uri = URI.revive(strUrl);\n        const uriString = uri.toString();\n        const data = this.editorsAndDocuments.getDocument(uriString);\n        if (data) {\n            data.acceptIsDirty(isDirty);\n            this._onDidChangeDocument.fire({\n                document: data.document,\n                contentChanges: []\n            });\n        }\n    }\n    $acceptModelChanged(strUrl: UriComponents, e: ModelChangedEvent, isDirty: boolean): void {\n        const uri = URI.revive(strUrl);\n        const uriString = uri.toString();\n        const data = this.editorsAndDocuments.getDocument(uriString);\n        if (data) {\n            data.acceptIsDirty(isDirty);\n            data.onEvents(e);\n            this._onDidChangeDocument.fire({\n                document: data.document,\n                contentChanges: e.changes.map(change =>\n                    ({\n                        range: Converter.toRange(change.range),\n                        rangeOffset: change.rangeOffset,\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    }))\n            });\n        }\n    }\n    getAllDocumentData(): DocumentDataExt[] {\n        return this.editorsAndDocuments.allDocuments();\n    }\n\n    getDocumentData(resource: theia.Uri): DocumentDataExt | undefined {\n        if (resource) {\n            return this.editorsAndDocuments.getDocument(resource.toString());\n        }\n\n        return undefined;\n    }\n\n    async openDocument(uri: URI, options?: theia.TextDocumentShowOptions): Promise<DocumentDataExt | undefined> {\n        const cached = this.editorsAndDocuments.getDocument(uri.toString());\n        if (cached) {\n            return cached;\n        }\n\n        // Determine whether the document is already loading\n        const loadingDocument = this.loadingDocuments.get(uri.toString());\n        if (loadingDocument) {\n            // return the promise if document is already loading\n            return loadingDocument;\n        }\n\n        try {\n            // start opening document\n            const document = this.loadDocument(uri, options);\n            // add loader to the map\n            this.loadingDocuments.set(uri.toString(), document);\n            // wait the document being opened\n            await document;\n            // retun opened document\n            return document;\n        } catch (error) {\n            return Promise.reject(error);\n        } finally {\n            // remove loader from the map\n            this.loadingDocuments.delete(uri.toString());\n        }\n    }\n\n    private async loadDocument(uri: URI, options?: theia.TextDocumentShowOptions): Promise<DocumentDataExt | undefined> {\n        let documentOptions: TextDocumentShowOptions | undefined;\n        if (options) {\n            let selection: Range | undefined;\n            if (options.selection) {\n                const { start, end } = options.selection;\n                selection = {\n                    startLineNumber: start.line,\n                    startColumn: start.character,\n                    endLineNumber: end.line,\n                    endColumn: end.character\n                };\n            }\n            documentOptions = {\n                selection,\n                preserveFocus: options.preserveFocus,\n                preview: options.preview,\n                viewColumn: options.viewColumn\n            };\n        }\n        await this.proxy.$tryOpenDocument(uri, documentOptions);\n        return this.editorsAndDocuments.getDocument(uri.toString());\n    }\n\n    async createDocumentData(options?: { language?: string; content?: string }): Promise<URI> {\n        return this.proxy.$tryCreateDocument(options).then(data => URI.revive(data));\n    }\n\n    setWordDefinitionFor(modeId: string, wordDefinition: RegExp | null): void {\n        setWordDefinitionFor(modeId, wordDefinition);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// enum copied from monaco.d.ts\n/**\n * The style in which the editor's cursor should be rendered.\n */\nexport enum TextEditorCursorStyle {\n    /**\n     * As a vertical line\n     */\n    Line = 1,\n\n    /**\n     * As a block\n     */\n    Block = 2,\n\n    /**\n     * As a horizontal line, under character\n     */\n    Underline = 3,\n\n    /**\n     * As a thin vertical line\n     */\n    LineThin = 4,\n\n    /**\n     * As an outlined block, on top of a character\n     */\n    BlockOutline = 5,\n\n    /**\n     * As a thin horizontal line, under a character\n     */\n    UnderlineThin = 6\n}\n\nexport function cursorStyleToString(cursorStyle: TextEditorCursorStyle): string {\n    switch (cursorStyle) {\n        case TextEditorCursorStyle.Line:\n            return 'line';\n        case TextEditorCursorStyle.Block:\n            return 'block';\n        case TextEditorCursorStyle.Underline:\n            return 'underline';\n        case TextEditorCursorStyle.LineThin:\n            return 'line-thin';\n        case TextEditorCursorStyle.BlockOutline:\n            return 'block-outline';\n        case TextEditorCursorStyle.UnderlineThin:\n            return 'underline-thin';\n        default:\n            throw new Error('cursorStyleToString: Unknown cursorStyle');\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport {\n    PLUGIN_RPC_CONTEXT as Ext, OutputChannelRegistryMain\n} from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { OutputChannelImpl } from './output-channel/output-channel-item';\n\nexport class OutputChannelRegistryExt {\n\n    proxy: OutputChannelRegistryMain;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.OUTPUT_CHANNEL_REGISTRY_MAIN);\n    }\n\n    createOutputChannel(name: string): theia.OutputChannel {\n        name = name.trim();\n        if (!name) {\n            throw new Error('illegal argument \\'name\\'. must not be falsy');\n        } else {\n            return new OutputChannelImpl(name, this.proxy);\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport * as theia from '@theia/plugin';\nimport {OutputChannelRegistryMain} from '../../api/plugin-api';\n\nexport class OutputChannelImpl implements theia.OutputChannel {\n\n    private disposed: boolean;\n\n    constructor(readonly name: string, private proxy: OutputChannelRegistryMain) {\n    }\n\n    dispose(): void {\n        if (!this.disposed) {\n            this.proxy.$dispose(this.name).then(() => {\n                this.disposed = true;\n            });\n        }\n    }\n\n    append(value: string): void {\n        this.validate();\n        this.proxy.$append(this.name, value);\n    }\n\n    appendLine(value: string): void {\n        this.validate();\n        this.append(value + '\\n');\n    }\n\n    clear(): void {\n        this.validate();\n        this.proxy.$clear(this.name);\n    }\n\n    show(preserveFocus: boolean | undefined): void {\n        this.validate();\n        this.proxy.$reveal(this.name, !!preserveFocus);\n    }\n\n    hide(): void {\n        this.validate();\n        this.proxy.$close(this.name);\n    }\n\n    private validate(): void {\n        if (this.disposed) {\n            throw new Error('Channel has been closed');\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Terminal, TerminalOptions } from '@theia/plugin';\nimport { TerminalServiceExt, TerminalServiceMain, PLUGIN_RPC_CONTEXT } from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport * as theia from '@theia/plugin';\n\n/**\n * Provides high level terminal plugin api to use in the Theia plugins.\n * This service allow(with help proxy) create and use terminal emulator.\n */\nexport class TerminalServiceExtImpl implements TerminalServiceExt {\n\n    private readonly proxy: TerminalServiceMain;\n    private readonly terminals: Map<number, Terminal> = new Map();\n    private readonly onDidCloseTerminalEmitter = new Emitter<Terminal>();\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.TERMINAL_MAIN);\n    }\n\n    createTerminal(nameOrOptions: TerminalOptions | (string | undefined), shellPath?: string, shellArgs?: string[]): Terminal {\n        let options: TerminalOptions;\n        if (typeof nameOrOptions === 'object') {\n            options = nameOrOptions;\n        } else {\n            options = {\n                name: nameOrOptions,\n                shellPath: shellPath,\n                shellArgs: shellArgs\n            };\n        }\n\n        const terminal = new TerminalExtImpl(this.proxy, options.name || 'Terminal');\n        terminal.create(options, shellPath, shellArgs);\n        terminal.processId.then(id => {\n            this.terminals.set(id, terminal);\n        });\n        return terminal;\n    }\n\n    $terminalClosed(id: number): void {\n        const terminal = this.terminals.get(id);\n        if (terminal) {\n            this.onDidCloseTerminalEmitter.fire(terminal);\n        }\n    }\n\n    public set onDidCloseTerminal(event: theia.Event<Terminal>) {\n        this.onDidCloseTerminalEmitter.event.apply(event);\n    }\n\n    public get onDidCloseTerminal(): theia.Event<Terminal> {\n        return this.onDidCloseTerminalEmitter.event;\n    }\n}\n\nexport class TerminalExtImpl implements Terminal {\n\n    termProcessId: PromiseLike<number>;\n\n    constructor(private readonly proxy: TerminalServiceMain, readonly name: string) { }\n\n    create(nameOrOptions: TerminalOptions, shellPath?: string, shellArgs?: string[]): void {\n        this.termProcessId = this.proxy.$createTerminal(nameOrOptions);\n    }\n\n    sendText(text: string, addNewLine: boolean = true): void {\n        this.termProcessId.then(id => this.proxy.$sendText(id, text, addNewLine));\n    }\n\n    show(preserveFocus?: boolean): void {\n        this.termProcessId.then(id => this.proxy.$show(id));\n    }\n\n    hide(): void {\n        this.termProcessId.then(id => this.proxy.$hide(id));\n    }\n\n    dispose(): void {\n        this.termProcessId.then(id => this.proxy.$dispose(id));\n    }\n\n    public get processId(): Thenable<number> {\n        return this.termProcessId;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    LanguagesExt,\n    PLUGIN_RPC_CONTEXT,\n    LanguagesMain,\n    SerializedLanguageConfiguration,\n    SerializedRegExp,\n    SerializedOnEnterRule,\n    SerializedIndentationRule,\n    Position,\n    Selection,\n    RawColorInfo,\n} from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from './documents';\nimport { PluginModel } from '../common/plugin-protocol';\nimport { Disposable } from './types-impl';\nimport URI from 'vscode-uri/lib/umd';\nimport { match as matchGlobPattern } from '../common/glob';\nimport { UriComponents } from '../common/uri-components';\nimport {\n    CompletionContext,\n    CompletionResultDto,\n    Completion,\n    SerializedDocumentFilter,\n    SignatureHelp,\n    Hover,\n    DocumentHighlight,\n    Range,\n    SingleEditOperation,\n    FormattingOptions,\n    Definition,\n    DefinitionLink,\n    DocumentLink,\n    CodeLensSymbol,\n    DocumentSymbol,\n    ReferenceContext,\n    Location,\n    ColorPresentation,\n} from '../api/model';\nimport { CompletionAdapter } from './languages/completion';\nimport { Diagnostics } from './languages/diagnostics';\nimport { SignatureHelpAdapter } from './languages/signature';\nimport { HoverAdapter } from './languages/hover';\nimport { DocumentHighlightAdapter } from './languages/document-highlight';\nimport { DocumentFormattingAdapter } from './languages/document-formatting';\nimport { RangeFormattingAdapter } from './languages/range-formatting';\nimport { OnTypeFormattingAdapter } from './languages/on-type-formatting';\nimport { DefinitionAdapter } from './languages/definition';\nimport { ImplementationAdapter } from './languages/implementation';\nimport { TypeDefinitionAdapter } from './languages/type-definition';\nimport { CodeActionAdapter } from './languages/code-action';\nimport { LinkProviderAdapter } from './languages/link-provider';\nimport { CodeLensAdapter } from './languages/lens';\nimport { CommandRegistryImpl } from './command-registry';\nimport { OutlineAdapter } from './languages/outline';\nimport { ReferenceAdapter } from './languages/reference';\nimport { WorkspaceSymbolAdapter } from './languages/workspace-symbol';\nimport { SymbolInformation } from 'vscode-languageserver-types';\nimport { FoldingProviderAdapter } from './languages/folding';\nimport { ColorProviderAdapter } from './languages/color';\n\ntype Adapter = CompletionAdapter |\n    SignatureHelpAdapter |\n    HoverAdapter |\n    DocumentHighlightAdapter |\n    DocumentFormattingAdapter |\n    RangeFormattingAdapter |\n    OnTypeFormattingAdapter |\n    DefinitionAdapter |\n    ImplementationAdapter |\n    TypeDefinitionAdapter |\n    LinkProviderAdapter |\n    CodeLensAdapter |\n    CodeActionAdapter |\n    OutlineAdapter |\n    LinkProviderAdapter |\n    ReferenceAdapter |\n    WorkspaceSymbolAdapter |\n    FoldingProviderAdapter |\n    ColorProviderAdapter;\n\nexport class LanguagesExtImpl implements LanguagesExt {\n\n    private proxy: LanguagesMain;\n\n    private diagnostics: Diagnostics;\n\n    private callId = 0;\n    private adaptersMap = new Map<number, Adapter>();\n\n    constructor(rpc: RPCProtocol, private readonly documents: DocumentsExtImpl, private readonly commands: CommandRegistryImpl) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN);\n        this.diagnostics = new Diagnostics(rpc);\n    }\n\n    get onDidChangeDiagnostics() {\n        return this.diagnostics.onDidChangeDiagnostics;\n    }\n\n    getLanguages(): Promise<string[]> {\n        return this.proxy.$getLanguages();\n    }\n\n    setLanguageConfiguration(language: string, configuration: theia.LanguageConfiguration): theia.Disposable {\n        const { wordPattern } = configuration;\n\n        if (wordPattern) {\n            this.documents.setWordDefinitionFor(language, wordPattern);\n        } else {\n            // tslint:disable-next-line:no-null-keyword\n            this.documents.setWordDefinitionFor(language, null);\n        }\n\n        const callId = this.nextCallId();\n\n        const config: SerializedLanguageConfiguration = {\n            brackets: configuration.brackets,\n            comments: configuration.comments,\n            onEnterRules: serializeEnterRules(configuration.onEnterRules),\n            wordPattern: serializeRegExp(configuration.wordPattern),\n            indentationRules: serializeIndentation(configuration.indentationRules)\n        };\n\n        this.proxy.$setLanguageConfiguration(callId, language, config);\n        return this.createDisposable(callId);\n    }\n\n    private nextCallId(): number {\n        return this.callId++;\n    }\n\n    private createDisposable(callId: number): theia.Disposable {\n        return new Disposable(() => {\n            this.adaptersMap.delete(callId);\n            this.proxy.$unregister(callId);\n        });\n    }\n\n    private addNewAdapter(adapter: Adapter): number {\n        const callId = this.nextCallId();\n        this.adaptersMap.set(callId, adapter);\n        return callId;\n    }\n\n    // tslint:disable-next-line:no-any\n    private withAdapter<A, R>(handle: number, ctor: { new(...args: any[]): A }, callback: (adapter: A) => Promise<R>): Promise<R> {\n        const adapter = this.adaptersMap.get(handle);\n        if (!(adapter instanceof ctor)) {\n            return Promise.reject(new Error('no adapter found'));\n        }\n        return callback(<A>adapter);\n    }\n\n    private transformDocumentSelector(selector: theia.DocumentSelector): SerializedDocumentFilter[] {\n        if (Array.isArray(selector)) {\n            return selector.map(sel => this.doTransformDocumentSelector(sel)!);\n        }\n\n        return [this.doTransformDocumentSelector(selector)!];\n    }\n\n    private doTransformDocumentSelector(selector: string | theia.DocumentFilter): SerializedDocumentFilter | undefined {\n        if (typeof selector === 'string') {\n            return {\n                $serialized: true,\n                language: selector\n            };\n        }\n\n        if (selector) {\n            return {\n                $serialized: true,\n                language: selector.language,\n                scheme: selector.scheme,\n                pattern: selector.pattern\n            };\n        }\n\n        return undefined;\n    }\n\n    // ### Completion begin\n    $provideCompletionItems(handle: number, resource: UriComponents, position: Position, context: CompletionContext): Promise<CompletionResultDto | undefined> {\n        return this.withAdapter(handle, CompletionAdapter, adapter => adapter.provideCompletionItems(URI.revive(resource), position, context));\n    }\n\n    $resolveCompletionItem(handle: number, resource: UriComponents, position: Position, completion: Completion): Promise<Completion> {\n        return this.withAdapter(handle, CompletionAdapter, adapter => adapter.resolveCompletionItem(URI.revive(resource), position, completion));\n    }\n\n    $releaseCompletionItems(handle: number, id: number): void {\n        this.withAdapter(handle, CompletionAdapter, adapter => adapter.releaseCompletionItems(id));\n    }\n\n    registerCompletionItemProvider(selector: theia.DocumentSelector, provider: theia.CompletionItemProvider, triggerCharacters: string[]): theia.Disposable {\n        const callId = this.addNewAdapter(new CompletionAdapter(provider, this.documents));\n        this.proxy.$registerCompletionSupport(callId, this.transformDocumentSelector(selector), triggerCharacters, CompletionAdapter.hasResolveSupport(provider));\n        return this.createDisposable(callId);\n    }\n    // ### Completion end\n\n    // ### Definition provider begin\n    $provideDefinition(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        return this.withAdapter(handle, DefinitionAdapter, adapter => adapter.provideDefinition(URI.revive(resource), position));\n    }\n\n    registerDefinitionProvider(selector: theia.DocumentSelector, provider: theia.DefinitionProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new DefinitionAdapter(provider, this.documents));\n        this.proxy.$registerDefinitionProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n    // ### Definition provider end\n\n    // ### Signature help begin\n    $provideSignatureHelp(handle: number, resource: UriComponents, position: Position): Promise<SignatureHelp | undefined> {\n        return this.withAdapter(handle, SignatureHelpAdapter, adapter => adapter.provideSignatureHelp(URI.revive(resource), position));\n    }\n\n    registerSignatureHelpProvider(selector: theia.DocumentSelector, provider: theia.SignatureHelpProvider, ...triggerCharacters: string[]): theia.Disposable {\n        const callId = this.addNewAdapter(new SignatureHelpAdapter(provider, this.documents));\n        this.proxy.$registerSignatureHelpProvider(callId, this.transformDocumentSelector(selector), triggerCharacters);\n        return this.createDisposable(callId);\n    }\n    // ### Signature help end\n\n    // ### Diagnostics begin\n    getDiagnostics(resource?: URI): theia.Diagnostic[] | [URI, theia.Diagnostic[]][] {\n        return this.diagnostics.getDiagnostics(resource!);\n    }\n\n    createDiagnosticCollection(name?: string): theia.DiagnosticCollection {\n        return this.diagnostics.createDiagnosticCollection(name);\n    }\n    // ### Diagnostics end\n\n    // ### Implementation provider begin\n    $provideImplementation(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        return this.withAdapter(handle, ImplementationAdapter, adapter => adapter.provideImplementation(URI.revive(resource), position));\n    }\n\n    registerImplementationProvider(selector: theia.DocumentSelector, provider: theia.ImplementationProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new ImplementationAdapter(provider, this.documents));\n        this.proxy.$registerImplementationProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n    // ### Implementation provider end\n\n    // ### Type Definition provider begin\n    $provideTypeDefinition(handle: number, resource: UriComponents, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        return this.withAdapter(handle, TypeDefinitionAdapter, adapter => adapter.provideTypeDefinition(URI.revive(resource), position));\n    }\n\n    registerTypeDefinitionProvider(selector: theia.DocumentSelector, provider: theia.TypeDefinitionProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new TypeDefinitionAdapter(provider, this.documents));\n        this.proxy.$registerTypeDefinitionProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n    // ### Type Definition provider end\n\n    // ### Hover Provider begin\n    registerHoverProvider(selector: theia.DocumentSelector, provider: theia.HoverProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new HoverAdapter(provider, this.documents));\n        this.proxy.$registerHoverProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideHover(handle: number, resource: UriComponents, position: Position): Promise<Hover | undefined> {\n        return this.withAdapter(handle, HoverAdapter, adapter => adapter.provideHover(URI.revive(resource), position));\n    }\n    // ### Hover Provider end\n\n    // ### Document Highlight Provider begin\n    registerDocumentHighlightProvider(selector: theia.DocumentSelector, provider: theia.DocumentHighlightProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new DocumentHighlightAdapter(provider, this.documents));\n        this.proxy.$registerDocumentHighlightProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideDocumentHighlights(handle: number, resource: UriComponents, position: Position): Promise<DocumentHighlight[] | undefined> {\n        return this.withAdapter(handle, DocumentHighlightAdapter, adapter => adapter.provideDocumentHighlights(URI.revive(resource), position));\n    }\n    // ### Document Highlight Provider end\n\n    // ### WorkspaceSymbol Provider begin\n    registerWorkspaceSymbolProvider(provider: theia.WorkspaceSymbolProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new WorkspaceSymbolAdapter(provider));\n        this.proxy.$registerWorkspaceSymbolProvider(callId);\n        return this.createDisposable(callId);\n    }\n\n    $provideWorkspaceSymbols(handle: number, query: string): PromiseLike<SymbolInformation[]> {\n        return this.withAdapter(handle, WorkspaceSymbolAdapter, adapter => adapter.provideWorkspaceSymbols(query));\n    }\n\n    $resolveWorkspaceSymbol(handle: number, symbol: SymbolInformation): PromiseLike<SymbolInformation> {\n        return this.withAdapter(handle, WorkspaceSymbolAdapter, adapter => adapter.resolveWorkspaceSymbol(symbol));\n    }\n    // ### WorkspaceSymbol Provider end\n\n    // ### Document Formatting Edit begin\n    registerDocumentFormattingEditProvider(selector: theia.DocumentSelector, provider: theia.DocumentFormattingEditProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new DocumentFormattingAdapter(provider, this.documents));\n        this.proxy.$registerDocumentFormattingSupport(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideDocumentFormattingEdits(handle: number, resource: UriComponents, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        return this.withAdapter(handle, DocumentFormattingAdapter, adapter => adapter.provideDocumentFormattingEdits(URI.revive(resource), options));\n    }\n    // ### Document Formatting Edit end\n\n    // ### Document Range Formatting Edit begin\n    registerDocumentRangeFormattingEditProvider(selector: theia.DocumentSelector, provider: theia.DocumentRangeFormattingEditProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new RangeFormattingAdapter(provider, this.documents));\n        this.proxy.$registerRangeFormattingProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideDocumentRangeFormattingEdits(handle: number, resource: UriComponents, range: Range, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        return this.withAdapter(handle, RangeFormattingAdapter, adapter => adapter.provideDocumentRangeFormattingEdits(URI.revive(resource), range, options));\n    }\n    // ### Document Range Formatting Edit end\n\n    // ### On Type Formatting Edit begin\n    registerOnTypeFormattingEditProvider(\n        selector: theia.DocumentSelector,\n        provider: theia.OnTypeFormattingEditProvider,\n        triggerCharacters: string[]\n    ): theia.Disposable {\n        const callId = this.addNewAdapter(new OnTypeFormattingAdapter(provider, this.documents));\n        this.proxy.$registerOnTypeFormattingProvider(callId, this.transformDocumentSelector(selector), triggerCharacters);\n        return this.createDisposable(callId);\n    }\n\n    $provideOnTypeFormattingEdits(handle: number, resource: UriComponents, position: Position, ch: string, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        return this.withAdapter(handle, OnTypeFormattingAdapter, adapter => adapter.provideOnTypeFormattingEdits(URI.revive(resource), position, ch, options));\n    }\n    // ### On Type Formatting Edit end\n\n    // ### Document Link Provider begin\n    $provideDocumentLinks(handle: number, resource: UriComponents): Promise<DocumentLink[] | undefined> {\n        return this.withAdapter(handle, LinkProviderAdapter, adapter => adapter.provideLinks(URI.revive(resource)));\n    }\n\n    $resolveDocumentLink(handle: number, link: DocumentLink): Promise<DocumentLink | undefined> {\n        return this.withAdapter(handle, LinkProviderAdapter, adapter => adapter.resolveLink(link));\n    }\n\n    registerLinkProvider(selector: theia.DocumentSelector, provider: theia.DocumentLinkProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new LinkProviderAdapter(provider, this.documents));\n        this.proxy.$registerDocumentLinkProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n    // ### Document Link Provider end\n\n    // ### Code Actions Provider begin\n    registerCodeActionsProvider(\n        selector: theia.DocumentSelector,\n        provider: theia.CodeActionProvider,\n        pluginModel: PluginModel,\n        metadata?: theia.CodeActionProviderMetadata\n    ): theia.Disposable {\n        const callId = this.addNewAdapter(new CodeActionAdapter(provider, this.documents, this.diagnostics, pluginModel ? pluginModel.id : ''));\n        this.proxy.$registerQuickFixProvider(\n            callId,\n            this.transformDocumentSelector(selector),\n            metadata && metadata.providedCodeActionKinds ? metadata.providedCodeActionKinds.map(kind => kind.value!) : undefined\n        );\n        return this.createDisposable(callId);\n    }\n\n    $provideCodeActions(handle: number,\n        resource: UriComponents,\n        rangeOrSelection: Range | Selection,\n        context: monaco.languages.CodeActionContext\n    ): Promise<monaco.languages.CodeAction[]> {\n        return this.withAdapter(handle, CodeActionAdapter, adapter => adapter.provideCodeAction(URI.revive(resource), rangeOrSelection, context));\n    }\n    // ### Code Actions Provider end\n\n    // ### Code Lens Provider begin\n    registerCodeLensProvider(selector: theia.DocumentSelector, provider: theia.CodeLensProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new CodeLensAdapter(provider, this.documents, this.commands.getConverter()));\n        const eventHandle = typeof provider.onDidChangeCodeLenses === 'function' ? this.nextCallId() : undefined;\n        this.proxy.$registerCodeLensSupport(callId, this.transformDocumentSelector(selector), eventHandle);\n        let result = this.createDisposable(callId);\n\n        if (eventHandle !== undefined && provider.onDidChangeCodeLenses) {\n            const subscription = provider.onDidChangeCodeLenses(e => this.proxy.$emitCodeLensEvent(eventHandle));\n            result = Disposable.from(result, subscription);\n        }\n\n        return result;\n    }\n\n    $provideCodeLenses(handle: number, resource: UriComponents): Promise<CodeLensSymbol[] | undefined> {\n        return this.withAdapter(handle, CodeLensAdapter, adapter => adapter.provideCodeLenses(URI.revive(resource)));\n    }\n\n    $resolveCodeLens(handle: number, resource: UriComponents, symbol: CodeLensSymbol): Promise<CodeLensSymbol | undefined> {\n        return this.withAdapter(handle, CodeLensAdapter, adapter => adapter.resolveCodeLens(URI.revive(resource), symbol));\n    }\n    // ### Code Lens Provider end\n\n    // ### Code Reference Provider begin\n    $provideReferences(handle: number, resource: UriComponents, position: Position, context: ReferenceContext): Promise<Location[] | undefined> {\n        return this.withAdapter(handle, ReferenceAdapter, adapter => adapter.provideReferences(URI.revive(resource), position, context));\n    }\n\n    registerReferenceProvider(selector: theia.DocumentSelector, provider: theia.ReferenceProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new ReferenceAdapter(provider, this.documents));\n        this.proxy.$registeReferenceProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n    // ### Code Reference Provider end\n\n    // ### Document Symbol Provider begin\n    registerDocumentSymbolProvider(selector: theia.DocumentSelector, provider: theia.DocumentSymbolProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new OutlineAdapter(this.documents, provider));\n        this.proxy.$registerOutlineSupport(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideDocumentSymbols(handle: number, resource: UriComponents): Promise<DocumentSymbol[] | undefined> {\n        return this.withAdapter(handle, OutlineAdapter, adapter => adapter.provideDocumentSymbols(URI.revive(resource)));\n    }\n    // ### Document Symbol Provider end\n\n    // ### Color Provider begin\n    registerColorProvider(selector: theia.DocumentSelector, provider: theia.DocumentColorProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new ColorProviderAdapter(this.documents, provider));\n        this.proxy.$registerDocumentColorProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideDocumentColors(handle: number, resource: UriComponents): Promise<RawColorInfo[]> {\n        return this.withAdapter(handle, ColorProviderAdapter, adapter => adapter.provideColors(URI.revive(resource)));\n    }\n\n    $provideColorPresentations(handle: number, resource: UriComponents, colorInfo: RawColorInfo): Promise<ColorPresentation[]> {\n        return this.withAdapter(handle, ColorProviderAdapter, adapter => adapter.provideColorPresentations(URI.revive(resource), colorInfo));\n    }\n    // ### Color Provider end\n\n    // ### Folding Range Provider begin\n    registerFoldingRangeProvider(selector: theia.DocumentSelector, provider: theia.FoldingRangeProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new FoldingProviderAdapter(provider, this.documents));\n        this.proxy.$registerFoldingRangeProvider(callId, this.transformDocumentSelector(selector));\n        return this.createDisposable(callId);\n    }\n\n    $provideFoldingRange(\n        callId: number,\n        resource: UriComponents,\n        context: theia.FoldingContext\n    ): Promise<monaco.languages.FoldingRange[] | undefined> {\n        return this.withAdapter(callId, FoldingProviderAdapter, adapter => adapter.provideFoldingRanges(URI.revive(resource), context));\n    }\n    // ### Folging Range Provider end\n}\n\nfunction serializeEnterRules(rules?: theia.OnEnterRule[]): SerializedOnEnterRule[] | undefined {\n    if (typeof rules === 'undefined' || rules === null) {\n        return undefined;\n    }\n\n    return rules.map(r =>\n        ({\n            action: r.action,\n            beforeText: serializeRegExp(r.beforeText),\n            afterText: serializeRegExp(r.afterText)\n        } as SerializedOnEnterRule));\n}\n\nfunction serializeRegExp(regexp?: RegExp): SerializedRegExp | undefined {\n    if (typeof regexp === 'undefined' || regexp === null) {\n        return undefined;\n    }\n\n    return {\n        pattern: regexp.source,\n        flags: (regexp.global ? 'g' : '') + (regexp.ignoreCase ? 'i' : '') + (regexp.multiline ? 'm' : '')\n    };\n}\n\nfunction serializeIndentation(indentationRules?: theia.IndentationRule): SerializedIndentationRule | undefined {\n    if (typeof indentationRules === 'undefined' || indentationRules === null) {\n        return undefined;\n    }\n\n    return {\n        increaseIndentPattern: serializeRegExp(indentationRules.increaseIndentPattern),\n        decreaseIndentPattern: serializeRegExp(indentationRules.decreaseIndentPattern),\n        indentNextLinePattern: serializeRegExp(indentationRules.indentNextLinePattern),\n        unIndentedLinePattern: serializeRegExp(indentationRules.unIndentedLinePattern)\n    };\n}\n\nexport interface RelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\nexport interface LanguageFilter {\n    language?: string;\n    scheme?: string;\n    pattern?: string | RelativePattern;\n    hasAccessToAllModels?: boolean;\n}\nexport type LanguageSelector = string | LanguageFilter | (string | LanguageFilter)[];\n\nexport function score(selector: LanguageSelector | undefined, candidateUri: URI, candidateLanguage: string, candidateIsSynchronized: boolean): number {\n\n    if (Array.isArray(selector)) {\n        let ret = 0;\n        for (const filter of selector) {\n            const value = score(filter, candidateUri, candidateLanguage, candidateIsSynchronized);\n            if (value === 10) {\n                return value;\n            }\n            if (value > ret) {\n                ret = value;\n            }\n        }\n        return ret;\n\n    } else if (typeof selector === 'string') {\n\n        if (!candidateIsSynchronized) {\n            return 0;\n        }\n\n        if (selector === '*') {\n            return 5;\n        } else if (selector === candidateLanguage) {\n            return 10;\n        } else {\n            return 0;\n        }\n\n    } else if (selector) {\n        const { language, pattern, scheme, hasAccessToAllModels } = selector;\n\n        if (!candidateIsSynchronized && !hasAccessToAllModels) {\n            return 0;\n        }\n\n        let result = 0;\n\n        if (scheme) {\n            if (scheme === candidateUri.scheme) {\n                result = 10;\n            } else if (scheme === '*') {\n                result = 5;\n            } else {\n                return 0;\n            }\n        }\n\n        if (language) {\n            if (language === candidateLanguage) {\n                result = 10;\n            } else if (language === '*') {\n                result = Math.max(result, 5);\n            } else {\n                return 0;\n            }\n        }\n\n        if (pattern) {\n            if (pattern === candidateUri.fsPath || matchGlobPattern(pattern, candidateUri.fsPath)) {\n                result = 10;\n            } else {\n                return 0;\n            }\n        }\n\n        return result;\n\n    } else {\n        return 0;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/glob.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as strings from './strings';\nimport * as paths from './paths';\nimport { CharCode } from './char-code';\n/* tslint:disable:no-null-keyword no-shadowed-variable one-variable-per-declaration */\nexport interface IExpression {\n    // tslint:disable-next-line:no-any\n    [pattern: string]: boolean | SiblingClause | any;\n}\n\nexport interface IRelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\n\nexport function getEmptyExpression(): IExpression {\n    return Object.create(null);\n}\n\nexport interface SiblingClause {\n    when: string;\n}\n\nconst GLOBSTAR = '**';\nconst GLOB_SPLIT = '/';\nconst PATH_REGEX = '[/\\\\\\\\]';        // any slash or backslash\nconst NO_PATH_REGEX = '[^/\\\\\\\\]';    // any non-slash and non-backslash\nconst ALL_FORWARD_SLASHES = /\\//g;\n\nfunction starsToRegExp(starCount: number): string {\n    switch (starCount) {\n        case 0:\n            return '';\n        case 1:\n            return `${NO_PATH_REGEX}*?`; // 1 star matches any number of characters except path separator (/ and \\) - non greedy (?)\n        default:\n            // Matches:  (Path Sep OR Path Val followed by Path Sep OR Path Sep followed by Path Val) 0-many times\n            // Group is non capturing because we don't need to capture at all (?:...)\n            // Overall we use non-greedy matching because it could be that we match too much\n            return `(?:${PATH_REGEX}|${NO_PATH_REGEX}+${PATH_REGEX}|${PATH_REGEX}${NO_PATH_REGEX}+)*?`;\n    }\n}\n\nexport function splitGlobAware(pattern: string, splitChar: string): string[] {\n    if (!pattern) {\n        return [];\n    }\n\n    const segments: string[] = [];\n\n    let inBraces = false;\n    let inBrackets = false;\n\n    let char: string;\n    let curVal = '';\n    for (let i = 0; i < pattern.length; i++) {\n        char = pattern[i];\n\n        switch (char) {\n            case splitChar:\n                if (!inBraces && !inBrackets) {\n                    segments.push(curVal);\n                    curVal = '';\n\n                    continue;\n                }\n                break;\n            case '{':\n                inBraces = true;\n                break;\n            case '}':\n                inBraces = false;\n                break;\n            case '[':\n                inBrackets = true;\n                break;\n            case ']':\n                inBrackets = false;\n                break;\n        }\n\n        curVal += char;\n    }\n\n    // Tail\n    if (curVal) {\n        segments.push(curVal);\n    }\n\n    return segments;\n}\n\nfunction parseRegExp(pattern: string): string {\n    if (!pattern) {\n        return '';\n    }\n\n    let regEx = '';\n\n    // Split up into segments for each slash found\n    // tslint:disable-next-line:prefer-const\n    let segments = splitGlobAware(pattern, GLOB_SPLIT);\n\n    // Special case where we only have globstars\n    if (segments.every(s => s === GLOBSTAR)) {\n        regEx = '.*';\n    }\n\n    // Build regex over segments\n    // tslint:disable-next-line:one-line\n    else {\n        let previousSegmentWasGlobStar = false;\n        segments.forEach((segment, index) => {\n\n            // Globstar is special\n            if (segment === GLOBSTAR) {\n\n                // if we have more than one globstar after another, just ignore it\n                if (!previousSegmentWasGlobStar) {\n                    regEx += starsToRegExp(2);\n                    previousSegmentWasGlobStar = true;\n                }\n\n                return;\n            }\n\n            // States\n            let inBraces = false;\n            let braceVal = '';\n\n            let inBrackets = false;\n            let bracketVal = '';\n\n            let char: string;\n            for (let i = 0; i < segment.length; i++) {\n                char = segment[i];\n\n                // Support brace expansion\n                if (char !== '}' && inBraces) {\n                    braceVal += char;\n                    continue;\n                }\n\n                // Support brackets\n                if (inBrackets && (char !== ']' || !bracketVal) /* ] is literally only allowed as first character in brackets to match it */) {\n                    let res: string;\n\n                    // range operator\n                    if (char === '-') {\n                        res = char;\n                    }\n\n                    // negation operator (only valid on first index in bracket)\n                    // tslint:disable-next-line:one-line\n                    else if ((char === '^' || char === '!') && !bracketVal) {\n                        res = '^';\n                    }\n\n                    // glob split matching is not allowed within character ranges\n                    // see http://man7.org/linux/man-pages/man7/glob.7.html\n                    // tslint:disable-next-line:one-line\n                    else if (char === GLOB_SPLIT) {\n                        res = '';\n                    }\n\n                    // anything else gets escaped\n                    // tslint:disable-next-line:one-line\n                    else {\n                        res = strings.escapeRegExpCharacters(char);\n                    }\n\n                    bracketVal += res;\n                    continue;\n                }\n\n                switch (char) {\n                    case '{':\n                        inBraces = true;\n                        continue;\n\n                    case '[':\n                        inBrackets = true;\n                        continue;\n\n                    case '}':\n                        // tslint:disable-next-line:prefer-const\n                        let choices = splitGlobAware(braceVal, ',');\n\n                        // Converts {foo,bar} => [foo|bar]\n                        // tslint:disable-next-line:prefer-const\n                        let braceRegExp = `(?:${choices.map(c => parseRegExp(c)).join('|')})`;\n\n                        regEx += braceRegExp;\n\n                        inBraces = false;\n                        braceVal = '';\n\n                        break;\n\n                    case ']':\n                        regEx += ('[' + bracketVal + ']');\n\n                        inBrackets = false;\n                        bracketVal = '';\n\n                        break;\n\n                    case '?':\n                        regEx += NO_PATH_REGEX; // 1 ? matches any single character except path separator (/ and \\)\n                        continue;\n\n                    case '*':\n                        regEx += starsToRegExp(1);\n                        continue;\n\n                    default:\n                        regEx += strings.escapeRegExpCharacters(char);\n                }\n            }\n\n            // Tail: Add the slash we had split on if there is more to come and the remaining pattern is not a globstar\n            // For example if pattern: some/**/*.js we want the \"/\" after some to be included in the RegEx to prevent\n            // a folder called \"something\" to match as well.\n            // However, if pattern: some/**, we tolerate that we also match on \"something\" because our globstar behaviour\n            // is to match 0-N segments.\n            if (index < segments.length - 1 && (segments[index + 1] !== GLOBSTAR || index + 2 < segments.length)) {\n                regEx += PATH_REGEX;\n            }\n\n            // reset state\n            previousSegmentWasGlobStar = false;\n        });\n    }\n\n    return regEx;\n}\n\n// regexes to check for trival glob patterns that just check for String#endsWith\nconst T1 = /^\\*\\*\\/\\*\\.[\\w\\.-]+$/;                                        // **/*.something\nconst T2 = /^\\*\\*\\/([\\w\\.-]+)\\/?$/;                                            // **/something\nconst T3 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?)*}$/;     // {**/*.something,**/*.else} or {**/package.json,**/project.json}\nconst T3_2 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?)*}$/;     // Like T3, with optional trailing /**\nconst T4 = /^\\*\\*((\\/[\\w\\.-]+)+)\\/?$/;                                        // **/something/else\nconst T5 = /^([\\w\\.-]+(\\/[\\w\\.-]+)*)\\/?$/;                                    // something/else\n\nexport type ParsedPattern = (path: string, basename?: string) => boolean;\n\n// The ParsedExpression returns a Promise iff hasSibling returns a Promise.\n// tslint:disable-next-line:max-line-length\nexport type ParsedExpression = (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>) => string | Promise<string> /* the matching pattern */;\n\nexport interface IGlobOptions {\n    /**\n     * Simplify patterns for use as exclusion filters during tree traversal to skip entire subtrees. Cannot be used outside of a tree traversal.\n     */\n    trimForExclusions?: boolean;\n}\n\ninterface ParsedStringPattern {\n    (path: string, basename: string): string | Promise<string> /* the matching pattern */;\n    basenames?: string[];\n    patterns?: string[];\n    allBasenames?: string[];\n    allPaths?: string[];\n}\ninterface ParsedExpressionPattern {\n    (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>): string | Promise<string> /* the matching pattern */;\n    requiresSiblings?: boolean;\n    allBasenames?: string[];\n    allPaths?: string[];\n}\n\nconst CACHE = new Map<string, ParsedStringPattern>();  // new LRUCache<string, ParsedStringPattern>(10000); // bounded to 10000 elements\n\nconst FALSE = function () {\n    return false;\n};\n\nconst NULL = function (): string {\n    return null!;\n};\n\nfunction parsePattern(arg1: string | IRelativePattern, options: IGlobOptions): ParsedStringPattern {\n    if (!arg1) {\n        return NULL;\n    }\n\n    // Handle IRelativePattern\n    let pattern: string;\n    if (typeof arg1 !== 'string') {\n        pattern = arg1.pattern;\n    } else {\n        pattern = arg1;\n    }\n\n    // Whitespace trimming\n    pattern = pattern.trim();\n\n    // Check cache\n    const patternKey = `${pattern}_${!!options.trimForExclusions}`;\n    let parsedPattern = CACHE.get(patternKey);\n    if (parsedPattern) {\n        return wrapRelativePattern(parsedPattern, arg1);\n    }\n\n    // Check for Trivias\n    let match: RegExpExecArray;\n    if (T1.test(pattern)) { // common pattern: **/*.txt just need endsWith check\n        const base = pattern.substr(4); // '**/*'.length === 4\n        parsedPattern = function (path, basename) {\n            return path && strings.endsWith(path, base) ? pattern : null!;\n        };\n    } else if (match = T2.exec(trimForExclusions(pattern, options))!) { // common pattern: **/some.txt just need basename check\n        parsedPattern = trivia2(match[1], pattern);\n    } else if ((options.trimForExclusions ? T3_2 : T3).test(pattern)) { // repetition of common patterns (see above) {**/*.txt,**/*.png}\n        parsedPattern = trivia3(pattern, options);\n    } else if (match = T4.exec(trimForExclusions(pattern, options))!) { // common pattern: **/something/else just need endsWith check\n        parsedPattern = trivia4and5(match[1].substr(1), pattern, true);\n    } else if (match = T5.exec(trimForExclusions(pattern, options))!) { // common pattern: something/else just need equals check\n        parsedPattern = trivia4and5(match[1], pattern, false);\n    }\n\n    // Otherwise convert to pattern\n    // tslint:disable-next-line:one-line\n    else {\n        parsedPattern = toRegExp(pattern);\n    }\n\n    // Cache\n    CACHE.set(patternKey, parsedPattern);\n\n    return wrapRelativePattern(parsedPattern, arg1);\n}\n\nfunction wrapRelativePattern(parsedPattern: ParsedStringPattern, arg2: string | IRelativePattern): ParsedStringPattern {\n    if (typeof arg2 === 'string') {\n        return parsedPattern;\n    }\n\n    return function (path, basename) {\n        if (!paths.isEqualOrParent(path, arg2.base)) {\n            return null!;\n        }\n\n        return parsedPattern(paths.normalize(arg2.pathToRelative(arg2.base, path)), basename);\n    };\n}\n\nfunction trimForExclusions(pattern: string, options: IGlobOptions): string {\n    return options.trimForExclusions && strings.endsWith(pattern, '/**') ? pattern.substr(0, pattern.length - 2) : pattern; // dropping **, tailing / is dropped later\n}\n\n// common pattern: **/some.txt just need basename check\nfunction trivia2(base: string, originalPattern: string): ParsedStringPattern {\n    const slashBase = `/${base}`;\n    const backslashBase = `\\\\${base}`;\n    const parsedPattern: ParsedStringPattern = function (path, basename) {\n        if (!path) {\n            return null!;\n        }\n        if (basename) {\n            return basename === base ? originalPattern : null!;\n        }\n        return path === base || strings.endsWith(path, slashBase) || strings.endsWith(path, backslashBase) ? originalPattern : null!;\n    };\n    const basenames = [base];\n    parsedPattern.basenames = basenames;\n    parsedPattern.patterns = [originalPattern];\n    parsedPattern.allBasenames = basenames;\n    return parsedPattern;\n}\n\n// repetition of common ppatterns (see above) {**/*.txt,**/*.png}\nfunction trivia3(pattern: string, options: IGlobOptions): ParsedStringPattern {\n    const parsedPatterns = aggregateBasenameMatches(pattern.slice(1, -1).split(',')\n        .map(pattern => parsePattern(pattern, options))\n        .filter(pattern => pattern !== NULL), pattern);\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n    if (n === 1) {\n        return <ParsedStringPattern>parsedPatterns[0];\n    }\n    const parsedPattern: ParsedStringPattern = function (path: string, basename: string) {\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            if ((<ParsedStringPattern>parsedPatterns[i])(path, basename)) {\n                return pattern;\n            }\n        }\n        return null!;\n    };\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    // const withBasenames = arrays.first(parsedPatterns, pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        parsedPattern.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        parsedPattern.allPaths = allPaths;\n    }\n    return parsedPattern;\n}\n\n// common patterns: **/something/else just need endsWith check, something/else just needs and equals check\nfunction trivia4and5(path: string, pattern: string, matchPathEnds: boolean): ParsedStringPattern {\n    const nativePath = paths.nativeSep !== paths.sep ? path.replace(ALL_FORWARD_SLASHES, paths.nativeSep) : path;\n    const nativePathEnd = paths.nativeSep + nativePath;\n    // tslint:disable-next-line:no-shadowed-variable\n    const parsedPattern: ParsedStringPattern = matchPathEnds ? function (path, basename) {\n        return path && (path === nativePath || strings.endsWith(path, nativePathEnd)) ? pattern : null!;\n        // tslint:disable-next-line:no-shadowed-variable\n    } : function (path, basename) {\n        return path && path === nativePath ? pattern : null!;\n    };\n    parsedPattern.allPaths = [(matchPathEnds ? '*/' : './') + path];\n    return parsedPattern;\n}\n\nfunction toRegExp(pattern: string): ParsedStringPattern {\n    try {\n        const regExp = new RegExp(`^${parseRegExp(pattern)}$`);\n        return function (path: string, basename: string) {\n            regExp.lastIndex = 0; // reset RegExp to its initial state to reuse it!\n            return path && regExp.test(path) ? pattern : null!;\n        };\n    } catch (error) {\n        return NULL;\n    }\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function match(pattern: string | IRelativePattern, path: string): boolean;\nexport function match(expression: IExpression, path: string, hasSibling?: (name: string) => boolean): string /* the matching pattern */;\n// tslint:disable-next-line:no-any\nexport function match(arg1: string | IExpression | IRelativePattern, path: string, hasSibling?: (name: string) => boolean): any {\n    if (!arg1 || !path) {\n        return false;\n    }\n\n    return parse(<IExpression>arg1)(path, undefined, hasSibling);\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function parse(pattern: string | IRelativePattern, options?: IGlobOptions): ParsedPattern;\nexport function parse(expression: IExpression, options?: IGlobOptions): ParsedExpression;\n// tslint:disable-next-line:no-any\nexport function parse(arg1: string | IExpression | IRelativePattern, options: IGlobOptions = {}): any {\n    if (!arg1) {\n        return FALSE;\n    }\n\n    // Glob with String\n    if (typeof arg1 === 'string' || isRelativePattern(arg1)) {\n        const parsedPattern = parsePattern(arg1 as string | IRelativePattern, options);\n        if (parsedPattern === NULL) {\n            return FALSE;\n        }\n        const resultPattern = function (path: string, basename: string) {\n            return !!parsedPattern(path, basename);\n        };\n        if (parsedPattern.allBasenames) {\n            // tslint:disable-next-line:no-any\n            (<ParsedStringPattern><any>resultPattern).allBasenames = parsedPattern.allBasenames;\n        }\n        if (parsedPattern.allPaths) {\n            // tslint:disable-next-line:no-any\n            (<ParsedStringPattern><any>resultPattern).allPaths = parsedPattern.allPaths;\n        }\n        return resultPattern;\n    }\n\n    // Glob with Expression\n    return parsedExpression(<IExpression>arg1, options);\n}\n\nexport function hasSiblingPromiseFn(siblingsFn?: () => Promise<string[]>) {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Promise<Record<string, true>>;\n    return (name: string) => {\n        if (!siblings) {\n            siblings = (siblingsFn() || Promise.resolve([]))\n                .then(list => list ? listToMap(list) : {});\n        }\n        return siblings.then(map => !!map[name]);\n    };\n}\n\nexport function hasSiblingFn(siblingsFn?: () => string[]) {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Record<string, true>;\n    return (name: string) => {\n        if (!siblings) {\n            const list = siblingsFn();\n            siblings = list ? listToMap(list) : {};\n        }\n        return !!siblings[name];\n    };\n}\n\nfunction listToMap(list: string[]) {\n    const map: Record<string, true> = {};\n    for (const key of list) {\n        map[key] = true;\n    }\n    return map;\n}\n\n// tslint:disable-next-line:no-any\nexport function isRelativePattern(obj: any): obj is IRelativePattern {\n    const rp = obj as IRelativePattern;\n\n    return rp && typeof rp.base === 'string' && typeof rp.pattern === 'string' && typeof rp.pathToRelative === 'function';\n}\n\n/**\n * Same as `parse`, but the ParsedExpression is guaranteed to return a Promise\n */\nexport function parseToAsync(expression: IExpression, options?: IGlobOptions): ParsedExpression {\n    // tslint:disable-next-line:no-shadowed-variable\n    const parsedExpression = parse(expression, options);\n    return (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string> => {\n        const result = parsedExpression(path, basename, hasSibling);\n        return result instanceof Promise ? result : Promise.resolve(result);\n    };\n}\n\nexport function getBasenameTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allBasenames || [];\n}\n\nexport function getPathTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allPaths || [];\n}\n\nfunction parsedExpression(expression: IExpression, options: IGlobOptions): ParsedExpression {\n    const parsedPatterns = aggregateBasenameMatches(Object.getOwnPropertyNames(expression)\n        .map(pattern => parseExpressionPattern(pattern, expression[pattern], options))\n        .filter(pattern => pattern !== NULL));\n\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n\n    if (!parsedPatterns.some(parsedPattern => (<ParsedExpressionPattern>parsedPattern).requiresSiblings!)) {\n        if (n === 1) {\n            return <ParsedStringPattern>parsedPatterns[0];\n        }\n\n        // tslint:disable-next-line:no-shadowed-variable\n        const resultExpression: ParsedStringPattern = function (path: string, basename: string) {\n            // tslint:disable-next-line:no-shadowed-variable\n            // tslint:disable-next-line:one-variable-per-declaration\n            for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n                // Pattern matches path\n                const result = (<ParsedStringPattern>parsedPatterns[i])(path, basename);\n                if (result) {\n                    return result;\n                }\n            }\n\n            return null!;\n        };\n\n        // tslint:disable-next-line:no-shadowed-variable\n        const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n        if (withBasenames) {\n            resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n        }\n\n        // tslint:disable-next-line:no-shadowed-variable\n        const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n        if (allPaths.length) {\n            resultExpression.allPaths = allPaths;\n        }\n\n        return resultExpression;\n    }\n\n    const resultExpression: ParsedStringPattern = function (path: string, basename: string, hasSibling?: (name: string) => boolean | Promise<boolean>) {\n        let name: string = null!;\n\n        // tslint:disable-next-line:no-shadowed-variable\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            // Pattern matches path\n            const parsedPattern = (<ParsedExpressionPattern>parsedPatterns[i]);\n            if (parsedPattern.requiresSiblings && hasSibling) {\n                if (!basename) {\n                    basename = paths.basename(path);\n                }\n                if (!name) {\n                    name = basename.substr(0, basename.length - paths.extname(path).length);\n                }\n            }\n            const result = parsedPattern(path, basename, name, hasSibling!);\n            if (result) {\n                return result;\n            }\n        }\n\n        return null!;\n    };\n\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        resultExpression.allPaths = allPaths;\n    }\n\n    return resultExpression;\n}\n\n// tslint:disable-next-line:no-any\nfunction parseExpressionPattern(pattern: string, value: any, options: IGlobOptions): (ParsedStringPattern | ParsedExpressionPattern) {\n    if (value === false) {\n        return NULL; // pattern is disabled\n    }\n\n    const parsedPattern = parsePattern(pattern, options);\n    if (parsedPattern === NULL) {\n        return NULL;\n    }\n\n    // Expression Pattern is <boolean>\n    if (typeof value === 'boolean') {\n        return parsedPattern;\n    }\n\n    // Expression Pattern is <SiblingClause>\n    if (value) {\n        const when = (<SiblingClause>value).when;\n        if (typeof when === 'string') {\n            const result: ParsedExpressionPattern = (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>) => {\n                if (!hasSibling || !parsedPattern(path, basename)) {\n                    return null!;\n                }\n\n                const clausePattern = when.replace('$(basename)', name);\n                const matched = hasSibling(clausePattern);\n                return matched instanceof Promise ?\n                    matched.then(m => m ? pattern : null!) :\n                    matched ? pattern : null!;\n            };\n            result.requiresSiblings = true;\n            return result;\n        }\n    }\n\n    // Expression is Anything\n    return parsedPattern;\n}\n\nfunction aggregateBasenameMatches(parsedPatterns: (ParsedStringPattern | ParsedExpressionPattern)[], result?: string): (ParsedStringPattern | ParsedExpressionPattern)[] {\n    const basenamePatterns = parsedPatterns.filter(parsedPattern => !!(<ParsedStringPattern>parsedPattern).basenames);\n    if (basenamePatterns.length < 2) {\n        return parsedPatterns;\n    }\n\n    const basenames = basenamePatterns.reduce<string[]>((all, current) => all.concat((<ParsedStringPattern>current).basenames!), []);\n    let patterns: string[];\n    if (result) {\n        patterns = [];\n        // tslint:disable-next-line:one-variable-per-declaration\n        for (let i = 0, n = basenames.length; i < n; i++) {\n            patterns.push(result);\n        }\n    } else {\n        patterns = basenamePatterns.reduce((all, current) => all.concat((<ParsedStringPattern>current).patterns!), <string[]>[]);\n    }\n    const aggregate: ParsedStringPattern = function (path, basename) {\n        if (!path) {\n            return null!;\n        }\n        if (!basename) {\n            let i: number;\n            for (i = path.length; i > 0; i--) {\n                const ch = path.charCodeAt(i - 1);\n                if (ch === CharCode.Slash || ch === CharCode.Backslash) {\n                    break;\n                }\n            }\n            basename = path.substr(i);\n        }\n        const index = basenames.indexOf(basename);\n        return index !== -1 ? patterns[index] : null!;\n    };\n    aggregate.basenames = basenames;\n    aggregate.patterns = patterns;\n    aggregate.allBasenames = basenames;\n\n    const aggregatedPatterns = parsedPatterns.filter(parsedPattern => !(<ParsedStringPattern>parsedPattern).basenames);\n    aggregatedPatterns.push(aggregate);\n    return aggregatedPatterns;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { CompletionList, Range, SnippetString } from '../types-impl';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport { mixin } from '../../common/types';\nimport { Position } from '../../api/plugin-api';\nimport { CompletionContext, CompletionResultDto, Completion, CompletionDto } from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class CompletionAdapter {\n    private cacheId = 0;\n    private cache = new Map<number, theia.CompletionItem[]>();\n\n    constructor(private readonly delegate: theia.CompletionItemProvider,\n        private readonly documents: DocumentsExtImpl) {\n\n    }\n\n    provideCompletionItems(resource: URI, position: Position, context: CompletionContext): Promise<CompletionResultDto | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for  ${resource}`));\n        }\n\n        const doc = document.document;\n\n        const pos = Converter.toPosition(position);\n        return Promise.resolve(this.delegate.provideCompletionItems(doc, pos, createToken(), context)).then(value => {\n            const id = this.cacheId++;\n            const result: CompletionResultDto = {\n                id,\n                completions: [],\n            };\n\n            let list: CompletionList;\n            if (!value) {\n                return undefined;\n            } else if (Array.isArray(value)) {\n                list = new CompletionList(value);\n            } else {\n                list = value;\n                result.incomplete = list.isIncomplete;\n            }\n\n            const wordRangeBeforePos = (doc.getWordRangeAtPosition(pos) as Range || new Range(pos, pos))\n                .with({ end: pos });\n\n            for (let i = 0; i < list.items.length; i++) {\n                const suggestion = this.convertCompletionItem(list.items[i], pos, wordRangeBeforePos, i, id);\n                if (suggestion) {\n                    result.completions.push(suggestion);\n                }\n            }\n            this.cache.set(id, list.items);\n\n            return result;\n        });\n    }\n\n    resolveCompletionItem(resource: URI, position: Position, completion: Completion): Promise<Completion> {\n\n        if (typeof this.delegate.resolveCompletionItem !== 'function') {\n            return Promise.resolve(completion);\n        }\n\n        const { parentId, id } = (<CompletionDto>completion);\n        const item = this.cache.has(parentId) && this.cache.get(parentId)![id];\n        if (!item) {\n            return Promise.resolve(completion);\n        }\n\n        return Promise.resolve(this.delegate.resolveCompletionItem(item, undefined)).then(resolvedItem => {\n\n            if (!resolvedItem) {\n                return completion;\n            }\n\n            const doc = this.documents.getDocumentData(resource)!.document;\n            const pos = Converter.toPosition(position);\n            const wordRangeBeforePos = (doc.getWordRangeAtPosition(pos) as Range || new Range(pos, pos)).with({ end: pos });\n            const newCompletion = this.convertCompletionItem(resolvedItem, pos, wordRangeBeforePos, id, parentId);\n            if (newCompletion) {\n                mixin(completion, newCompletion, true);\n            }\n\n            return completion;\n        });\n    }\n\n    releaseCompletionItems(id: number) {\n        this.cache.delete(id);\n        return Promise.resolve();\n    }\n\n    private convertCompletionItem(item: theia.CompletionItem, position: theia.Position, defaultRange: theia.Range, id: number, parentId: number): CompletionDto | undefined {\n        if (typeof item.label !== 'string' || item.label.length === 0) {\n            console.warn('Invalid Completion Item -> must have at least a label');\n            return undefined;\n        }\n\n        const result: CompletionDto = {\n            id,\n            parentId,\n            label: item.label,\n            type: Converter.fromCompletionItemKind(item.kind),\n            detail: item.detail,\n            documentation: item.documentation,\n            filterText: item.filterText,\n            sortText: item.sortText,\n            preselect: item.preselect,\n            insertText: '',\n            additionalTextEdits: item.additionalTextEdits && item.additionalTextEdits.map(Converter.fromTextEdit),\n            command: undefined,   // TODO: implement this: this.commands.toInternal(item.command),\n            commitCharacters: item.commitCharacters\n        };\n\n        if (typeof item.insertText === 'string') {\n            result.insertText = item.insertText;\n            result.snippetType = 'internal';\n\n        } else if (item.insertText instanceof SnippetString) {\n            result.insertText = item.insertText.value;\n            result.snippetType = 'textmate';\n\n        } else {\n            result.insertText = item.label;\n            result.snippetType = 'internal';\n        }\n\n        let range: theia.Range;\n        if (item.range) {\n            range = item.range;\n        } else {\n            range = defaultRange;\n        }\n        result.overwriteBefore = position.character - range.start.character;\n        result.overwriteAfter = range.end.character - position.character;\n\n        if (!range.isSingleLine || range.start.line !== position.line) {\n            console.warn('Invalid Completion Item -> must be single line and on the same line');\n            return undefined;\n        }\n\n        return result;\n    }\n\n    static hasResolveSupport(provider: theia.CompletionItemProvider): boolean {\n        return typeof provider.resolveCompletionItem === 'function';\n    }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar events_1 = require(\"./events\");\r\nvar Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nvar shortcutEvent = Object.freeze(function (callback, context) {\r\n    var handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose: function () { clearTimeout(handle); } };\r\n});\r\nvar MutableToken = /** @class */ (function () {\r\n    function MutableToken() {\r\n        this._isCancelled = false;\r\n    }\r\n    MutableToken.prototype.cancel = function () {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(MutableToken.prototype, \"isCancellationRequested\", {\r\n        get: function () {\r\n            return this._isCancelled;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MutableToken.prototype, \"onCancellationRequested\", {\r\n        get: function () {\r\n            if (this._isCancelled) {\r\n                return shortcutEvent;\r\n            }\r\n            if (!this._emitter) {\r\n                this._emitter = new events_1.Emitter();\r\n            }\r\n            return this._emitter.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return MutableToken;\r\n}());\r\nvar CancellationTokenSource = /** @class */ (function () {\r\n    function CancellationTokenSource() {\r\n    }\r\n    Object.defineProperty(CancellationTokenSource.prototype, \"token\", {\r\n        get: function () {\r\n            if (!this._token) {\r\n                // be lazy and create the token only when\r\n                // actually needed\r\n                this._token = new MutableToken();\r\n            }\r\n            return this._token;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CancellationTokenSource.prototype.cancel = function () {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    };\r\n    CancellationTokenSource.prototype.dispose = function () {\r\n        this.cancel();\r\n    };\r\n    return CancellationTokenSource;\r\n}());\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nvar LinkedMap = /** @class */ (function () {\r\n    function LinkedMap() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    LinkedMap.prototype.clear = function () {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    };\r\n    LinkedMap.prototype.isEmpty = function () {\r\n        return !this._head && !this._tail;\r\n    };\r\n    Object.defineProperty(LinkedMap.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LinkedMap.prototype.has = function (key) {\r\n        return this._map.has(key);\r\n    };\r\n    LinkedMap.prototype.get = function (key) {\r\n        var item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    };\r\n    LinkedMap.prototype.set = function (key, value, touch) {\r\n        if (touch === void 0) { touch = Touch.None; }\r\n        var item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key: key, value: value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    };\r\n    LinkedMap.prototype.delete = function (key) {\r\n        var item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    };\r\n    LinkedMap.prototype.shift = function () {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        var item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    };\r\n    LinkedMap.prototype.forEach = function (callbackfn, thisArg) {\r\n        var current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    };\r\n    LinkedMap.prototype.forEachReverse = function (callbackfn, thisArg) {\r\n        var current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    };\r\n    LinkedMap.prototype.values = function () {\r\n        var result = [];\r\n        var current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    };\r\n    LinkedMap.prototype.keys = function () {\r\n        var result = [];\r\n        var current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    };\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    LinkedMap.prototype.addItemFirst = function (item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    };\r\n    LinkedMap.prototype.addItemLast = function (item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    };\r\n    LinkedMap.prototype.removeItem = function (item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            var next = item.next;\r\n            var previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    };\r\n    LinkedMap.prototype.touch = function (item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            var next = item.next;\r\n            var previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            var next = item.next;\r\n            var previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    };\r\n    return LinkedMap;\r\n}());\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path_1 = require(\"path\");\r\nvar os_1 = require(\"os\");\r\nvar crypto_1 = require(\"crypto\");\r\nvar net_1 = require(\"net\");\r\nvar messageReader_1 = require(\"./messageReader\");\r\nvar messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    var randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return \"\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-\" + randomSuffix + \"-sock\";\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), \"vscode-\" + randomSuffix + \".sock\");\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding) {\r\n    if (encoding === void 0) { encoding = 'utf-8'; }\r\n    var connectResolve;\r\n    var connected = new Promise(function (resolve, _reject) {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        var server = net_1.createServer(function (socket) {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, function () {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: function () { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding) {\r\n    if (encoding === void 0) { encoding = 'utf-8'; }\r\n    var socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar net_1 = require(\"net\");\r\nvar messageReader_1 = require(\"./messageReader\");\r\nvar messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding) {\r\n    if (encoding === void 0) { encoding = 'utf-8'; }\r\n    var connectResolve;\r\n    var connected = new Promise(function (resolve, _reject) {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        var server = net_1.createServer(function (socket) {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', function () {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: function () { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding) {\r\n    if (encoding === void 0) { encoding = 'utf-8'; }\r\n    var socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { convertDiagnosticToMarkerData } from '../type-converters';\nimport { DiagnosticSeverity, MarkerSeverity } from '../types-impl';\nimport { MarkerData } from '../../api/model';\nimport { RPCProtocol } from '../../api/rpc-protocol';\nimport { PLUGIN_RPC_CONTEXT, LanguagesMain } from '../../api/plugin-api';\nimport URI from 'vscode-uri';\n\nexport class DiagnosticCollection implements theia.DiagnosticCollection {\n    private static DIAGNOSTICS_PRIORITY = [\n        DiagnosticSeverity.Error, DiagnosticSeverity.Warning, DiagnosticSeverity.Information, DiagnosticSeverity.Hint\n    ];\n\n    private collectionName: string;\n    private diagnosticsLimitPerResource: number;\n    private proxy: LanguagesMain;\n    private onDidChangeDiagnosticsEmitter: Emitter<theia.DiagnosticChangeEvent>;\n\n    private diagnostics: Map<string, theia.Diagnostic[]>; // uri -> diagnostics\n    private isDisposed: boolean;\n    private onDisposeCallback: (() => void) | undefined;\n\n    constructor(name: string, maxCountPerFile: number, proxy: LanguagesMain, onDidChangeDiagnosticsEmitter: Emitter<theia.DiagnosticChangeEvent>) {\n        this.collectionName = name;\n        this.diagnosticsLimitPerResource = maxCountPerFile;\n        this.proxy = proxy;\n        this.onDidChangeDiagnosticsEmitter = onDidChangeDiagnosticsEmitter;\n\n        this.diagnostics = new Map<string, theia.Diagnostic[]>();\n        this.isDisposed = false;\n        this.onDisposeCallback = undefined;\n    }\n\n    get name(): string {\n        return this.collectionName;\n    }\n\n    set(uri: theia.Uri, diagnostics: theia.Diagnostic[] | undefined): void;\n    set(entries: [theia.Uri, theia.Diagnostic[] | undefined][]): void;\n    set(arg: theia.Uri | [theia.Uri, theia.Diagnostic[] | undefined][], diagnostics?: theia.Diagnostic[] | undefined) {\n        this.ensureNotDisposed();\n\n        if (arg instanceof URI) {\n            this.setDiagnosticsForUri(arg, diagnostics);\n        } else if (!arg) {\n            this.clear();\n        } else if (arg instanceof Array) {\n            this.setDiagnostics(arg);\n        }\n    }\n\n    private setDiagnosticsForUri(uri: URI, diagnostics?: theia.Diagnostic[]): void {\n        if (!diagnostics) {\n            this.diagnostics.delete(uri.toString());\n        } else {\n            this.diagnostics.set(uri.toString(), diagnostics);\n        }\n        this.fireDiagnosticChangeEvent(uri);\n        this.sendChangesToEditor([uri]);\n    }\n\n    private setDiagnostics(entries: [URI, theia.Diagnostic[] | undefined][]): void {\n        const delta: URI[] = [];\n\n        // clear old diagnostics for given resources\n        for (const [uri] of entries) {\n            this.diagnostics.delete(uri.toString());\n        }\n\n        for (const [uri, diagnostics] of entries) {\n            const uriString = uri.toString();\n\n            if (!diagnostics) {\n                // clear existed\n                this.diagnostics.delete(uriString);\n                delta.push(uri);\n            } else {\n                // merge with existed if any\n                const existedDiagnostics = this.diagnostics.get(uriString);\n                if (existedDiagnostics) {\n                    existedDiagnostics.push(...diagnostics);\n                } else {\n                    this.diagnostics.set(uriString, diagnostics);\n                }\n            }\n\n            if (delta.indexOf(uri) === -1) {\n                delta.push(uri);\n            }\n        }\n\n        this.fireDiagnosticChangeEvent(delta);\n        this.sendChangesToEditor(delta);\n    }\n\n    delete(uri: URI): void {\n        if (this.has(uri)) {\n            this.fireDiagnosticChangeEvent(uri);\n            this.diagnostics.delete(uri.toString());\n            this.proxy.$changeDiagnostics(this.name, [[uri, []]]);\n        }\n    }\n\n    clear(): void {\n        this.ensureNotDisposed();\n        this.fireDiagnosticChangeEvent(this.getAllResourcesUris());\n        this.diagnostics.clear();\n        this.proxy.$clearDiagnostics(this.name);\n    }\n\n    // tslint:disable-next-line:no-any\n    forEach(callback: (uri: URI, diagnostics: theia.Diagnostic[], collection: theia.DiagnosticCollection) => any, thisArg?: any): void {\n        this.ensureNotDisposed();\n        this.diagnostics.forEach((diagnostics, uriString) => {\n            const uri = URI.parse(uriString);\n            callback.apply(thisArg, [uri, this.getDiagnosticsByUri(uri), this]);\n        });\n    }\n\n    get(uri: URI): theia.Diagnostic[] | undefined {\n        this.ensureNotDisposed();\n        return this.getDiagnosticsByUri(uri);\n    }\n\n    has(uri: URI): boolean {\n        this.ensureNotDisposed();\n        return (this.diagnostics.get(uri.toString()) instanceof Array);\n    }\n\n    dispose(): void {\n        if (!this.isDisposed) {\n            if (this.onDisposeCallback) {\n                this.onDisposeCallback();\n            }\n            this.clear();\n            this.isDisposed = true;\n        }\n    }\n\n    setOnDisposeCallback(onDisposeCallback: (() => void) | undefined) {\n        this.onDisposeCallback = onDisposeCallback;\n    }\n\n    private ensureNotDisposed(): void {\n        if (this.isDisposed) {\n            throw new Error('Diagnostic collection with name \"' + this.name + '\" is already disposed.');\n        }\n    }\n\n    private getAllResourcesUris(): string[] {\n        const resourcesUris: string[] = [];\n        this.diagnostics.forEach((diagnostics, uri) => resourcesUris.push(uri));\n        return resourcesUris;\n    }\n\n    private getDiagnosticsByUri(uri: URI): theia.Diagnostic[] | undefined {\n        const diagnostics = this.diagnostics.get(uri.toString());\n        return (diagnostics instanceof Array) ? <theia.Diagnostic[]>Object.freeze(diagnostics) : undefined;\n    }\n\n    private fireDiagnosticChangeEvent(arg: string | string[] | URI | URI[]): void {\n        this.onDidChangeDiagnosticsEmitter.fire({ uris: this.toUrisArray(arg) });\n    }\n\n    private toUrisArray(arg: string | string[] | URI | URI[]): URI[] {\n        if (arg instanceof Array) {\n            if (arg.length === 0) {\n                return [];\n            }\n\n            if (arg[0] instanceof URI) {\n                return arg as URI[];\n            } else {\n                const result: URI[] = [];\n                for (const uriString of arg as string[]) {\n                    result.push(URI.parse(uriString));\n                }\n                return result;\n            }\n        } else {\n            if (arg instanceof URI) {\n                return [arg];\n            } else {\n                return [URI.parse(arg)];\n            }\n        }\n    }\n\n    private sendChangesToEditor(uris: URI[]): void {\n        const markers: [URI, MarkerData[]][] = [];\n        nextUri:\n        for (const uri of uris) {\n            const uriMarkers: MarkerData[] = [];\n            const uriDiagnostics = this.diagnostics.get(uri.toString());\n            if (uriDiagnostics) {\n                if (uriDiagnostics.length > this.diagnosticsLimitPerResource) {\n                    for (const severity of DiagnosticCollection.DIAGNOSTICS_PRIORITY) {\n                        for (const diagnostic of uriDiagnostics) {\n                            if (severity === diagnostic.severity) {\n                                if (uriMarkers.push(convertDiagnosticToMarkerData(diagnostic)) + 1 === this.diagnosticsLimitPerResource) {\n                                    const lastMarker = uriMarkers[uriMarkers.length - 1];\n                                    uriMarkers.push({\n                                        severity: MarkerSeverity.Info,\n                                        message: 'Limit of diagnostics is reached. ' + (uriDiagnostics.length - this.diagnosticsLimitPerResource) + ' items are hidden',\n                                        startLineNumber: lastMarker.startLineNumber,\n                                        startColumn: lastMarker.startColumn,\n                                        endLineNumber: lastMarker.endLineNumber,\n                                        endColumn: lastMarker.endColumn\n                                    });\n                                    markers.push([uri, uriMarkers]);\n                                    continue nextUri;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    uriDiagnostics.forEach(diagnostic => uriMarkers.push(convertDiagnosticToMarkerData(diagnostic)));\n                    markers.push([uri, uriMarkers]);\n                }\n            } else {\n                markers.push([uri, []]);\n            }\n        }\n\n        this.proxy.$changeDiagnostics(this.name, markers);\n    }\n}\n\nexport class Diagnostics {\n    public static MAX_DIAGNOSTICS_PER_FILE = 1000;\n    private static GENERATED_DIAGNOSTIC_COLLECTION_NAME_PREFIX = '_generated_diagnostic_collection_name_#';\n\n    private proxy: LanguagesMain;\n    private diagnosticCollections: Map<string, DiagnosticCollection>; // id -> diagnostic colection\n    private nextId: number;\n\n    private diagnosticsChangedEmitter = new Emitter<theia.DiagnosticChangeEvent>();\n    public readonly onDidChangeDiagnostics: Event<theia.DiagnosticChangeEvent> = this.diagnosticsChangedEmitter.event;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN);\n\n        this.diagnosticCollections = new Map<string, DiagnosticCollection>();\n        this.nextId = 0;\n    }\n\n    getDiagnostics(resource: theia.Uri): theia.Diagnostic[];\n    getDiagnostics(): [theia.Uri, theia.Diagnostic[]][];\n    getDiagnostics(resource?: URI): theia.Diagnostic[] | [URI, theia.Diagnostic[]][] {\n        if (resource) {\n            return this.getAllDiagnisticsForResource(resource);\n        } else {\n            return this.getAllDiagnostics();\n        }\n    }\n\n    createDiagnosticCollection(name?: string): theia.DiagnosticCollection {\n        if (!name) {\n            do {\n                name = Diagnostics.GENERATED_DIAGNOSTIC_COLLECTION_NAME_PREFIX + this.getNextId();\n            } while (this.diagnosticCollections.has(name));\n        } else if (this.diagnosticCollections.has(name)) {\n            console.warn(`Diagnostic collection with name '${name}' already exist.`);\n        }\n\n        const diagnosticCollection = new DiagnosticCollection(name, Diagnostics.MAX_DIAGNOSTICS_PER_FILE, this.proxy, this.diagnosticsChangedEmitter);\n        diagnosticCollection.setOnDisposeCallback(() => {\n            this.diagnosticCollections.delete(name!);\n        });\n        this.diagnosticCollections.set(name, diagnosticCollection);\n        return diagnosticCollection;\n    }\n\n    private getNextId(): number {\n        return this.nextId++;\n    }\n\n    private getAllDiagnisticsForResource(uri: URI): theia.Diagnostic[] {\n        let result: theia.Diagnostic[] = [];\n        this.diagnosticCollections.forEach(diagnosticCollection => {\n            const diagnostics = diagnosticCollection.get(uri);\n            if (diagnostics) {\n                result = result.concat(...diagnostics);\n            }\n        });\n        return result;\n    }\n\n    private getAllDiagnostics(): [URI, theia.Diagnostic[]][] {\n        const result: [URI, theia.Diagnostic[]][] = [];\n        // Holds uri index in result array of tuples.\n        const urisIndexes = new Map<string, number>();\n        let nextIndex = 0;\n        this.diagnosticCollections.forEach(diagnosticsCollection =>\n            diagnosticsCollection.forEach((uri, diagnostics) => {\n                let uriIndex = urisIndexes.get(uri.toString());\n                if (uriIndex === undefined) {\n                    uriIndex = nextIndex++;\n                    urisIndexes.set(uri.toString(), uriIndex);\n                    result.push([uri, [...diagnostics]]);\n                } else {\n                    result[uriIndex][1] = result[uriIndex][1].concat(...diagnostics);\n                }\n            })\n        );\n        return result;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { SignatureHelp } from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class SignatureHelpAdapter {\n\n    constructor(\n        private readonly delegate: theia.SignatureHelpProvider,\n        private readonly documents: DocumentsExtImpl) {\n\n    }\n\n    provideSignatureHelp(resource: URI, position: Position): Promise<SignatureHelp | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There are no document for  ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.delegate.provideSignatureHelp(document, zeroBasedPosition, createToken()));\n    }\n\n}\n","\n/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport { Hover } from '../../api/model';\nimport * as Converter from '../type-converters';\nimport { Range } from '../types-impl';\nimport { Position } from '../../api/plugin-api';\nimport { createToken } from '../token-provider';\n\nexport class HoverAdapter {\n\n    constructor(\n        private readonly provider: theia.HoverProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    public provideHover(resource: URI, position: Position): Promise<Hover | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n        const pos = Converter.toPosition(position);\n\n        return Promise.resolve(this.provider.provideHover(doc, pos, createToken())).then(value => {\n            /* tslint:disable-next-line:no-any */\n            if (!value || !Array.isArray(value.contents) || (value.contents as Array<any>).length === 0) {\n                return undefined;\n            }\n            if (!value.range) {\n                value.range = doc.getWordRangeAtPosition(pos);\n            }\n            if (!value.range) {\n                value.range = new Range(pos, pos);\n            }\n\n            return Converter.fromHover(value);\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as types from '../types-impl';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { DocumentHighlight } from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class DocumentHighlightAdapter {\n\n    constructor(\n        private readonly provider: theia.DocumentHighlightProvider,\n        private readonly documents: DocumentsExtImpl) {\n    }\n\n    provideDocumentHighlights(resource: URI, position: Position): Promise<DocumentHighlight[] | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.provider.provideDocumentHighlights(document, zeroBasedPosition, createToken())).then(documentHighlights => {\n            if (!documentHighlights) {\n                return undefined;\n            }\n\n            if (this.isDocumentHighlightArray(documentHighlights)) {\n                const highlights: DocumentHighlight[] = [];\n\n                for (const highlight of documentHighlights) {\n                    highlights.push(Converter.fromDocumentHighlight(highlight));\n                }\n\n                return highlights;\n            }\n        });\n    }\n\n    /* tslint:disable-next-line:no-any */\n    private isDocumentHighlightArray(array: any): array is types.DocumentHighlight[] {\n        return Array.isArray(array) && array.length > 0 && array[0] instanceof types.DocumentHighlight;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport URI from 'vscode-uri/lib/umd';\nimport { FormattingOptions, SingleEditOperation } from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class DocumentFormattingAdapter {\n\n    constructor(\n        private readonly provider: theia.DocumentFormattingEditProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideDocumentFormattingEdits(resource: URI, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        // tslint:disable-next-line:no-any\n        return Promise.resolve(this.provider.provideDocumentFormattingEdits(doc, <any>options, createToken())).then(value => {\n            if (Array.isArray(value)) {\n                return value.map(Converter.fromTextEdit);\n            }\n            return undefined;\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport URI from 'vscode-uri/lib/umd';\nimport { FormattingOptions, SingleEditOperation, Range } from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class RangeFormattingAdapter {\n\n    constructor(\n        private readonly provider: theia.DocumentRangeFormattingEditProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideDocumentRangeFormattingEdits(resource: URI, range: Range, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n        const ran = Converter.toRange(range);\n\n        // tslint:disable-next-line:no-any\n        return Promise.resolve(this.provider.provideDocumentRangeFormattingEdits(doc, ran, <any>options, createToken())).then(value => {\n            if (Array.isArray(value)) {\n                return value.map(Converter.fromTextEdit);\n            }\n            return undefined;\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport URI from 'vscode-uri/lib/umd';\nimport { FormattingOptions, SingleEditOperation } from '../../api/model';\nimport { Position } from '../../api/plugin-api';\nimport { createToken } from '../token-provider';\n\nexport class OnTypeFormattingAdapter {\n\n    constructor(\n        private readonly provider: theia.OnTypeFormattingEditProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideOnTypeFormattingEdits(resource: URI, position: Position, ch: string, options: FormattingOptions): Promise<SingleEditOperation[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n        const pos = Converter.toPosition(position);\n\n        // tslint:disable-next-line:no-any\n        return Promise.resolve(this.provider.provideOnTypeFormattingEdits(doc, pos, ch, <any>options, createToken())).then(value => {\n            if (Array.isArray(value)) {\n                return value.map(Converter.fromTextEdit);\n            }\n            return undefined;\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as types from '../types-impl';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { Definition, DefinitionLink, Location } from '../../api/model';\nimport { createToken } from '../token-provider';\nimport { isDefinitionLinkArray, isLocationArray} from './util';\n\nexport class DefinitionAdapter {\n\n    constructor(\n        private readonly delegate: theia.DefinitionProvider,\n        private readonly documents: DocumentsExtImpl) {\n\n    }\n\n    provideDefinition(resource: URI, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.delegate.provideDefinition(document, zeroBasedPosition, createToken())).then(definition => {\n            if (!definition) {\n                return undefined;\n            }\n\n            if (definition instanceof types.Location) {\n                return Converter.fromLocation(definition);\n            }\n\n            if (isLocationArray(definition)) {\n                const locations: Location[] = [];\n\n                for (const location of definition) {\n                    locations.push(Converter.fromLocation(location));\n                }\n\n                return locations;\n            }\n\n            if (isDefinitionLinkArray(definition)) {\n                const definitionLinks: DefinitionLink[] = [];\n\n                for (const definitionLink of definition) {\n                    definitionLinks.push(Converter.fromDefinitionLink(definitionLink));\n                }\n\n                return definitionLinks;\n            }\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as types from '../types-impl';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { Definition, DefinitionLink, Location } from '../../api/model';\nimport { createToken } from '../token-provider';\nimport { isDefinitionLinkArray, isLocationArray} from './util';\n\nexport class ImplementationAdapter {\n\n    constructor(\n        private readonly provider: theia.ImplementationProvider,\n        private readonly documents: DocumentsExtImpl) {\n    }\n\n    provideImplementation(resource: URI, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.provider.provideImplementation(document, zeroBasedPosition, createToken())).then(definition => {\n            if (!definition) {\n                return undefined;\n            }\n\n            if (definition instanceof types.Location) {\n                return Converter.fromLocation(definition);\n            }\n\n            if (isLocationArray(definition)) {\n                const locations: Location[] = [];\n\n                for (const location of definition) {\n                    locations.push(Converter.fromLocation(location));\n                }\n\n                return locations;\n            }\n\n            if (isDefinitionLinkArray(definition)) {\n                const definitionLinks: DefinitionLink[] = [];\n\n                for (const definitionLink of definition) {\n                    definitionLinks.push(Converter.fromDefinitionLink(definitionLink));\n                }\n\n                return definitionLinks;\n            }\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as types from '../types-impl';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { Definition, DefinitionLink, Location } from '../../api/model';\nimport { createToken } from '../token-provider';\nimport { isDefinitionLinkArray, isLocationArray} from './util';\n\nexport class TypeDefinitionAdapter {\n\n    constructor(\n        private readonly provider: theia.TypeDefinitionProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideTypeDefinition(resource: URI, position: Position): Promise<Definition | DefinitionLink[] | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.provider.provideTypeDefinition(document, zeroBasedPosition, createToken())).then(definition => {\n            if (!definition) {\n                return undefined;\n            }\n\n            if (definition instanceof types.Location) {\n                return Converter.fromLocation(definition);\n            }\n\n            if (isLocationArray(definition)) {\n                const locations: Location[] = [];\n\n                for (const location of definition) {\n                    locations.push(Converter.fromLocation(location));\n                }\n\n                return locations;\n            }\n\n            if (isDefinitionLinkArray(definition)) {\n                const definitionLinks: DefinitionLink[] = [];\n\n                for (const definitionLink of definition) {\n                    definitionLinks.push(Converter.fromDefinitionLink(definitionLink));\n                }\n\n                return definitionLinks;\n            }\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport URI from 'vscode-uri/lib/umd';\nimport { Selection } from '../../api/plugin-api';\nimport { Range } from '../../api/model';\nimport * as Converter from '../type-converters';\nimport { createToken } from '../token-provider';\nimport { DocumentsExtImpl } from '../documents';\nimport { Diagnostics } from './diagnostics';\nimport { CodeActionKind } from '../types-impl';\n\nexport class CodeActionAdapter {\n\n    constructor(\n        private readonly provider: theia.CodeActionProvider,\n        private readonly document: DocumentsExtImpl,\n        private readonly diagnostics: Diagnostics,\n        private readonly pluginId: string\n    ) { }\n\n    provideCodeAction(resource: URI, rangeOrSelection: Range | Selection, context: monaco.languages.CodeActionContext): Promise<monaco.languages.CodeAction[]> {\n        const document = this.document.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n        const ran = CodeActionAdapter._isSelection(rangeOrSelection)\n            ? <theia.Selection>Converter.toSelection(rangeOrSelection)\n            : <theia.Range>Converter.toRange(rangeOrSelection);\n        const allDiagnostics: theia.Diagnostic[] = [];\n\n        for (const diagnostic of this.diagnostics.getDiagnostics(resource)) {\n            if (ran.intersection(diagnostic.range)) {\n                allDiagnostics.push(diagnostic);\n            }\n        }\n\n        const codeActionContext: theia.CodeActionContext = {\n            diagnostics: allDiagnostics,\n            only: context.only ? new CodeActionKind(context.only) : undefined\n        };\n\n        return Promise.resolve(this.provider.provideCodeActions(doc, ran, codeActionContext, createToken())).then(commandsOrActions => {\n            if (!Array.isArray(commandsOrActions) || commandsOrActions.length === 0) {\n                return undefined!;\n            }\n            const result: monaco.languages.CodeAction[] = [];\n            for (const candidate of commandsOrActions) {\n                if (!candidate) {\n                    continue;\n                }\n                if (CodeActionAdapter._isCommand(candidate)) {\n                    result.push({\n                        title: candidate.label || '',\n                        command: Converter.toInternalCommand(candidate)\n                    });\n                } else {\n                    if (codeActionContext.only) {\n                        if (!candidate.kind) {\n                            /* tslint:disable-next-line:max-line-length */\n                            console.warn(`${this.pluginId} - Code actions of kind '${codeActionContext.only.value}' requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`);\n                        } else if (!codeActionContext.only.contains(candidate.kind)) {\n                            /* tslint:disable-next-line:max-line-length */\n                            console.warn(`${this.pluginId} - Code actions of kind '${codeActionContext.only.value}' requested but returned code action is of kind '${candidate.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code action.`);\n                        }\n                    }\n\n                    result.push({\n                        title: candidate.title,\n                        command: candidate.command && Converter.toInternalCommand(candidate.command),\n                        diagnostics: candidate.diagnostics && candidate.diagnostics.map(Converter.convertDiagnosticToMarkerData) as monaco.editor.IMarker[],\n                        edit: candidate.edit && Converter.fromWorkspaceEdit(candidate.edit) as monaco.languages.WorkspaceEdit,\n                        kind: candidate.kind && candidate.kind.value\n                    });\n                }\n            }\n\n            return result;\n        });\n\n    }\n\n    // tslint:disable-next-line:no-any\n    private static _isCommand(smth: any): smth is theia.Command {\n        return typeof (<theia.Command>smth).id === 'string';\n    }\n\n    // tslint:disable-next-line:no-any\n    private static _isSelection(obj: any): obj is Selection {\n        return (\n            obj\n            && (typeof obj.selectionStartLineNumber === 'number')\n            && (typeof obj.selectionStartColumn === 'number')\n            && (typeof obj.positionLineNumber === 'number')\n            && (typeof obj.positionColumn === 'number')\n        );\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport { DocumentLink } from '../../api/model';\nimport * as Converter from '../type-converters';\nimport { ObjectIdentifier } from '../../common/object-identifier';\nimport { createToken } from '../token-provider';\n\nexport class LinkProviderAdapter {\n    private cacheId = 0;\n    private cache = new Map<number, theia.DocumentLink>();\n\n    constructor(\n        private readonly provider: theia.DocumentLinkProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideLinks(resource: URI): Promise<DocumentLink[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        return Promise.resolve(this.provider.provideDocumentLinks(doc, createToken())).then(links => {\n            if (!Array.isArray(links)) {\n                return undefined;\n            }\n            const result: DocumentLink[] = [];\n            for (const link of links) {\n                const data = Converter.fromDocumentLink(link);\n                const id = this.cacheId++;\n                ObjectIdentifier.mixin(data, id);\n                this.cache.set(id, link);\n                result.push(data);\n            }\n            return result;\n        });\n    }\n\n    resolveLink(link: DocumentLink): Promise<DocumentLink | undefined> {\n        if (typeof this.provider.resolveDocumentLink !== 'function') {\n            return Promise.resolve(undefined);\n        }\n        const id = ObjectIdentifier.of(link);\n        const item = this.cache.get(id);\n        if (!item) {\n            return Promise.resolve(undefined);\n        }\n        return Promise.resolve(this.provider.resolveDocumentLink(item, undefined)).then(value => {\n            if (value) {\n                return Converter.fromDocumentLink(value);\n            }\n            return undefined;\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport { CodeLensSymbol } from '../../api/model';\nimport * as Converter from '../type-converters';\nimport { ObjectIdentifier } from '../../common/object-identifier';\nimport { createToken } from '../token-provider';\nimport { CommandsConverter } from '../command-registry';\n\n/** Adapts the calls from main to extension thread for providing/resolving the code lenses. */\nexport class CodeLensAdapter {\n\n    private static readonly BAD_CMD: theia.Command = { id: 'missing', label: '<<MISSING COMMAND>>' };\n\n    private cacheId = 0;\n    private cache = new Map<number, theia.CodeLens>();\n\n    constructor(\n        private readonly provider: theia.CodeLensProvider,\n        private readonly documents: DocumentsExtImpl,\n        private readonly commands: CommandsConverter\n    ) { }\n\n    provideCodeLenses(resource: URI): Promise<CodeLensSymbol[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        return Promise.resolve(this.provider.provideCodeLenses(doc, createToken())).then(lenses => {\n            if (Array.isArray(lenses)) {\n                return lenses.map(lens => {\n                    const id = this.cacheId++;\n                    const lensSymbol = ObjectIdentifier.mixin({\n                        range: Converter.fromRange(lens.range)!,\n                        command: this.commands.toInternal(lens.command)\n                    }, id);\n                    this.cache.set(id, lens);\n                    return lensSymbol;\n                });\n            }\n            return undefined;\n        });\n    }\n\n    resolveCodeLens(resource: URI, symbol: CodeLensSymbol): Promise<CodeLensSymbol | undefined> {\n        const lens = this.cache.get(ObjectIdentifier.of(symbol));\n        if (!lens) {\n            return Promise.resolve(undefined);\n        }\n\n        let resolve: Promise<theia.CodeLens | undefined>;\n        if (typeof this.provider.resolveCodeLens !== 'function' || lens.isResolved) {\n            resolve = Promise.resolve(lens);\n        } else {\n            resolve = Promise.resolve(this.provider.resolveCodeLens(lens, createToken()));\n        }\n\n        return resolve.then(newLens => {\n            newLens = newLens || lens;\n            symbol.command = this.commands.toInternal(newLens.command || CodeLensAdapter.BAD_CMD);\n            return symbol;\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport * as Converter from '../type-converters';\nimport { createToken } from '../token-provider';\nimport { DocumentSymbol, Range } from '../../api/model';\nimport * as types from '../types-impl';\n\n/** Adapts the calls from main to extension thread for providing the document symbols. */\nexport class OutlineAdapter {\n\n    constructor(\n        private readonly documents: DocumentsExtImpl,\n        private readonly provider: theia.DocumentSymbolProvider\n    ) { }\n\n    provideDocumentSymbols(resource: URI): Promise<DocumentSymbol[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        return Promise.resolve(this.provider.provideDocumentSymbols(doc, createToken())).then(value => {\n            if (!value || value.length === 0) {\n                return undefined;\n            }\n            if (value[0] instanceof types.DocumentSymbol) {\n                return (<types.DocumentSymbol[]>value).map(Converter.fromDocumentSymbol);\n            } else {\n                return OutlineAdapter.asDocumentSymbolTree(resource, <types.SymbolInformation[]>value);\n            }\n        });\n    }\n\n    private static asDocumentSymbolTree(resource: URI, info: types.SymbolInformation[]): DocumentSymbol[] {\n        // first sort by start (and end) and then loop over all elements\n        // and build a tree based on containment.\n        info = info.slice(0).sort((a, b) => {\n            let r = a.location.range.start.compareTo(b.location.range.start);\n            if (r === 0) {\n                r = b.location.range.end.compareTo(a.location.range.end);\n            }\n            return r;\n        });\n        const res: DocumentSymbol[] = [];\n        const parentStack: DocumentSymbol[] = [];\n        for (let i = 0; i < info.length; i++) {\n            const element = <DocumentSymbol>{\n                name: info[i].name,\n                detail: '',\n                kind: Converter.SymbolKind.fromSymbolKind(info[i].kind),\n                containerName: info[i].containerName,\n                range: Converter.fromRange(info[i].location.range),\n                selectionRange: Converter.fromRange(info[i].location.range),\n                children: []\n            };\n\n            while (true) {\n                if (parentStack.length === 0) {\n                    parentStack.push(element);\n                    res.push(element);\n                    break;\n                }\n                const parent = parentStack[parentStack.length - 1];\n                if (OutlineAdapter.containsRange(parent.range, element.range) && !OutlineAdapter.equalsRange(parent.range, element.range)) {\n                    parent.children!.push(element);\n                    parentStack.push(element);\n                    break;\n                }\n                parentStack.pop();\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Test if `otherRange` is in `range`. If the ranges are equal, will return true.\n     */\n    private static containsRange(range: Range, otherRange: Range): boolean {\n        if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {\n            return false;\n        }\n        if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn < range.startColumn) {\n            return false;\n        }\n        if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn > range.endColumn) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Test if range `a` equals `b`.\n     */\n    private static equalsRange(a: Range, b: Range): boolean {\n        return (\n            !!a &&\n            !!b &&\n            a.startLineNumber === b.startLineNumber &&\n            a.startColumn === b.startColumn &&\n            a.endLineNumber === b.endLineNumber &&\n            a.endColumn === b.endColumn\n        );\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri/lib/umd';\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '../documents';\nimport { ReferenceContext, Location } from '../../api/model';\nimport * as Converter from '../type-converters';\nimport { Position } from '../../api/plugin-api';\nimport { createToken } from '../token-provider';\nimport { isLocationArray } from './util';\n\nexport class ReferenceAdapter {\n\n    constructor(\n        private readonly provider: theia.ReferenceProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideReferences(resource: URI, position: Position, context: ReferenceContext): Promise<Location[] | undefined> {\n        const documentData = this.documents.getDocumentData(resource);\n        if (!documentData) {\n            return Promise.reject(new Error(`There is no document for ${resource}`));\n        }\n\n        const document = documentData.document;\n        const zeroBasedPosition = Converter.toPosition(position);\n\n        return Promise.resolve(this.provider.provideReferences(document, zeroBasedPosition, context, createToken())).then(reference => {\n            if (!reference) {\n                return undefined;\n            }\n\n            if (isLocationArray(reference)) {\n                const locations: Location[] = [];\n\n                for (const location of reference) {\n                    locations.push(Converter.fromLocation(location));\n                }\n\n                return locations;\n            }\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SymbolInformation } from 'vscode-languageserver-types';\nimport * as theia from '@theia/plugin';\nimport * as Converter from '../type-converters';\nimport { createToken } from '../token-provider';\n\nexport class WorkspaceSymbolAdapter {\n\n    constructor(\n        private readonly provider: theia.WorkspaceSymbolProvider\n    ) { }\n\n    provideWorkspaceSymbols(query: string): Promise<SymbolInformation[]> {\n        return Promise.resolve(this.provider.provideWorkspaceSymbols(query, createToken())).then(workspaceSymbols => {\n            if (!workspaceSymbols) {\n                return [];\n            }\n\n            const newSymbols: SymbolInformation[] = [];\n            for (const sym of workspaceSymbols) {\n                const convertedSymbol = Converter.fromSymbolInformation(sym);\n                if (convertedSymbol) {\n                    newSymbols.push(convertedSymbol);\n                }\n            }\n            return newSymbols;\n        });\n    }\n\n    resolveWorkspaceSymbol(symbol: SymbolInformation): Promise<SymbolInformation> {\n        if (this.provider.resolveWorkspaceSymbol && typeof this.provider.resolveWorkspaceSymbol === 'function') {\n            const theiaSymbol = Converter.toSymbolInformation(symbol);\n            if (!theiaSymbol) {\n                return Promise.resolve(symbol);\n            } else {\n                return Promise.resolve(this.provider.resolveWorkspaceSymbol(theiaSymbol, undefined)).then(workspaceSymbol => {\n                    if (!workspaceSymbol) {\n                        return symbol;\n                    }\n\n                    const converted = Converter.fromSymbolInformation(workspaceSymbol);\n                    if (converted) {\n                        return converted;\n                    }\n                    return symbol;\n                });\n            }\n        }\n        return Promise.resolve(symbol);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { DocumentsExtImpl } from '@theia/plugin-ext/src/plugin/documents';\nimport URI from 'vscode-uri/lib/umd';\nimport * as Converter from '../type-converters';\nimport * as model from '../../api/model';\nimport { createToken } from '../token-provider';\n\nexport class FoldingProviderAdapter {\n\n    constructor(\n        private readonly provider: theia.FoldingRangeProvider,\n        private readonly documents: DocumentsExtImpl\n    ) { }\n\n    provideFoldingRanges(resource: URI, context: model.FoldingContext): Promise<model.FoldingRange[] | undefined> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        return Promise.resolve(this.provider.provideFoldingRanges(doc, context, createToken())).then(ranges => {\n            if (!Array.isArray(ranges)) {\n                return undefined;\n            }\n\n            return ranges.map(Converter.fromFoldingRange);\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport URI from 'vscode-uri/lib/umd';\nimport { DocumentsExtImpl } from '@theia/plugin-ext/src/plugin/documents';\nimport { createToken } from '../token-provider';\nimport * as Converter from '../type-converters';\nimport { RawColorInfo } from '@theia/plugin-ext/src/api/plugin-api';\nimport { ColorPresentation } from '../../api/model';\n\nexport class ColorProviderAdapter {\n\n    constructor(\n        private documents: DocumentsExtImpl,\n        private provider: theia.DocumentColorProvider\n    ) { }\n\n    provideColors(resource: URI): Promise<RawColorInfo[]> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n\n        return Promise.resolve(\n            this.provider.provideDocumentColors(doc, createToken())\n        ).then(colors => {\n            if (!Array.isArray(colors)) {\n                return [];\n            }\n\n            const colorInfos: RawColorInfo[] = colors.map(colorInfo => ({\n                color: Converter.fromColor(colorInfo.color),\n                range: Converter.fromRange(colorInfo.range)!\n            }));\n\n            return colorInfos;\n        });\n    }\n\n    provideColorPresentations(resource: URI, raw: RawColorInfo): Promise<ColorPresentation[]> {\n        const document = this.documents.getDocumentData(resource);\n        if (!document) {\n            return Promise.reject(new Error(`There are no document for ${resource}`));\n        }\n\n        const doc = document.document;\n        const range = Converter.toRange(raw.range);\n        const color = Converter.toColor(raw.color);\n        return Promise.resolve(\n            this.provider.provideColorPresentations(color, { document: doc, range: range }, createToken())\n        ).then(value => {\n            if (!Array.isArray(value)) {\n                return [];\n            }\n\n            return value.map(Converter.fromColorPresentation);\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { PLUGIN_RPC_CONTEXT as Ext, OpenDialogOptionsMain, DialogsMain, SaveDialogOptionsMain } from '../api/plugin-api';\nimport { OpenDialogOptions, SaveDialogOptions } from '@theia/plugin';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport Uri from 'vscode-uri';\n\nexport class DialogsExtImpl {\n    private proxy: DialogsMain;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.DIALOGS_MAIN);\n    }\n\n    showOpenDialog(options: OpenDialogOptions): PromiseLike<Uri[] | undefined> {\n        const optionsMain = {\n            openLabel: options.openLabel,\n            defaultUri: options.defaultUri ? options.defaultUri.path : undefined,\n            canSelectFiles: options.canSelectFiles,\n            canSelectFolders: options.canSelectFolders,\n            canSelectMany: options.canSelectMany,\n            filters: options.filters\n        } as OpenDialogOptionsMain;\n\n        return new Promise((resolve, reject) => {\n            this.proxy.$showOpenDialog(optionsMain).then(result => {\n                if (result) {\n                    const uris = [];\n                    for (let i = 0; i < result.length; i++) {\n                        const uri = Uri.parse('file://' + result[i]);\n                        uris.push(uri);\n                    }\n                    resolve(uris);\n                } else {\n                    resolve(undefined);\n                }\n            }).catch(reason => {\n                reject(reason);\n            });\n        });\n    }\n\n    showSaveDialog(options: SaveDialogOptions): PromiseLike<Uri | undefined> {\n        const optionsMain = {\n            saveLabel: options.saveLabel,\n            defaultUri: options.defaultUri ? options.defaultUri.path : undefined,\n            filters: options.filters\n        } as SaveDialogOptionsMain;\n\n        return new Promise((resolve, reject) => {\n            this.proxy.$showSaveDialog(optionsMain).then(result => {\n                if (result) {\n                    resolve(Uri.parse('file://' + result));\n                } else {\n                    resolve(undefined);\n                }\n            }).catch(reason => {\n                reject(reason);\n            });\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { PLUGIN_RPC_CONTEXT, NotificationExt, NotificationMain } from '../api/plugin-api';\nimport { CancellationToken, Progress, ProgressOptions } from '@theia/plugin';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\n\nexport class NotificationExtImpl implements NotificationExt {\n    private readonly proxy: NotificationMain;\n\n    private readonly onCancelEmitter: Emitter<string> = new Emitter();\n    private readonly onCancel: Event<string> = this.onCancelEmitter.event;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.NOTIFICATION_MAIN);\n    }\n\n    async withProgress<R>(\n        options: ProgressOptions,\n        task: (progress: Progress<{ message?: string; increment?: number }>, token: CancellationToken) => PromiseLike<R>\n    ): Promise<R> {\n        const message = options.title ? options.title : '';\n        const id = await this.proxy.$startProgress(message);\n        if (id) {\n            const token = new CancellationTokenImpl(id, this.onCancel);\n            const promise = await task(new ProgressCallback(id, this.proxy), token);\n            this.proxy.$stopProgress(id);\n            token.dispose();\n            return promise;\n        } else {\n            throw new Error('Failed to create progress notification');\n        }\n    }\n\n    $onCancel(id: string): void {\n        this.onCancelEmitter.fire(id);\n    }\n}\n\nclass ProgressCallback<T> implements Progress<{ message?: string, increment?: number }> {\n\n    private readonly id: string | undefined;\n    private readonly proxy: NotificationMain;\n\n    constructor(id: string | undefined, proxy: NotificationMain) {\n        this.id = id;\n        this.proxy = proxy;\n    }\n    report(item: { message?: string, increment?: number }) {\n        if (this.id) {\n            this.proxy.$updateProgress(this.id, item);\n        }\n    }\n}\n\nclass CancellationTokenImpl implements CancellationToken, Disposable {\n\n    private readonly disposableCollection = new DisposableCollection();\n    private readonly onCancellationRequestedEmitter: Emitter<string> = new Emitter<string>();\n\n    isCancellationRequested: boolean = false;\n    readonly onCancellationRequested: Event<string> = this.onCancellationRequestedEmitter.event;\n\n    constructor(id: string, onCancel: Event<string>) {\n        this.disposableCollection.push(onCancel(cancelId => {\n            if (cancelId === id) {\n                this.onCancellationRequestedEmitter.fire(cancelId);\n                this.isCancellationRequested = true;\n                this.dispose();\n            }\n        }));\n    }\n\n    dispose(): void {\n        this.disposableCollection.dispose();\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { PLUGIN_RPC_CONTEXT, StatusBarExt, StatusBarMessageRegistryMain } from '../api/plugin-api';\nimport { CancellationToken, Progress, ProgressOptions } from '@theia/plugin';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\n\nexport class StatusBarExtImpl implements StatusBarExt {\n    private readonly proxy: StatusBarMessageRegistryMain;\n\n    private readonly onCancelEmitter: Emitter<void> = new Emitter<void>();\n    async withProgress<R>(\n        options: ProgressOptions,\n        task: (progress: Progress<{ message?: string; increment?: number }>, token: CancellationToken) => PromiseLike<R>\n    ): Promise<R> {\n        const message = options.title ? '$(refresh~spin) ' + options.title : '';\n        const token = new CancellationTokenImpl(this.onCancel);\n        const id = await this.proxy.$setMessage(message, 1, 1, undefined, undefined, undefined);\n        const promise = task(new ProgressCallback(id, message, this.proxy), token);\n        await promise;\n        this.proxy.$dispose(id);\n        token.dispose();\n        return promise;\n    }\n\n    private readonly onCancel: Event<void> = this.onCancelEmitter.event;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_MAIN);\n    }\n}\n\nclass ProgressCallback<T> implements Progress<{ message?: string, increment?: number }> {\n\n    private readonly id: string;\n    private readonly message: string;\n    private readonly proxy: StatusBarMessageRegistryMain;\n\n    constructor(id: string, message: string, proxy: StatusBarMessageRegistryMain) {\n        this.id = id;\n        this.message = message;\n        this.proxy = proxy;\n    }\n    report(item: { message?: string, increment?: number }) {\n        this.proxy.$update(this.id, this.message + (item.message ? ': ' + ' ' + item.message : ''));\n    }\n}\n\nclass CancellationTokenImpl implements CancellationToken, Disposable {\n\n    private readonly disposableCollection = new DisposableCollection();\n    private readonly onCancellationRequestedEmitter: Emitter<void> = new Emitter<void>();\n\n    isCancellationRequested: boolean = false;\n    readonly onCancellationRequested: Event<void> = this.onCancellationRequestedEmitter.event;\n\n    constructor(oncCancel: Event<void>) {\n        this.disposableCollection.push(oncCancel(() => {\n            this.onCancellationRequestedEmitter.fire(undefined);\n            this.isCancellationRequested = true;\n            this.dispose();\n        }));\n    }\n\n    dispose(): void {\n        this.disposableCollection.dispose();\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// tslint:disable:no-any\n\nimport { TreeDataProvider, TreeView, TreeViewExpansionEvent, TreeItem } from '@theia/plugin';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { Disposable } from '../types-impl';\nimport { PLUGIN_RPC_CONTEXT, TreeViewsExt, TreeViewsMain, TreeViewItem } from '../../api/plugin-api';\nimport { RPCProtocol } from '../../api/rpc-protocol';\nimport { CommandRegistryImpl } from '../command-registry';\n\nexport class TreeViewsExtImpl implements TreeViewsExt {\n\n    private proxy: TreeViewsMain;\n\n    private treeViews: Map<string, TreeViewExtImpl<any>> = new Map<string, TreeViewExtImpl<any>>();\n\n    constructor(rpc: RPCProtocol, private commandRegistry: CommandRegistryImpl) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.TREE_VIEWS_MAIN);\n    }\n\n    registerTreeDataProvider<T>(treeViewId: string, treeDataProvider: TreeDataProvider<T>): Disposable {\n        const treeView = this.createTreeView(treeViewId, { treeDataProvider });\n\n        return Disposable.create(() => {\n            this.treeViews.delete(treeViewId);\n            treeView.dispose();\n        });\n    }\n\n    createTreeView<T>(treeViewId: string, options: { treeDataProvider: TreeDataProvider<T> }): TreeView<T> {\n        if (!options || !options.treeDataProvider) {\n            throw new Error('Options with treeDataProvider is mandatory');\n        }\n\n        const treeView = new TreeViewExtImpl(treeViewId, options.treeDataProvider, this.proxy, this.commandRegistry);\n        this.treeViews.set(treeViewId, treeView);\n\n        return {\n            get onDidExpandElement() {\n                return treeView.onDidExpandElement;\n            },\n\n            get onDidCollapseElement() {\n                return treeView.onDidCollapseElement;\n            },\n\n            get selection() {\n                return treeView.selectedElements;\n            },\n\n            reveal: (element: T, selectionOptions: { select?: boolean }): Thenable<void> =>\n                treeView.reveal(element, selectionOptions),\n\n            dispose: () => {\n                this.treeViews.delete(treeViewId);\n                treeView.dispose();\n            }\n        };\n    }\n\n    async $getChildren(treeViewId: string, treeItemId: string): Promise<TreeViewItem[] | undefined> {\n        const treeView = this.treeViews.get(treeViewId);\n        if (!treeView) {\n            throw new Error('No tree view with id' + treeViewId);\n        }\n\n        return treeView.getChildren(treeItemId);\n    }\n\n    async $setExpanded(treeViewId: string, treeItemId: string, expanded: boolean): Promise<any> {\n        const treeView = this.treeViews.get(treeViewId);\n        if (!treeView) {\n            throw new Error('No tree view with id' + treeViewId);\n        }\n\n        if (expanded) {\n            return treeView.onExpanded(treeItemId);\n        } else {\n            return treeView.onCollapsed(treeItemId);\n        }\n    }\n\n    async $setSelection(treeViewId: string, treeItemId: string): Promise<any> {\n        const treeView = this.treeViews.get(treeViewId);\n        if (!treeView) {\n            throw new Error('No tree view with id' + treeViewId);\n        }\n\n        treeView.onSelectionChanged(treeItemId);\n    }\n\n}\n\nclass TreeViewExtImpl<T> extends Disposable {\n\n    private onDidExpandElementEmmiter: Emitter<TreeViewExpansionEvent<T>> = new Emitter<TreeViewExpansionEvent<T>>();\n    public readonly onDidExpandElement = this.onDidExpandElementEmmiter.event;\n\n    private onDidCollapseElementEmmiter: Emitter<TreeViewExpansionEvent<T>> = new Emitter<TreeViewExpansionEvent<T>>();\n    public readonly onDidCollapseElement = this.onDidCollapseElementEmmiter.event;\n\n    private selection: T[] = [];\n    get selectedElements(): T[] { return this.selection; }\n\n    private cache: Map<string, T> = new Map<string, T>();\n\n    private idCounter: number = 0;\n\n    constructor(\n        private treeViewId: string,\n        private treeDataProvider: TreeDataProvider<T>,\n        private proxy: TreeViewsMain,\n        private commandRegistry: CommandRegistryImpl) {\n\n        super(() => {\n            this.dispose();\n        });\n\n        proxy.$registerTreeDataProvider(treeViewId);\n\n        if (treeDataProvider.onDidChangeTreeData) {\n            treeDataProvider.onDidChangeTreeData((e: T) => {\n                proxy.$refresh(treeViewId);\n            });\n        }\n    }\n\n    dispose() {\n    }\n\n    async reveal(element: T, selectionOptions?: { select?: boolean }): Promise<void> {\n        // find element id in a cache\n        let elementId;\n        this.cache.forEach((el, id) => {\n            if (Object.is(el, element)) {\n                elementId = id;\n            }\n        });\n\n        if (elementId) {\n            return this.proxy.$reveal(this.treeViewId, elementId);\n        }\n    }\n\n    /** Note, the generated ID must include the item's `contextValue`. */\n    generateId(item: TreeItem): string {\n        return `item-${this.idCounter++}/${item.contextValue || ''}`;\n    }\n\n    async getChildren(treeItemId: string): Promise<TreeViewItem[] | undefined> {\n        // get element from a cache\n        const cachedElement: T | undefined = this.cache.get(treeItemId);\n\n        // ask data provider for children for cached element\n        const result = await this.treeDataProvider.getChildren(cachedElement);\n\n        if (result) {\n            const treeItems: TreeViewItem[] = [];\n            const promises = result.map(async value => {\n\n                // Ask data provider for a tree item for the value\n                // Data provider must return theia.TreeItem\n                const treeItem = await this.treeDataProvider.getTreeItem(value);\n\n                // Generate the ID\n                // ID is used for caching the element\n                const id = this.generateId(treeItem);\n\n                // Add element to the cache\n                this.cache.set(id, value);\n\n                // Convert theia.TreeItem to the TreeViewItem\n\n                // Take a label\n                let label = treeItem.label;\n\n                // Use resource URI if label is not set\n                if (!label && treeItem.resourceUri) {\n                    label = treeItem.resourceUri.path.toString();\n                    label = decodeURIComponent(label);\n                    if (label.indexOf('/') >= 0) {\n                        label = label.substring(label.lastIndexOf('/') + 1);\n                    }\n                }\n\n                // Use item ID if item label is still not set\n                if (!label) {\n                    label = id;\n                }\n\n                // Take the icon\n                // currently only icons from font-awesome are supported\n                let icon = undefined;\n                if (typeof treeItem.iconPath === 'string') {\n                    icon = treeItem.iconPath;\n                }\n\n                const treeViewItem = {\n                    id,\n                    label: label,\n                    icon,\n                    tooltip: treeItem.tooltip,\n                    collapsibleState: treeItem.collapsibleState\n                } as TreeViewItem;\n\n                treeItems.push(treeViewItem);\n            });\n\n            await Promise.all(promises);\n            return treeItems;\n        } else {\n            return undefined;\n        }\n    }\n\n    async onExpanded(treeItemId: string): Promise<any> {\n        // get element from a cache\n        const cachedElement: T | undefined = this.cache.get(treeItemId);\n\n        // fire an event\n        if (cachedElement) {\n            this.onDidExpandElementEmmiter.fire({\n                element: cachedElement\n            });\n        }\n    }\n\n    async onCollapsed(treeItemId: string): Promise<any> {\n        // get element from a cache\n        const cachedElement: T | undefined = this.cache.get(treeItemId);\n\n        // fire an event\n        if (cachedElement) {\n            this.onDidCollapseElementEmmiter.fire({\n                element: cachedElement\n            });\n        }\n    }\n\n    async onSelectionChanged(treeItemId: string): Promise<any> {\n        // get element from a cache\n        const cachedElement: T | undefined = this.cache.get(treeItemId);\n\n        if (cachedElement) {\n            this.selection = [cachedElement];\n\n            // Ask data provider for a tree item for the value\n            const treeItem = await this.treeDataProvider.getTreeItem(cachedElement);\n\n            if (treeItem.command) {\n                this.commandRegistry.executeCommand(treeItem.command.id, treeItem.command.arguments ?\n                    treeItem.command.arguments : []);\n            }\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    PLUGIN_RPC_CONTEXT,\n    LanguagesContributionExt,\n    LanguagesContributionMain\n} from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { ConnectionExtImpl } from './connection-ext';\nimport { ChildProcess, spawn, SpawnOptions } from 'child_process';\nimport { StreamMessageReader, StreamMessageWriter, Message } from 'vscode-jsonrpc';\nimport { Connection } from '../common/connection';\nimport { Disposable } from './types-impl';\nimport { InitializeRequest, InitializeParams } from 'vscode-languageserver-protocol';\nimport { isRequestMessage } from 'vscode-ws-jsonrpc';\n\n/**\n * Implementation of languages contribution system of the plugin API.\n * It allows to register new language contribution in main side and to start language server.\n */\nexport class LanguagesContributionExtImpl implements LanguagesContributionExt {\n    private proxy: LanguagesContributionMain;\n    private serverConnections = new Map<string, Connection>();\n\n    constructor(rpc: RPCProtocol,\n        protected readonly connectionExt: ConnectionExtImpl) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.LANGUAGES_CONTRIBUTION_MAIN);\n    }\n\n    /**\n     * Says main side to register new language server.\n     *\n     * @param languageServerInfo information about new language server contribution\n     */\n    registerLanguageServerProvider(languageServerInfo: theia.LanguageServerInfo): Disposable {\n        this.proxy.$registerLanguageServerProvider(languageServerInfo);\n        return Disposable.create(() => {\n            this.stop(languageServerInfo.id);\n        });\n    }\n\n    /**\n     * Stops the language server.\n     *\n     * @param id language server's id\n     */\n    stop(id: string): void {\n        const connection = this.serverConnections.get(id);\n        if (!connection) {\n            return;\n        }\n        connection.dispose();\n        this.serverConnections.delete(id);\n\n        this.proxy.$stop(id);\n    }\n\n    /**\n     * Starts language server.\n     *\n     * @param languageContribution is information about language server contribution\n     */\n    async $start(languageServerInfo: theia.LanguageServerInfo): Promise<void> {\n        const clientConnection = await this.connectionExt.ensureConnection(languageServerInfo.id);\n\n        if (!languageServerInfo.command) {\n            throw new Error('The command to start language server has to be set');\n        }\n\n        const childProcess = this.spawnProcess(languageServerInfo.command, languageServerInfo.args);\n        const serverConnection = createConnection(childProcess);\n\n        this.serverConnections.set(languageServerInfo.id, serverConnection);\n\n        clientConnection.forward(serverConnection, this.map.bind(this));\n        serverConnection.forward(clientConnection, this.map.bind(this));\n    }\n\n    private spawnProcess(command: string, args: string[], options?: SpawnOptions): ChildProcess {\n        return spawn(command,\n            args,\n            options);\n    }\n\n    private map(message: Message): Message {\n        if (isRequestMessage(message)) {\n            if (message.method === InitializeRequest.type.method) {\n                const initializeParams = message.params as InitializeParams;\n                initializeParams.processId = process.pid;\n            }\n        }\n        return message;\n    }\n}\n\nexport function createConnection(childProcess: ChildProcess): Connection {\n    const reader = new StreamMessageReader(childProcess.stdout);\n    const writer = new StreamMessageWriter(childProcess.stdin);\n    return {\n        reader, writer,\n        forward(to: Connection, map: (message: Message) => Message = message => message): void {\n            reader.listen(input => {\n                const output = map(input);\n                to.writer.write(output);\n            });\n        },\n        dispose: () => {\n            childProcess.kill();\n            reader.dispose();\n            writer.dispose();\n        }\n    };\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        this.cancel();\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guaruntee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new vscode_jsonrpc_1.RequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new vscode_jsonrpc_1.NotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new vscode_jsonrpc_1.RequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new vscode_jsonrpc_1.NotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n//---- Configuration notification ----\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new vscode_jsonrpc_1.RequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new vscode_jsonrpc_1.NotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didOpen');\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didChange');\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didClose');\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didSave');\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/willSave');\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/willSaveWaitUntil');\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n//---- File eventing ----\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n//---- Diagnostic notification ----\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/completion');\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.type = new vscode_jsonrpc_1.RequestType('completionItem/resolve');\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n//---- Hover Support -------------------------------\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/hover');\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/signatureHelp');\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n//---- Goto Definition -------------------------------------\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/definition');\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/references');\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n//---- Document Highlight ----------------------------------\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentHighlight');\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n//---- Document Symbol Provider ---------------------------\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentSymbol');\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n//---- Workspace Symbol Provider ---------------------------\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.type = new vscode_jsonrpc_1.RequestType('workspace/symbol');\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeAction');\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeLens');\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new vscode_jsonrpc_1.RequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/formatting');\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rangeFormatting');\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/onTypeFormatting');\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rename');\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/prepareRename');\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentLink');\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new vscode_jsonrpc_1.RequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new vscode_jsonrpc_1.RequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new vscode_jsonrpc_1.RequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/implementation');\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/typeDefinition');\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new vscode_jsonrpc_1.RequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new vscode_jsonrpc_1.RequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentColor');\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/foldingRange');\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/declaration');\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nexport * from 'vscode-jsonrpc';\nexport * from 'vscode-jsonrpc/lib/messages';\nexport * from './disposable';\nexport * from './socket';\nexport * from './logger';\nexport * from './connection';","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { Disposable } from 'vscode-jsonrpc/lib/events';\n\nexport {\n    Disposable\n}\n\nexport class DisposableCollection implements Disposable {\n    protected readonly disposables: Disposable[] = [];\n\n    dispose(): void {\n        while (this.disposables.length !== 0) {\n            this.disposables.pop()!.dispose();\n        }\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        return {\n            dispose(): void {\n                const index = disposables.indexOf(disposable);\n                if (index !== -1) {\n                    disposables.splice(index, 1);\n                }\n            }\n        }\n    }\n\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { MessageConnection, createMessageConnection, Logger } from \"vscode-jsonrpc\";\nimport { IWebSocket } from \"./socket\";\nimport { WebSocketMessageReader } from \"./reader\";\nimport { WebSocketMessageWriter } from \"./writer\";\n\nexport function createWebSocketConnection(socket: IWebSocket, logger: Logger): MessageConnection {\n    const messageReader = new WebSocketMessageReader(socket);\n    const messageWriter = new WebSocketMessageWriter(socket);\n    const connection = createMessageConnection(messageReader, messageWriter, logger);\n    connection.onClose(() => connection.dispose());\n    return connection;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { MessageConnection, Logger } from 'vscode-jsonrpc';\nimport { createWebSocketConnection, IWebSocket } from './socket';\nimport { ConsoleLogger } from './logger';\n\nexport function listen(options: {\n    webSocket: WebSocket;\n    logger?: Logger;\n    onConnection: (connection: MessageConnection) => void;\n}) {\n    const { webSocket, onConnection } = options;\n    const logger = options.logger || new ConsoleLogger();\n    webSocket.onopen = () => {\n        const socket = toSocket(webSocket);\n        const connection = createWebSocketConnection(socket, logger);\n        onConnection(connection);\n    };\n}\n\nexport function toSocket(webSocket: WebSocket): IWebSocket {\n    return {\n        send: content => webSocket.send(content),\n        onMessage: cb => webSocket.onmessage = event => cb(event.data),\n        onError: cb => webSocket.onerror = event => {\n            if ('message' in event) {\n                cb((event as any).message)\n            }\n        },\n        onClose: cb => webSocket.onclose = event => cb(event.code, event.reason),\n        dispose: () => webSocket.close()\n    }\n}","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ConnectionExt, PLUGIN_RPC_CONTEXT, ConnectionMain } from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { PluginConnection } from '../common/connection';\nimport { PluginMessageReader } from '../common/plugin-message-reader';\nimport { PluginMessageWriter } from '../common/plugin-message-writer';\n\n/**\n * Implementation of connection system of the plugin API.\n * It allows to communicate with main side to send and read messages.\n */\nexport class ConnectionExtImpl implements ConnectionExt {\n    private proxy: ConnectionMain;\n    private connections = new Map<string, PluginConnection>();\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.CONNECTION_MAIN);\n    }\n\n    /**\n     * Gets the connection between plugin by id and sends string message to it.\n     *\n     * @param id connection's id\n     * @param message incoming message\n     */\n    async $sendMessage(id: string, message: string): Promise<void> {\n        if (this.connections.has(id)) {\n            this.connections.get(id)!.reader.readMessage(message);\n        } else {\n            console.warn('It is not possible to read message. Connection missed.');\n        }\n    }\n\n    /**\n     * Instantiates a new connection by the given id.\n     * @param id the connection id\n     */\n    async $createConnection(id: string): Promise<void> {\n        await this.doEnsureConnection(id);\n    }\n\n    /**\n     * Deletes a connection.\n     * @param id the connection id\n     */\n    async $deleteConnection(id: string): Promise<void> {\n        this.connections.delete(id);\n    }\n\n    /**\n     * Returns existed connection or creates a new one.\n     * @param id the connection id\n     */\n    async ensureConnection(id: string): Promise<PluginConnection> {\n        const connection = await this.doEnsureConnection(id);\n        this.proxy.$createConnection(id);\n        return connection;\n    }\n\n    /**\n     * Returns existed connection or creates a new one.\n     * @param id the connection id\n     */\n    async doEnsureConnection(id: string): Promise<PluginConnection> {\n        const connection = this.connections.get(id) || await this.doCreateConnection(id);\n        this.connections.set(id, connection);\n        return connection;\n    }\n\n    protected async doCreateConnection(id: string): Promise<PluginConnection> {\n        const reader = new PluginMessageReader();\n        const writer = new PluginMessageWriter(id, this.proxy);\n        return new PluginConnection(\n            reader,\n            writer,\n            () => {\n                this.connections.delete(id);\n                this.proxy.$deleteConnection(id);\n            });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { AbstractMessageReader, DataCallback } from 'vscode-jsonrpc/lib/messageReader';\n\n/**\n * Support for reading string message through RPC protocol.\n */\nexport class PluginMessageReader extends AbstractMessageReader {\n    protected state: 'initial' | 'listening' | 'closed' = 'initial';\n    protected callback: DataCallback | undefined;\n    // tslint:disable-next-line:no-any\n    protected readonly events: { message?: any, error?: any }[] = [];\n\n    constructor() {\n        super();\n    }\n\n    listen(callback: DataCallback): void {\n        if (this.state === 'initial') {\n            this.state = 'listening';\n            this.callback = callback;\n            while (this.events.length !== 0) {\n                const event = this.events.pop()!;\n                if (event.message) {\n                    this.readMessage(event.message);\n                } else if (event.error) {\n                    this.fireError(event.error);\n                } else {\n                    this.fireClose();\n                }\n            }\n        }\n    }\n\n    readMessage(message: string): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { message });\n        } else if (this.state === 'listening') {\n            const data = JSON.parse(message);\n            this.callback!(data);\n        }\n    }\n\n    // tslint:disable-next-line:no-any\n    fireError(error: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { error });\n        } else if (this.state === 'listening') {\n            super.fireError(error);\n        }\n    }\n\n    fireClose(): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, {});\n        } else if (this.state === 'listening') {\n            super.fireClose();\n        }\n        this.state = 'closed';\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { AbstractMessageWriter, MessageWriter } from 'vscode-jsonrpc/lib/messageWriter';\nimport { ConnectionMain, ConnectionExt } from '../api/plugin-api';\nimport { Message } from 'vscode-jsonrpc';\n\n/**\n * Support for writing string message through RPC protocol.\n */\nexport class PluginMessageWriter extends AbstractMessageWriter implements MessageWriter {\n    constructor(\n        protected readonly id: string,\n        protected readonly proxy: ConnectionMain | ConnectionExt) {\n        super();\n    }\n\n    write(message: string): void;\n    write(message: Message): void;\n    write(arg: string | Message): void {\n        const content = JSON.stringify(arg);\n        this.proxy.$sendMessage(this.id, content);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { WebviewsExt, WebviewPanelViewState, WebviewsMain, PLUGIN_RPC_CONTEXT, /* WebviewsMain, PLUGIN_RPC_CONTEXT  */ } from '../api/plugin-api';\nimport * as theia from '@theia/plugin';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport URI from 'vscode-uri/lib/umd';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { fromViewColumn, toViewColumn } from './type-converters';\nimport { IdGenerator } from '../common/id-generator';\nimport { Disposable } from './types-impl';\n\nexport class WebviewsExtImpl implements WebviewsExt {\n    private readonly proxy: WebviewsMain;\n    private readonly idGenerator = new IdGenerator('v');\n    private readonly webviewPanels = new Map<string, WebviewPanelImpl>();\n    private readonly serializers = new Map<string, theia.WebviewPanelSerializer>();\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.WEBVIEWS_MAIN);\n    }\n\n    // tslint:disable-next-line:no-any\n    $onMessage(handle: string, message: any): void {\n        const panel = this.getWebviewPanel(handle);\n        if (panel) {\n            panel.webview.onMessageEmitter.fire(message);\n        }\n    }\n    $onDidChangeWebviewPanelViewState(handle: string, newState: WebviewPanelViewState): void {\n        const panel = this.getWebviewPanel(handle);\n        if (panel) {\n            const viewColumn = toViewColumn(newState.position);\n            if (panel.active !== newState.active || panel.visible !== newState.visible || panel.viewColumn !== viewColumn) {\n                panel.setActive(newState.active);\n                panel.setVisible(newState.visible);\n                panel.setViewColumn(viewColumn!);\n                panel.onDidChangeViewStateEmitter.fire({ webviewPanel: panel });\n            }\n        }\n    }\n    $onDidDisposeWebviewPanel(handle: string): PromiseLike<void> {\n        const panel = this.getWebviewPanel(handle);\n        if (panel) {\n            panel.dispose();\n            this.webviewPanels.delete(handle);\n        }\n        return Promise.resolve();\n    }\n    $deserializeWebviewPanel(viewId: string,\n        viewType: string,\n        title: string,\n        // tslint:disable-next-line:no-any\n        state: any,\n        position: number,\n        options: theia.WebviewOptions & theia.WebviewPanelOptions): PromiseLike<void> {\n        const serializer = this.serializers.get(viewType);\n        if (!serializer) {\n            return Promise.reject(new Error(`No serializer found for '${viewType}'`));\n        }\n\n        const webview = new WebviewImpl(viewId, this.proxy, options);\n        const revivedPanel = new WebviewPanelImpl(viewId, this.proxy, viewType, title, toViewColumn(position)!, options, webview);\n        this.webviewPanels.set(viewId, revivedPanel);\n        return serializer.deserializeWebviewPanel(revivedPanel, state);\n    }\n\n    createWebview(viewType: string,\n        title: string,\n        showOptions: theia.ViewColumn | { viewColumn: theia.ViewColumn, preserveFocus?: boolean },\n        options: (theia.WebviewPanelOptions & theia.WebviewOptions) | undefined,\n        extensionLocation: URI): theia.WebviewPanel {\n\n        const viewColumn = typeof showOptions === 'object' ? showOptions.viewColumn : showOptions;\n        const webviewShowOptions = {\n            viewColumn: fromViewColumn(viewColumn),\n            preserveFocus: typeof showOptions === 'object' && !!showOptions.preserveFocus\n        };\n\n        const viewId = this.idGenerator.nextId();\n        this.proxy.$createWebviewPanel(viewId, viewType, title, webviewShowOptions, options, extensionLocation);\n\n        const webview = new WebviewImpl(viewId, this.proxy, options);\n        const panel = new WebviewPanelImpl(viewId, this.proxy, viewType, title, viewColumn, options, webview);\n        this.webviewPanels.set(viewId, panel);\n        return panel;\n\n    }\n\n    registerWebviewPanelSerializer(\n        viewType: string,\n        serializer: theia.WebviewPanelSerializer\n    ): theia.Disposable {\n        if (this.serializers.has(viewType)) {\n            throw new Error(`Serializer for '${viewType}' already registered`);\n        }\n\n        this.serializers.set(viewType, serializer);\n        this.proxy.$registerSerializer(viewType);\n\n        return new Disposable(() => {\n            this.serializers.delete(viewType);\n            this.proxy.$unregisterSerializer(viewType);\n        });\n    }\n\n    private getWebviewPanel(viewId: string): WebviewPanelImpl | undefined {\n        return this.webviewPanels.get(viewId);\n    }\n}\n\nexport class WebviewImpl implements theia.Webview {\n    private isDisposed = false;\n    private _html: string;\n    private _options: theia.WebviewOptions;\n\n    // tslint:disable-next-line:no-any\n    public readonly onMessageEmitter = new Emitter<any>();\n\n    // tslint:disable-next-line:no-any\n    public readonly onDidReceiveMessage: Event<any> = this.onMessageEmitter.event;\n\n    constructor(private readonly viewId: string,\n        private readonly proxy: WebviewsMain,\n        options: theia.WebviewOptions | undefined) {\n        this._options = options!;\n    }\n\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this.onMessageEmitter.dispose();\n    }\n\n    // tslint:disable-next-line:no-any\n    postMessage(message: any): PromiseLike<boolean> {\n        this.checkIsDisposed();\n        return this.proxy.$postMessage(this.viewId, message);\n    }\n\n    get options(): theia.WebviewOptions {\n        this.checkIsDisposed();\n        return this._options;\n    }\n\n    set options(newOptions: theia.WebviewOptions) {\n        this.checkIsDisposed();\n        this.proxy.$setOptions(this.viewId, newOptions);\n        this._options = newOptions;\n    }\n\n    get html(): string {\n        this.checkIsDisposed();\n        return this._html;\n    }\n\n    set html(newHtml: string) {\n        this.checkIsDisposed();\n        if (this._html !== newHtml) {\n            this._html = newHtml;\n            this.proxy.$setHtml(this.viewId, newHtml);\n        }\n    }\n\n    private checkIsDisposed() {\n        if (this.isDisposed) {\n            throw new Error('This Webview is disposed!');\n        }\n    }\n}\n\nexport class WebviewPanelImpl implements theia.WebviewPanel {\n\n    private isDisposed = false;\n    private _active = true;\n    private _visible = true;\n\n    readonly onDisposeEmitter = new Emitter<void>();\n    public readonly onDidDispose: Event<void> = this.onDisposeEmitter.event;\n\n    readonly onDidChangeViewStateEmitter = new Emitter<theia.WebviewPanelOnDidChangeViewStateEvent>();\n    public readonly onDidChangeViewState: Event<theia.WebviewPanelOnDidChangeViewStateEvent> = this.onDidChangeViewStateEmitter.event;\n\n    constructor(private readonly viewId: string,\n        private readonly proxy: WebviewsMain,\n        private readonly _viewType: string,\n        private _title: string,\n        private _viewColumn: theia.ViewColumn,\n        private readonly _options: theia.WebviewPanelOptions | undefined,\n        private readonly _webview: WebviewImpl\n    ) {\n\n    }\n\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n\n        this.isDisposed = true;\n        this.onDisposeEmitter.fire(void 0);\n\n        this.proxy.$disposeWebview(this.viewId);\n        this._webview.dispose();\n\n        this.onDisposeEmitter.dispose();\n        this.onDidChangeViewStateEmitter.dispose();\n    }\n\n    get viewType(): string {\n        this.checkIsDisposed();\n        return this._viewType;\n    }\n\n    get title(): string {\n        this.checkIsDisposed();\n        return this._title;\n    }\n\n    set title(newTitle: string) {\n        this.checkIsDisposed();\n        if (this._title !== newTitle) {\n            this._title = newTitle;\n            this.proxy.$setTitle(this.viewId, newTitle);\n        }\n    }\n\n    set iconPath(iconPath: theia.Uri | { light: theia.Uri; dark: theia.Uri }) {\n        this.checkIsDisposed();\n        if (URI.isUri(iconPath)) {\n            this.proxy.$setIconPath(this.viewId, (<theia.Uri>iconPath).path);\n        } else {\n            this.proxy.$setIconPath(this.viewId, {\n                light: (<{ light: theia.Uri; dark: theia.Uri }>iconPath).light.path,\n                dark: (<{ light: theia.Uri; dark: theia.Uri }>iconPath).dark.path\n            });\n        }\n    }\n\n    get webview() {\n        this.checkIsDisposed();\n        return this._webview;\n    }\n\n    get options(): theia.WebviewPanelOptions {\n        this.checkIsDisposed();\n        return this._options!;\n    }\n\n    get viewColumn(): theia.ViewColumn {\n        this.checkIsDisposed();\n        return this._viewColumn;\n    }\n\n    setViewColumn(value: theia.ViewColumn) {\n        this.checkIsDisposed();\n        this._viewColumn = value;\n    }\n\n    get active(): boolean {\n        this.checkIsDisposed();\n        return this._active;\n    }\n\n    setActive(value: boolean) {\n        this.checkIsDisposed();\n        this._active = value;\n    }\n\n    get visible(): boolean {\n        this.checkIsDisposed();\n        return this._visible;\n    }\n\n    setVisible(value: boolean) {\n        this.checkIsDisposed();\n        this._visible = value;\n    }\n\n    reveal(viewColumn?: theia.ViewColumn, preserveFocus?: boolean): void {\n        this.checkIsDisposed();\n        this.proxy.$reveal(this.viewId, {\n            viewColumn: viewColumn ? fromViewColumn(viewColumn) : undefined,\n            preserveFocus: !!preserveFocus\n        });\n    }\n\n    // tslint:disable-next-line:no-any\n    postMessage(message: any): PromiseLike<boolean> {\n        this.checkIsDisposed();\n        return this.proxy.$postMessage(this.viewId, message);\n    }\n\n    private checkIsDisposed() {\n        if (this.isDisposed) {\n            throw new Error('This WebviewPanel is disposed!');\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    PLUGIN_RPC_CONTEXT,\n    TasksExt,\n    TasksMain,\n    TaskDto,\n    TaskExecutionDto\n} from '../../api/plugin-api';\nimport * as theia from '@theia/plugin';\nimport * as converter from '../type-converters';\nimport { Disposable } from '../types-impl';\nimport { RPCProtocol } from '../../api/rpc-protocol';\nimport { TaskProviderAdapter } from './task-provider';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\n\nexport class TasksExtImpl implements TasksExt {\n    private proxy: TasksMain;\n\n    private callId = 0;\n    private adaptersMap = new Map<number, TaskProviderAdapter>();\n    private taskExecutions = new Map<number, theia.TaskExecution>();\n\n    private readonly onDidExecuteTask: Emitter<theia.TaskStartEvent> = new Emitter<theia.TaskStartEvent>();\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.TASKS_MAIN);\n    }\n\n    get onDidStartTask(): Event<theia.TaskStartEvent> {\n        return this.onDidExecuteTask.event;\n    }\n\n    $onDidStartTask(execution: TaskExecutionDto): void {\n        this.onDidExecuteTask.fire({\n            execution: this.getTaskExecution(execution)\n        });\n    }\n\n    registerTaskProvider(type: string, provider: theia.TaskProvider): theia.Disposable {\n        const callId = this.addNewAdapter(new TaskProviderAdapter(provider));\n        this.proxy.$registerTaskProvider(callId, type);\n        return this.createDisposable(callId);\n    }\n\n    $provideTasks(handle: number): Promise<TaskDto[] | undefined> {\n        const adapter = this.adaptersMap.get(handle);\n        if (adapter) {\n            return adapter.provideTasks();\n        } else {\n            return Promise.reject(new Error('No adapter found to provide tasks'));\n        }\n    }\n\n    $resolveTask(handle: number, task: TaskDto): Promise<TaskDto | undefined> {\n        const adapter = this.adaptersMap.get(handle);\n        if (adapter) {\n            return adapter.resolveTask(task);\n        } else {\n            return Promise.reject(new Error('No adapter found to resolve task'));\n        }\n    }\n\n    private addNewAdapter(adapter: TaskProviderAdapter): number {\n        const callId = this.nextCallId();\n        this.adaptersMap.set(callId, adapter);\n        return callId;\n    }\n\n    private nextCallId(): number {\n        return this.callId++;\n    }\n\n    private createDisposable(callId: number): theia.Disposable {\n        return new Disposable(() => {\n            this.adaptersMap.delete(callId);\n            this.proxy.$unregister(callId);\n        });\n    }\n\n    private getTaskExecution(execution: TaskExecutionDto): theia.TaskExecution {\n        const executionId = execution.id;\n        let result: theia.TaskExecution | undefined = this.taskExecutions.get(executionId);\n        if (result) {\n            return result;\n        }\n\n        result = {\n            task: converter.toTask(execution.task),\n            terminate: () => {\n                this.proxy.$terminateTask(executionId);\n            }\n        };\n        this.taskExecutions.set(executionId, result);\n        return result;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport * as Converter from '../type-converters';\nimport { ObjectIdentifier } from '../../common/object-identifier';\nimport { createToken } from '../token-provider';\nimport { TaskDto } from '../../common';\n\nexport class TaskProviderAdapter {\n    private cacheId = 0;\n    private cache = new Map<number, theia.Task>();\n\n    constructor(private readonly provider: theia.TaskProvider) { }\n\n    provideTasks(): Promise<TaskDto[] | undefined> {\n        return Promise.resolve(this.provider.provideTasks(createToken())).then(tasks => {\n            if (!Array.isArray(tasks)) {\n                return undefined;\n            }\n            const result: TaskDto[] = [];\n            for (const task of tasks) {\n                const data = Converter.fromTask(task);\n                if (!data) {\n                    continue;\n                }\n\n                const id = this.cacheId++;\n                ObjectIdentifier.mixin(data, id);\n                this.cache.set(id, task);\n                result.push(data);\n            }\n            return result;\n        });\n    }\n\n    resolveTask(task: TaskDto): Promise<TaskDto | undefined> {\n        if (typeof this.provider.resolveTask !== 'function') {\n            return Promise.resolve(undefined);\n        }\n        const id = ObjectIdentifier.of(task);\n        const item = this.cache.get(id);\n        if (!item) {\n            return Promise.resolve(undefined);\n        }\n\n        return Promise.resolve(this.provider.resolveTask(item, createToken())).then(value => {\n            if (value) {\n                return Converter.fromTask(value);\n            }\n            return undefined;\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { JsonRpcServer } from '@theia/core/lib/common/messaging/proxy-factory';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { LogPart, KeysToAnyValues, KeysToKeysToAnyValue } from './types';\nimport { CharacterPair, CommentRule, PluginAPIFactory, Plugin } from '../api/plugin-api';\nimport { PreferenceSchema } from '@theia/core/lib/browser/preferences';\nimport { ExtPluginApi } from './plugin-ext-api-contribution';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\n\nexport const hostedServicePath = '/services/hostedPlugin';\n\n/**\n * Plugin engine (API) type, i.e. 'theiaPlugin', 'vscode', etc.\n */\nexport type PluginEngine = string;\n\n/**\n * This interface describes a package.json object.\n */\nexport interface PluginPackage {\n    name: string;\n    publisher: string;\n    version: string;\n    engines: {\n        [type in PluginEngine]: string;\n    };\n    theiaPlugin?: {\n        frontend?: string;\n        backend?: string;\n    };\n    main?: string;\n    displayName: string;\n    description: string;\n    contributes?: PluginPackageContribution;\n    packagePath: string;\n}\n\n/**\n * This interface describes a package.json contribution section object.\n */\nexport interface PluginPackageContribution {\n    configuration: PreferenceSchema;\n    languages?: PluginPackageLanguageContribution[];\n    grammars?: PluginPackageGrammarsContribution[];\n    viewsContainers?: { [location: string]: PluginPackageViewContainer[] };\n    views?: { [location: string]: PluginPackageView[] };\n    menus?: { [location: string]: PluginPackageMenu[] };\n    keybindings?: PluginPackageKeybinding[];\n    debuggers?: PluginPackageDebuggersContribution[];\n}\n\nexport interface PluginPackageViewContainer {\n    id: string;\n    title: string;\n    icon: string;\n}\n\nexport interface PluginPackageView {\n    id: string;\n    name: string;\n}\n\nexport interface PluginPackageMenu {\n    command: string;\n    group?: string;\n    when?: string;\n}\n\nexport interface PluginPackageKeybinding {\n    key: string;\n    command: string;\n    when?: string;\n}\n\nexport interface PluginPackageGrammarsContribution {\n    language?: string;\n    scopeName: string;\n    path: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\nexport interface ScopeMap {\n    [scopeName: string]: string;\n}\n\nexport interface PlatformSpecificAdapterContribution {\n    program?: string;\n    args?: string[];\n    runtime?: string;\n    runtimeArgs?: string[];\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface PluginPackageDebuggersContribution extends PlatformSpecificAdapterContribution {\n    type: string;\n    label?: string;\n    languages?: string[];\n    enableBreakpointsFor?: { languageIds: string[] };\n    configurationAttributes: { [request: string]: IJSONSchema };\n    configurationSnippets: IJSONSchemaSnippet[];\n    variables?: ScopeMap;\n    adapterExecutableCommand?: string;\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\n/**\n * This interface describes a package.json languages contribution section object.\n */\nexport interface PluginPackageLanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: string;\n}\n\nexport interface PluginPackageLanguageContributionConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    autoClosingPairs?: (CharacterPair | AutoClosingPairConditional)[];\n    surroundingPairs?: (CharacterPair | AutoClosingPair)[];\n    wordPattern?: string;\n    indentationRules?: IndentationRules;\n    folding?: FoldingRules;\n}\n\nexport const PluginScanner = Symbol('PluginScanner');\nexport const PluginDeployer = Symbol('PluginDeployer');\n\n/**\n * A plugin resolver is handling how to resolve a plugin link into a local resource.\n */\nexport const PluginDeployerResolver = Symbol('PluginDeployerResolver');\n\nexport const PluginDeployerDirectoryHandler = Symbol('PluginDeployerDirectoryHandler');\n\nexport const PluginDeployerFileHandler = Symbol('PluginDeployerFileHandler');\n\n/**\n * This scanner process package.json object and returns plugin metadata objects.\n */\nexport interface PluginScanner {\n    /**\n     * The type of plugin's API (engine name)\n     */\n    apiType: PluginEngine;\n\n    /**\n     * Creates plugin's model.\n     *\n     * @param {PluginPackage} plugin\n     * @returns {PluginModel}\n     */\n    getModel(plugin: PluginPackage): PluginModel;\n\n    /**\n     * Creates plugin's lifecycle.\n     *\n     * @returns {PluginLifecycle}\n     */\n    getLifecycle(plugin: PluginPackage): PluginLifecycle;\n}\n\nexport interface PluginDeployerResolverInit {\n\n}\n\nexport interface PluginDeployerResolverContext {\n\n    addPlugin(pluginId: string, path: string): void;\n\n    getOriginId(): string;\n\n}\n\nexport interface PluginDeployer {\n\n    start(): void;\n\n}\n\n/**\n * A resolver handle a set of resource\n */\nexport interface PluginDeployerResolver {\n\n    init?(pluginDeployerResolverInit: PluginDeployerResolverInit): void;\n\n    accept(pluginSourceId: string): boolean;\n\n    resolve(pluginResolverContext: PluginDeployerResolverContext): Promise<void>;\n\n}\n\nexport enum PluginDeployerEntryType {\n\n    FRONTEND,\n\n    BACKEND\n}\n\nexport interface PluginDeployerEntry {\n\n    /**\n     * ID (before any resolution)\n     */\n    id(): string;\n\n    /**\n     * Original resolved path\n     */\n    originalPath(): string;\n\n    /**\n     * Local path on the filesystem\n     */\n    path(): string;\n\n    /**\n     * Get a specific entry\n     */\n    getValue<T>(key: string): T;\n\n    /**\n     * Store a value\n     */\n    storeValue<T>(key: string, value: T): void;\n\n    /**\n     * Update path\n     */\n    updatePath(newPath: string): void;\n\n    getChanges(): string[];\n\n    isFile(): boolean;\n\n    isDirectory(): boolean;\n\n    /**\n     * Resolved if a resolver has handle this plugin\n     */\n    isResolved(): boolean;\n\n    resolvedBy(): string;\n\n    /**\n     * Accepted when a handler is telling this location can go live\n     */\n    isAccepted(...types: PluginDeployerEntryType[]): boolean;\n\n    accept(...types: PluginDeployerEntryType[]): void;\n\n    hasError(): boolean;\n}\n\nexport interface PluginDeployerFileHandlerContext {\n\n    unzip(sourcePath: string, destPath: string): Promise<void>;\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\nexport interface PluginDeployerDirectoryHandlerContext {\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\nexport interface PluginDeployerFileHandler {\n\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerFileHandlerContext): Promise<void>;\n}\n\nexport interface PluginDeployerDirectoryHandler {\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerDirectoryHandlerContext): Promise<void>;\n}\n\n/**\n * This interface describes a plugin model object, which is populated from package.json.\n */\nexport interface PluginModel {\n    id: string;\n    name: string;\n    publisher: string;\n    version: string;\n    displayName: string;\n    description: string;\n    engine: {\n        type: PluginEngine;\n        version: string;\n    };\n    entryPoint: {\n        frontend?: string;\n        backend?: string;\n    };\n    contributes?: PluginContribution;\n}\n\n/**\n * This interface describes some static plugin contributions.\n */\nexport interface PluginContribution {\n    configuration?: PreferenceSchema;\n    languages?: LanguageContribution[];\n    grammars?: GrammarsContribution[];\n    viewsContainers?: { [location: string]: ViewContainer[] };\n    views?: { [location: string]: View[] };\n    menus?: { [location: string]: Menu[] };\n    keybindings?: Keybinding[];\n    debuggers?: DebuggerContribution[];\n}\n\nexport interface GrammarsContribution {\n    format: 'json' | 'plist';\n    language?: string;\n    scope: string;\n    grammar?: string | object;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\n/**\n * The language contribution\n */\nexport interface LanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: LanguageConfiguration;\n}\n\nexport interface LanguageConfiguration {\n    brackets?: CharacterPair[];\n    indentationRules?: IndentationRules;\n    surroundingPairs?: AutoClosingPair[];\n    autoClosingPairs?: AutoClosingPairConditional[];\n    comments?: CommentRule;\n    folding?: FoldingRules;\n    wordPattern?: string;\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface DebuggerContribution extends PlatformSpecificAdapterContribution {\n    type: string,\n    label?: string,\n    languages?: string[],\n    enableBreakpointsFor?: {\n        languageIds: string[]\n    },\n    configurationAttributes?: IJSONSchema[],\n    configurationSnippets?: IJSONSchemaSnippet[],\n    variables?: ScopeMap,\n    adapterExecutableCommand?: string\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\nexport interface IndentationRules {\n    increaseIndentPattern: string;\n    decreaseIndentPattern: string;\n    unIndentedLinePattern?: string;\n    indentNextLinePattern?: string;\n}\nexport interface AutoClosingPair {\n    close: string;\n    open: string;\n}\n\nexport interface AutoClosingPairConditional extends AutoClosingPair {\n    notIn?: string[];\n}\n\nexport interface FoldingMarkers {\n    start: string;\n    end: string;\n}\n\nexport interface FoldingRules {\n    offSide?: boolean;\n    markers?: FoldingMarkers;\n}\n\n/**\n * Views Containers contribution\n */\nexport interface ViewContainer {\n    id: string;\n    title: string;\n    icon: string;\n}\n\n/**\n * View contribution\n */\nexport interface View {\n    id: string;\n    name: string;\n}\n\n/**\n * Menu contribution\n */\nexport interface Menu {\n    command: string;\n    group?: string;\n    when?: string;\n}\n\n/**\n * Keybinding contribution\n */\nexport interface Keybinding {\n    keybinding: string;\n    command: string;\n    context?: string;\n}\n\n/**\n * This interface describes a plugin lifecycle object.\n */\nexport interface PluginLifecycle {\n    startMethod: string;\n    stopMethod: string;\n    /**\n     * Frontend module name, frontend plugin should expose this name.\n     */\n    frontendModuleName?: string;\n    /**\n     * Path to the script which should do some initialization before frontend plugin is loaded.\n     */\n    frontendInitPath?: string;\n    /**\n     * Path to the script which should do some initialization before backend plugin is loaded.\n     */\n    backendInitPath?: string;\n}\n\n/**\n * The export function of initialization module of backend plugin.\n */\nexport interface BackendInitializationFn {\n    (apiFactory: PluginAPIFactory, plugin: Plugin): void;\n}\n\nexport interface BackendLoadingFn {\n    (rpc: RPCProtocol, plugin: Plugin): void;\n}\n\nexport interface PluginContext {\n    subscriptions: Disposable[];\n}\n\nexport interface ExtensionContext {\n    subscriptions: Disposable[];\n}\n\nexport interface PluginMetadata {\n    host: string;\n    source: PluginPackage;\n    model: PluginModel;\n    lifecycle: PluginLifecycle;\n}\n\nexport const MetadataProcessor = Symbol('MetadataProcessor');\nexport interface MetadataProcessor {\n    process(pluginMetadata: PluginMetadata): void;\n}\n\nexport function getPluginId(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport function buildFrontendModuleName(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport interface DebugConfiguration {\n    port?: number;\n    debugMode?: string;\n}\n\nexport const HostedPluginClient = Symbol('HostedPluginClient');\nexport interface HostedPluginClient {\n    postMessage(message: string): Promise<void>;\n\n    log(logPart: LogPart): void;\n}\n\nexport const HostedPluginServer = Symbol('HostedPluginServer');\nexport interface HostedPluginServer extends JsonRpcServer<HostedPluginClient> {\n    getHostedPlugin(): Promise<PluginMetadata | undefined>;\n\n    getDeployedMetadata(): Promise<PluginMetadata[]>;\n    getDeployedFrontendMetadata(): Promise<PluginMetadata[]>;\n    deployFrontendPlugins(frontendPlugins: PluginDeployerEntry[]): Promise<void>;\n    getDeployedBackendMetadata(): Promise<PluginMetadata[]>;\n    deployBackendPlugins(backendPlugins: PluginDeployerEntry[]): Promise<void>;\n\n    getExtPluginAPI(): Promise<ExtPluginApi[]>;\n\n    onMessage(message: string): Promise<void>;\n\n    isPluginValid(uri: string): Promise<boolean>;\n    runHostedPluginInstance(uri: string): Promise<string>;\n    runDebugHostedPluginInstance(uri: string, debugConfig: DebugConfiguration): Promise<string>;\n    terminateHostedPluginInstance(): Promise<void>;\n    isHostedPluginInstanceRunning(): Promise<boolean>;\n    getHostedPluginInstanceURI(): Promise<string>;\n    getHostedPluginURI(): Promise<string>;\n\n    runWatchCompilation(uri: string): Promise<void>;\n    stopWatchCompilation(uri: string): Promise<void>;\n    isWatchCompilationRunning(uri: string): Promise<boolean>;\n}\n\n/**\n * The JSON-RPC workspace interface.\n */\nexport const pluginServerJsonRpcPath = '/services/plugin-ext';\nexport const PluginServer = Symbol('PluginServer');\nexport interface PluginServer {\n\n    /**\n     * Deploy a plugin\n     */\n    deploy(pluginEntry: string): Promise<void>;\n\n    keyValueStorageSet(key: string, value: KeysToAnyValues, isGlobal: boolean): Promise<boolean>;\n    keyValueStorageGet(key: string, isGlobal: boolean): Promise<KeysToAnyValues>;\n    keyValueStorageGetAll(isGlobal: boolean): Promise<KeysToKeysToAnyValue>;\n}\n\nexport const ServerPluginRunner = Symbol('ServerPluginRunner');\nexport interface ServerPluginRunner {\n    // tslint:disable-next-line:no-any\n    acceptMessage(jsonMessage: any): boolean;\n    // tslint:disable-next-line:no-any\n    onMessage(jsonMessage: any): void;\n    setClient(client: HostedPluginClient): void;\n    setDefault(defaultRunner: ServerPluginRunner): void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { EnvMain, PLUGIN_RPC_CONTEXT } from '../api/plugin-api';\nimport { QueryParameters } from '../common/env';\n\nexport class EnvExtImpl {\n    private proxy: EnvMain;\n    private queryParameters: QueryParameters;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.ENV_MAIN);\n    }\n\n    getEnvVariable(envVarName: string): Promise<string | undefined> {\n        return this.proxy.$getEnvVariable(envVarName).then(x => {\n            if (x === null) {\n                return undefined;\n            }\n            return x;\n        });\n    }\n\n    getQueryParameter(queryParamName: string): string | string[] | undefined {\n        return this.queryParameters[queryParamName];\n    }\n\n    getQueryParameters(): QueryParameters {\n        return this.queryParameters;\n    }\n\n    setQueryParameters(queryParams: QueryParameters): void {\n        this.queryParameters = queryParams;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* tslint:disable:no-any */\n\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport * as theia from '@theia/plugin';\nimport {\n    PLUGIN_RPC_CONTEXT,\n    PreferenceRegistryExt,\n    PreferenceRegistryMain\n} from '../api/plugin-api';\nimport { RPCProtocol } from '../api/rpc-protocol';\nimport { isObject } from '../common/types';\nimport { PreferenceChange } from '@theia/core/lib/browser';\nimport { ConfigurationTarget } from './types-impl';\n\nimport cloneDeep = require('lodash.clonedeep');\n\ninterface ConfigurationInspect<T> {\n    key: string;\n    defaultValue?: T;\n    globalValue?: T;\n    workspaceValue?: T;\n    workspaceFolderValue?: T;\n}\n\n// tslint:disable-next-line:no-any\nfunction lookUp(tree: any, key: string): any {\n    if (!key) {\n        return;\n    }\n\n    const parts = key.split('.');\n    let node = tree;\n    for (let i = 0; node && i < parts.length; i++) {\n        node = node[parts[i]];\n    }\n    return node;\n}\n\nexport class PreferenceRegistryExtImpl implements PreferenceRegistryExt {\n    private proxy: PreferenceRegistryMain;\n    // tslint:disable-next-line:no-any\n    private _preferences: any;\n    private readonly _onDidChangeConfiguration = new Emitter<theia.ConfigurationChangeEvent>();\n\n    readonly onDidChangeConfiguration: Event<theia.ConfigurationChangeEvent> = this._onDidChangeConfiguration.event;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.PREFERENCE_REGISTRY_MAIN);\n    }\n\n    // tslint:disable-next-line:no-any\n    init(data: { [key: string]: any }): void {\n        this._preferences = this.parse(data);\n    }\n\n    // tslint:disable-next-line:no-any\n    $acceptConfigurationChanged(data: { [key: string]: any }, eventData: PreferenceChange): void {\n        this.init(data);\n        this._onDidChangeConfiguration.fire(this.toConfigurationChangeEvent(eventData));\n    }\n\n    getConfiguration(section?: string, resource?: theia.Uri | null, extensionId?: string): theia.WorkspaceConfiguration {\n        const preferences = this.toReadonlyValue(section\n            ? lookUp(this._preferences, section)\n            : this._preferences);\n\n        const configuration: theia.WorkspaceConfiguration = {\n            has(key: string): boolean {\n                return typeof lookUp(preferences, key) !== 'undefined';\n            },\n            get: <T>(key: string, defaultValue?: T) => {\n                const result = lookUp(preferences, key);\n                if (typeof result === 'undefined') {\n                    return defaultValue;\n                } else {\n                    let clonedConfig: any = undefined;\n                    const cloneOnWriteProxy = (target: any, accessor: string): any => {\n                        let clonedTarget: any = undefined;\n                        const cloneTarget = () => {\n                            clonedConfig = clonedConfig ? clonedConfig : cloneDeep(preferences);\n                            clonedTarget = clonedTarget ? cloneTarget : lookUp(clonedConfig, accessor);\n                        };\n\n                        if (!isObject(target)) {\n                            return target;\n                        }\n                        return new Proxy(target, {\n                            get: (targ: any, prop: string) => {\n                                if (typeof prop === 'string' && prop.toLowerCase() === 'tojson') {\n                                    cloneTarget();\n                                    return () => clonedTarget;\n                                }\n                                if (clonedConfig) {\n                                    clonedTarget = cloneTarget ? cloneTarget : lookUp(clonedConfig, accessor);\n                                    return clonedTarget[prop];\n                                }\n                                const res = targ[prop];\n                                if (typeof prop === 'string') {\n                                    return cloneOnWriteProxy(res, `${accessor}.${prop}`);\n                                }\n                                return res;\n                            },\n                            set: (targ: any, prop: string, val: any) => {\n                                cloneTarget();\n                                clonedTarget[prop] = val;\n                                return true;\n                            },\n                            deleteProperty: (targ: any, prop: string) => {\n                                cloneTarget();\n                                delete clonedTarget[prop];\n                                return true;\n                            },\n                            defineProperty: (targ: any, prop: string, descr: any) => {\n                                cloneTarget();\n                                Object.defineProperty(clonedTarget, prop, descr);\n                                return true;\n                            }\n                        });\n                    };\n                    return cloneOnWriteProxy(result, key);\n                }\n            },\n            update: (key: string, value: any, arg?: ConfigurationTarget | boolean): PromiseLike<void> => {\n                key = section ? `${section}.${key}` : key;\n                if (typeof value !== 'undefined') {\n                    return this.proxy.$updateConfigurationOption(arg, key, value, resource);\n                } else {\n                    return this.proxy.$removeConfigurationOption(arg, key, resource);\n                }\n            },\n            inspect: <T>(key: string): ConfigurationInspect<T> => {\n                throw new Error('Not implemented yet.');\n            }\n        };\n        return configuration;\n    }\n\n    private toReadonlyValue(data: any): any {\n        const readonlyProxy = (target: any): any => isObject(target)\n            ? new Proxy(target, {\n                get: (targ: any, prop: string) => readonlyProxy(targ[prop]),\n                set: (targ: any, prop: string, val: any) => {\n                    throw new Error(`TypeError: Cannot assign to read only property '${prop}' of object`);\n                },\n                deleteProperty: (targ: any, prop: string) => {\n                    throw new Error(`TypeError: Cannot delete read only property '${prop}' of object`);\n                },\n                defineProperty: (targ: any, prop: string) => {\n                    throw new Error(`TypeError: Cannot define property '${prop}' of a readonly object`);\n                },\n                setPrototypeOf: (targ: any) => {\n                    throw new Error('TypeError: Cannot set prototype for a readonly object');\n                },\n                isExtensible: () => false,\n                preventExtensions: () => true\n            })\n            : target;\n        return readonlyProxy(data);\n    }\n\n    private parse(data: any): any {\n        return Object.keys(data).reduce((result: any, key: string) => {\n            const parts = key.split('.');\n            let branch = result;\n            for (let i = 0; i < parts.length; i++) {\n                if (i === parts.length - 1) {\n                    branch[parts[i]] = data[key];\n                    continue;\n                }\n                if (!branch[parts[i]]) {\n                    branch[parts[i]] = {};\n                }\n                branch = branch[parts[i]];\n            }\n            return result;\n        }, {});\n    }\n\n    private toConfigurationChangeEvent(eventData: PreferenceChange): theia.ConfigurationChangeEvent {\n        return Object.freeze({\n            affectsConfiguration: (section: string, uri?: theia.Uri): boolean => {\n                const tree = eventData.preferenceName\n                    .split('.')\n                    .reverse()\n                    .reduce((prevValue: any, curValue: any) => ({ [curValue]: prevValue }), eventData.newValue);\n                return !!lookUp(tree, section);\n            }\n        });\n    }\n\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { DebugExtImpl } from '../../../plugin/node/debug/debug';\nimport { RPCProtocol } from '../../../api/rpc-protocol';\n\n// tslint:disable:no-any\nexport function createDebugExtStub(rpc: RPCProtocol): DebugExtImpl {\n    return new Proxy(new DebugExtImpl(rpc), {\n        apply: function (target, that, args) {\n            console.error('Debug API works only in plugin container');\n        }\n    });\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { Disposable } from '../../types-impl';\nimport { Breakpoint } from '../../../api/model';\nimport { RPCProtocol } from '../../../api/rpc-protocol';\nimport {\n    PLUGIN_RPC_CONTEXT as Ext,\n    DebugMain,\n    DebugExt\n} from '../../../api/plugin-api';\nimport * as theia from '@theia/plugin';\nimport uuid = require('uuid');\nimport { ConnectionExtImpl } from '../../connection-ext';\nimport { CommandRegistryImpl } from '../../command-registry';\nimport { DebuggerContribution } from '../../../common';\nimport { PluginWebSocketChannel } from '../../../common/connection';\nimport { DebugAdapterExecutable } from '@theia/debug/lib/common/debug-model';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { PluginDebugAdapterSession } from './plugin-debug-adapter-session';\nimport { startDebugAdapter } from './plugin-debug-adapter-starter';\nimport { resolveDebugAdapterExecutable } from './plugin-debug-adapter-executable-resolver';\nimport URI from 'vscode-uri';\nimport { Path } from '@theia/core/lib/common/path';\n\n// tslint:disable:no-any\n\n/**\n * It is supposed to work at node only.\n */\nexport class DebugExtImpl implements DebugExt {\n    // debug sessions by sessionId\n    private sessions = new Map<string, PluginDebugAdapterSession>();\n\n    // providers by type\n    private configurationProviders = new Map<string, Set<theia.DebugConfigurationProvider>>();\n    private debuggersContributions = new Map<string, DebuggerContribution>();\n\n    private connectionExt: ConnectionExtImpl;\n    private commandRegistryExt: CommandRegistryImpl;\n\n    private proxy: DebugMain;\n    private pluginFolder: string;\n\n    private readonly onDidChangeBreakpointsEmitter = new Emitter<theia.BreakpointsChangeEvent>();\n    private readonly onDidChangeActiveDebugSessionEmitter = new Emitter<theia.DebugSession | undefined>();\n    private readonly onDidTerminateDebugSessionEmitter = new Emitter<theia.DebugSession>();\n    private readonly onDidStartDebugSessionEmitter = new Emitter<theia.DebugSession>();\n    private readonly onDidReceiveDebugSessionCustomEmitter = new Emitter<theia.DebugSessionCustomEvent>();\n\n    activeDebugSession: theia.DebugSession | undefined;\n    activeDebugConsole: theia.DebugConsole;\n    breakpoints: theia.Breakpoint[] = [];\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.DEBUG_MAIN);\n        this.activeDebugConsole = {\n            append: (value: string) => this.proxy.$appendToDebugConsole(value),\n            appendLine: (value: string) => this.proxy.$appendLineToDebugConsole(value)\n        };\n    }\n\n    /**\n     * Sets dependencies.\n     */\n    assistedInject(connectionExt: ConnectionExtImpl, commandRegistryExt: CommandRegistryImpl) {\n        this.connectionExt = connectionExt;\n        this.commandRegistryExt = commandRegistryExt;\n    }\n\n    /**\n     * Registers contributions.\n     * @param pluginFolder plugin folder path\n     * @param contributions available debuggers contributions\n     */\n    registerDebuggersContributions(pluginFolder: string, contributions: DebuggerContribution[]): void {\n        this.pluginFolder = pluginFolder;\n        contributions.forEach((contribution: DebuggerContribution) => {\n            this.debuggersContributions.set(contribution.type, contribution);\n            this.proxy.$registerDebuggerContribution({\n                type: contribution.type,\n                label: contribution.label || contribution.type\n            });\n            console.log(`Debugger contribution has been registered: ${contribution.type}`);\n        });\n    }\n\n    get onDidReceiveDebugSessionCustomEvent(): theia.Event<theia.DebugSessionCustomEvent> {\n        return this.onDidReceiveDebugSessionCustomEmitter.event;\n    }\n\n    get onDidChangeActiveDebugSession(): theia.Event<theia.DebugSession | undefined> {\n        return this.onDidChangeActiveDebugSessionEmitter.event;\n    }\n\n    get onDidTerminateDebugSession(): theia.Event<theia.DebugSession> {\n        return this.onDidTerminateDebugSessionEmitter.event;\n    }\n\n    get onDidStartDebugSession(): theia.Event<theia.DebugSession> {\n        return this.onDidStartDebugSessionEmitter.event;\n    }\n\n    get onDidChangeBreakpoints(): theia.Event<theia.BreakpointsChangeEvent> {\n        return this.onDidChangeBreakpointsEmitter.event;\n    }\n\n    addBreakpoints(breakpoints: theia.Breakpoint[]): void {\n        this.proxy.$addBreakpoints(breakpoints);\n    }\n\n    removeBreakpoints(breakpoints: theia.Breakpoint[]): void {\n        this.proxy.$removeBreakpoints(breakpoints);\n    }\n\n    startDebugging(folder: theia.WorkspaceFolder | undefined, nameOrConfiguration: string | theia.DebugConfiguration): PromiseLike<boolean> {\n        return this.proxy.$startDebugging(folder, nameOrConfiguration);\n    }\n\n    registerDebugConfigurationProvider(debugType: string, provider: theia.DebugConfigurationProvider): Disposable {\n        console.log(`Debug configuration provider has been registered: ${debugType}`);\n        const providers = this.configurationProviders.get(debugType) || new Set<theia.DebugConfigurationProvider>();\n        this.configurationProviders.set(debugType, providers);\n        providers.add(provider);\n\n        return Disposable.create(() => {\n            // tslint:disable-next-line:no-shadowed-variable\n            const providers = this.configurationProviders.get(debugType);\n            if (providers) {\n                providers.delete(provider);\n                if (providers.size === 0) {\n                    this.configurationProviders.delete(debugType);\n                }\n            }\n        });\n    }\n\n    async $onSessionCustomEvent(sessionId: string, event: string, body?: any): Promise<void> {\n        const session = this.sessions.get(sessionId);\n        if (session) {\n            this.onDidReceiveDebugSessionCustomEmitter.fire({ event, body, session });\n        }\n    }\n\n    async $sessionDidCreate(sessionId: string): Promise<void> {\n        const session = this.sessions.get(sessionId);\n        if (session) {\n            this.onDidStartDebugSessionEmitter.fire(session);\n        }\n    }\n\n    async $sessionDidDestroy(sessionId: string): Promise<void> {\n        const session = this.sessions.get(sessionId);\n        if (session) {\n            this.onDidTerminateDebugSessionEmitter.fire(session);\n        }\n    }\n\n    async $sessionDidChange(sessionId: string | undefined): Promise<void> {\n        const activeDebugSession = sessionId ? this.sessions.get(sessionId) : undefined;\n        this.onDidChangeActiveDebugSessionEmitter.fire(activeDebugSession);\n    }\n\n    async $breakpointsDidChange(all: Breakpoint[], added: Breakpoint[], removed: Breakpoint[], changed: Breakpoint[]): Promise<void> {\n        this.breakpoints = all;\n        this.onDidChangeBreakpointsEmitter.fire({ added, removed, changed });\n    }\n\n    async $createDebugSession(debugConfiguration: theia.DebugConfiguration): Promise<string> {\n        const executable = await this.getExecutable(debugConfiguration);\n        const communicationProvider = startDebugAdapter(executable);\n        const sessionId = uuid.v4();\n\n        const debugAdapterSession = new PluginDebugAdapterSession(\n            sessionId,\n            debugConfiguration,\n            communicationProvider,\n            (command: string, args?: any) => this.proxy.$customRequest(command, args));\n        this.sessions.set(sessionId, debugAdapterSession);\n\n        const connection = await this.connectionExt!.ensureConnection(sessionId);\n        debugAdapterSession.start(new PluginWebSocketChannel(connection));\n\n        return sessionId;\n    }\n\n    async $terminateDebugSession(sessionId: string): Promise<void> {\n        const debugAdapterSession = this.sessions.get(sessionId);\n        if (debugAdapterSession) {\n            await debugAdapterSession.stop();\n            this.sessions.delete(sessionId);\n        }\n    }\n\n    async $getSupportedLanguages(debugType: string): Promise<string[]> {\n        const contribution = this.debuggersContributions.get(debugType);\n        return contribution && contribution.languages || [];\n    }\n\n    async $getSchemaAttributes(debugType: string): Promise<IJSONSchema[]> {\n        const contribution = this.debuggersContributions.get(debugType);\n        return contribution && contribution.configurationAttributes || [];\n    }\n\n    async $getConfigurationSnippets(debugType: string): Promise<IJSONSchemaSnippet[]> {\n        const contribution = this.debuggersContributions.get(debugType);\n        return contribution && contribution.configurationSnippets || [];\n    }\n\n    async $provideDebugConfigurations(debugType: string, workspaceFolderUri: string | undefined): Promise<theia.DebugConfiguration[]> {\n        let result: theia.DebugConfiguration[] = [];\n\n        const providers = this.configurationProviders.get(debugType);\n        if (providers) {\n            for (const provider of providers) {\n                if (provider.provideDebugConfigurations) {\n                    result = result.concat(await provider.provideDebugConfigurations(this.toWorkspaceFolder(workspaceFolderUri)) || []);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    async $resolveDebugConfigurations(debugConfiguration: theia.DebugConfiguration, workspaceFolderUri: string | undefined): Promise<theia.DebugConfiguration | undefined> {\n        let current = debugConfiguration;\n\n        const providers = this.configurationProviders.get(debugConfiguration.type);\n        if (providers) {\n            for (const provider of providers) {\n                if (provider.resolveDebugConfiguration) {\n                    try {\n                        const next = await provider.resolveDebugConfiguration(this.toWorkspaceFolder(workspaceFolderUri), current);\n                        if (next) {\n                            current = next;\n                        } else {\n                            return current;\n                        }\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n            }\n        }\n\n        return current;\n    }\n\n    private async getExecutable(debugConfiguration: theia.DebugConfiguration): Promise<DebugAdapterExecutable> {\n        const contribution = this.debuggersContributions.get(debugConfiguration.type);\n        if (contribution) {\n            if (contribution.adapterExecutableCommand) {\n                return await this.commandRegistryExt.executeCommand(contribution.adapterExecutableCommand, []) as DebugAdapterExecutable;\n            } else {\n                return resolveDebugAdapterExecutable(this.pluginFolder, contribution);\n            }\n        }\n\n        throw new Error(`It is not possible to provide debug adapter executable for '${debugConfiguration.type}'.`);\n    }\n\n    private toWorkspaceFolder(folder: string | undefined): theia.WorkspaceFolder | undefined {\n        if (!folder) {\n            return undefined;\n        }\n\n        const uri = URI.parse(folder);\n        const path = new Path(uri.path);\n        return {\n            uri: uri,\n            name: path.base,\n            index: 0\n        };\n    }\n}\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { CommunicationProvider } from '@theia/debug/lib/common/debug-model';\nimport { DebugAdapterSessionImpl } from '@theia/debug/lib/node/debug-adapter-session';\nimport { DebugProtocol } from 'vscode-debugprotocol';\n\n// tslint:disable\n\n/**\n * Server debug adapter session.\n */\nexport class PluginDebugAdapterSession extends DebugAdapterSessionImpl implements theia.DebugSession {\n    readonly type: string;\n    readonly name: string;\n\n    constructor(\n        readonly id: string,\n        readonly configuration: theia.DebugConfiguration,\n        readonly communicationProvider: CommunicationProvider,\n        readonly customRequest: (command: string, args?: any) => Promise<DebugProtocol.Response>) {\n\n        super(id, communicationProvider);\n\n        this.type = configuration.type;\n        this.name = configuration.name;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Some entities copied and modified from https://github.com/Microsoft/vscode-debugadapter-node/blob/master/adapter/src/protocol.ts\n\nimport {\n    CommunicationProvider,\n    DebugAdapterSession,\n} from '../common/debug-model';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { IWebSocket } from 'vscode-ws-jsonrpc/lib/socket/socket';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\n\n/**\n * [DebugAdapterSession](#DebugAdapterSession) implementation.\n */\nexport class DebugAdapterSessionImpl implements DebugAdapterSession {\n\n    private static TWO_CRLF = '\\r\\n\\r\\n';\n    private static CONTENT_LENGTH = 'Content-Length';\n\n    private readonly toDispose = new DisposableCollection();\n    private channel: IWebSocket | undefined;\n    private contentLength: number;\n    private buffer: Buffer;\n\n    constructor(\n        readonly id: string,\n        protected readonly communicationProvider: CommunicationProvider\n    ) {\n        this.contentLength = -1;\n        this.buffer = new Buffer(0);\n        this.toDispose.pushAll([\n            this.communicationProvider,\n            Disposable.create(() => this.write(JSON.stringify({ seq: -1, type: 'request', command: 'disconnect' }))),\n            Disposable.create(() => this.write(JSON.stringify({ seq: -1, type: 'request', command: 'terminate' })))\n        ]);\n    }\n\n    async start(channel: IWebSocket): Promise<void> {\n        if (this.channel) {\n            throw new Error('The session has already been started, id: ' + this.id);\n        }\n        this.channel = channel;\n        this.channel.onMessage((message: string) => this.write(message));\n        this.channel.onClose(() => this.channel = undefined);\n\n        this.communicationProvider.output.on('data', (data: Buffer) => this.handleData(data));\n        this.communicationProvider.output.on('close', () => this.fireExited());\n        this.communicationProvider.output.on('error', error => this.onDebugAdapterError(error));\n        this.communicationProvider.input.on('error', error => this.onDebugAdapterError(error));\n    }\n\n    protected fireExited(): void {\n        const event: DebugProtocol.ExitedEvent = {\n            type: 'event',\n            event: 'exited',\n            seq: -1,\n            body: {\n                exitCode: 1 // FIXME pass a proper exit code\n            }\n        };\n        this.send(JSON.stringify(event));\n    }\n\n    protected onDebugAdapterError(error: Error): void {\n        const event: DebugProtocol.Event = {\n            type: 'event',\n            event: 'error',\n            seq: -1,\n            body: error\n        };\n        this.send(JSON.stringify(event));\n    }\n\n    protected handleData(data: Buffer): void {\n        this.buffer = Buffer.concat([this.buffer, data]);\n\n        while (true) {\n            if (this.contentLength >= 0) {\n                if (this.buffer.length >= this.contentLength) {\n                    const message = this.buffer.toString('utf8', 0, this.contentLength);\n                    this.buffer = this.buffer.slice(this.contentLength);\n                    this.contentLength = -1;\n\n                    if (message.length > 0) {\n                        this.send(message);\n                    }\n                    continue;\t// there may be more complete messages to process\n                }\n            } else {\n                let idx = this.buffer.indexOf(DebugAdapterSessionImpl.CONTENT_LENGTH);\n                if (idx > 0) {\n                    // log unrecognized output\n                    const output = this.buffer.slice(0, idx);\n                    console.log(output.toString('utf-8'));\n\n                    this.buffer = this.buffer.slice(idx);\n                }\n\n                idx = this.buffer.indexOf(DebugAdapterSessionImpl.TWO_CRLF);\n                if (idx !== -1) {\n                    const header = this.buffer.toString('utf8', 0, idx);\n                    const lines = header.split('\\r\\n');\n                    for (let i = 0; i < lines.length; i++) {\n                        const pair = lines[i].split(/: +/);\n                        if (pair[0] === DebugAdapterSessionImpl.CONTENT_LENGTH) {\n                            this.contentLength = +pair[1];\n                        }\n                    }\n                    this.buffer = this.buffer.slice(idx + DebugAdapterSessionImpl.TWO_CRLF.length);\n                    continue;\n                }\n            }\n            break;\n        }\n    }\n\n    protected send(message: string): void {\n        if (this.channel) {\n            this.channel.send(message);\n        }\n    }\n\n    protected write(message: string): void {\n        this.communicationProvider.input.write(`Content-Length: ${Buffer.byteLength(message, 'utf8')}\\r\\n\\r\\n${message}`, 'utf8');\n    }\n\n    async stop(): Promise<void> {\n        this.toDispose.dispose();\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { CommunicationProvider, DebugAdapterExecutable } from '@theia/debug/lib/common/debug-model';\nimport { ChildProcess, spawn, fork } from 'child_process';\n\n/**\n * Starts debug adapter process.\n */\nexport function startDebugAdapter(executable: DebugAdapterExecutable): CommunicationProvider {\n    let childProcess: ChildProcess;\n    if ('command' in executable) {\n        const { command, args } = executable;\n        childProcess = spawn(command, args, { stdio: ['pipe', 'pipe', 2] }) as ChildProcess;\n    } else if ('modulePath' in executable) {\n        const { modulePath, args } = executable;\n        childProcess = fork(modulePath, args, { stdio: ['pipe', 'pipe', 2, 'ipc'] });\n    } else {\n        throw new Error(`It is not possible to launch debug adapter with the command: ${JSON.stringify(executable)}`);\n    }\n\n    return {\n        input: childProcess.stdin,\n        output: childProcess.stdout,\n        dispose: () => childProcess.kill()\n    };\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as path from 'path';\nimport { PlatformSpecificAdapterContribution, DebuggerContribution } from '../../../common';\nimport { isWindows, isOSX } from '@theia/core/lib/common/os';\nimport { DebugAdapterExecutable } from '@theia/debug/lib/common/debug-model';\n\n/**\n * Resolves [DebugAdapterExecutable](#DebugAdapterExecutable) based on contribution.\n */\nexport async function resolveDebugAdapterExecutable(pluginPath: string, debuggerContribution: DebuggerContribution): Promise<DebugAdapterExecutable> {\n    const info = toPlatformInfo(debuggerContribution);\n    let program = (info && info.program || debuggerContribution.program);\n    if (!program) {\n        throw new Error('It is not possible to provide debug adapter executable. Program not found.');\n    }\n    program = path.join(pluginPath, program);\n    const programArgs = info && info.args || debuggerContribution.args || [];\n    let runtime = info && info.runtime || debuggerContribution.runtime;\n    if (runtime && runtime.indexOf('./') === 0) {\n        runtime = path.join(pluginPath, runtime);\n    }\n    const runtimeArgs = info && info.runtimeArgs || debuggerContribution.runtimeArgs || [];\n    const command = runtime ? runtime : program;\n    const args = runtime ? [...runtimeArgs, program, ...programArgs] : programArgs;\n    return {\n        command,\n        args\n    };\n}\n\nfunction toPlatformInfo(executable: DebuggerContribution): PlatformSpecificAdapterContribution | undefined {\n    if (isWindows && !process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432')) {\n        return executable.winx86 || executable.win || executable.windows;\n    }\n    if (isWindows) {\n        return executable.win || executable.windows;\n    }\n    if (isOSX) {\n        return executable.osx;\n    }\n    return executable.linux;\n}\n"],"sourceRoot":""}